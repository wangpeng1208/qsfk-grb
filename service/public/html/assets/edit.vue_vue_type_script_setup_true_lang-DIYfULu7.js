import{b as K,e as R}from"./category-CWa6rpq2.js";import{f as U}from"./date-dYGoxvTx.js";import{d as x,e as i,o as F,c as I,w as s,a as o,u as M,M as _}from"./index-CpJFga7x.js";import{I as q}from"./index--0mKpQel.js";import{F as A,a as B}from"./index-jBP3p80B.js";import{R as C}from"./index-D7oq8DY2.js";import{D as E}from"./index-AQEtrbEO.js";const J=[{colKey:"id",title:"ID"},{colKey:"name",title:"名称"},{colKey:"alias",title:"别名"},{colKey:"status",title:"状态"},{colKey:"create_at",title:"添加时间",cell(d,r){return d("span",U(r.row.create_at))}},{colKey:"operate",title:"操作",fixed:"right"}],O=[{label:"正常",value:1},{label:"禁用",value:0}],P={name:"EditPopup"},Q=x({...P,emits:["success"],setup(d,{expose:r,emit:v}){const p={id:0,name:"",alias:"",remark:"",status:1,top:0,type:1,create_at:Date.now()},a=i({...p}),c=i(),n=i(!1),f=i("");r({init:t=>{f.value=(t==null?void 0:t.id)>0?"编辑文章分类":"添加文章分类",a.value=(t==null?void 0:t.id)>0?{...t}:{...p},n.value=!0}});const b={name:[{required:!0,message:"必填",type:"error"}],alias:[{required:!0,message:"必填",type:"error"}]},y=v,V=async()=>{const t=await c.value.validate();if(typeof t!="object"&&t){const e=a.value.id===0?await K(a.value):await R(a.value);e.code===1?(_.success(e.msg),n.value=!1,y("success")):_.error(e.msg)}};return(t,e)=>{const m=q,u=A,g=C,k=B,D=E;return F(),I(D,{visible:n.value,"onUpdate:visible":e[4]||(e[4]=l=>n.value=l),"destroy-on-close":!0,header:f.value,"on-confirm":V},{default:s(()=>[o(k,{ref_key:"formRef",ref:c,"label-align":"left",data:a.value,rules:b,"label-width":60},{default:s(()=>[o(u,{label:"名称",name:"name"},{default:s(()=>[o(m,{modelValue:a.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value.name=l),clearable:"",placeholder:"请输入分类名"},null,8,["modelValue"])]),_:1}),o(u,{label:"别名",name:"alias",tips:"英文别名，方便前台调用"},{default:s(()=>[o(m,{modelValue:a.value.alias,"onUpdate:modelValue":e[1]||(e[1]=l=>a.value.alias=l),clearable:""},null,8,["modelValue"])]),_:1}),o(u,{label:"状态",name:"status"},{default:s(()=>[o(g,{modelValue:a.value.status,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.status=l),options:M(O)},null,8,["modelValue","options"])]),_:1}),o(u,{label:"备注",name:"remark",tips:"简短的文字备注，方便自己记忆"},{default:s(()=>[o(m,{modelValue:a.value.remark,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.remark=l),clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["data"])]),_:1},8,["visible","header"])}}});export{Q as _,J as c};
