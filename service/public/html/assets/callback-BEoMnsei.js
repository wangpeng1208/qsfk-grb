import{d as p,e as f,o,p as c,a as v,g,t as n,u as h,n as l,m as y}from"./index-Bbii3Das.js";import{g as I}from"./order-C3f6_egW.js";import{I as k}from"./index-LB7-EXu2.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"result-success"},x={class:"result-success-title"},B={key:0,class:"result-success-describe"},N={key:1},O={name:"PayResult"},P=p({...O,setup(R){const i=y(),u=window.location.search.slice(1),s=new URLSearchParams(u).get("out_trade_no"),d=async()=>await I({trade_no:s}),e=f({ico:"loading",loading:!1,title:"请稍等。。。"}),a=setInterval(async()=>{if(!s){clearInterval(a);return}const t=await d();if(t.code===0){e.value.ico="close-circle",e.value.loading=!1,e.value.title=t.msg,clearInterval(a);return}t.code===1&&(e.value={ico:"check-circle",loading:!1,title:"支付成功"},clearInterval(a),setTimeout(()=>{_(t.data.path,{orderId:s})},2e3))},2e3),_=(t,r={})=>{i.push({path:t,query:r})};return(t,r)=>{const m=k;return o(),c("div",S,[v(m,{class:"result-success-icon",name:e.value.ico},null,8,["name"]),g("div",x,n(e.value.title),1),e.value.loading?(o(),c("div",B,"订单号："+n(h(s)),1)):l("",!0),e.value.loading?(o(),c("div",N,"正在为您跳转")):l("",!0)])}}}),E=w(P,[["__scopeId","data-v-ef95dec2"]]);export{E as default};
