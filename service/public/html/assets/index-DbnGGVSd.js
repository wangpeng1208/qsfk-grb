import{d as Xe,l as B,au as bn,av as mn,aw as wn,C as Hn,e as $,U as ve,v as _t,bp as uo,bq as so,ap as ya,a as N,L as Wt,N as De,aQ as Se,br as co,aP as Te,T as hn,ad as Wn,bs as cr,bj as ml,bt as vo,_ as z,a3 as yn,a5 as Ae,O as Ye,aB as ft,aa as Mn,r as Qa,X as fo,a9 as We,bu as ho,bn as Ba,bv as go,bw as wl,b2 as po,aq as H,bx as bo,by as mo,bz as wo,b6 as yo,b4 as Co,b5 as xo,E as bt,Q as ke,ar as So,Z as za,bA as Oo,bB as dr,ba as Ro,a2 as yl,$ as de,G as Cn,D as Eo,B as da,a6 as Ca,W as Da,Y as Do,bC as _o,a4 as er,ac as To,aX as Cl,bD as Po,bE as Ao,bF as Fo,aT as Ko}from"./index-Dys89YLq.js";import{p as vn}from"./dep-02de0cb4-_xWusXWA.js";import{d as tr}from"./dep-96cefb8b-CiB99TH1.js";import{T as xl}from"./index-BT8Ia4HF.js";import{_ as Io}from"./dep-eedf0c29-ErImML_u.js";import{_ as jo,b as Lo,i as va,a as Ha,C as Sl}from"./index-BTVA41u8.js";import{l as Ne}from"./log-ZJhmUOBa.js";import{a as No}from"./index-Dka09D2p.js";import{u as ko}from"./useVirtualScrollNew-B7BxRQci.js";import{o as Ol}from"./observe-CfjnoQGd.js";import{u as Mo}from"./useCommonClassName-BZA0SnO7.js";import{_ as Bo,r as vr}from"./dep-86139c71-BioGcMu7.js";import{i as Fn}from"./dep-d524834c-s9Vwwbzr.js";import{u as Lt}from"./useDefaultValue-pk1y0m3m.js";import{A as Rl,a as El,S as Wa,b as fr,c as Dl,d as _l,e as Tl}from"./common-CF_MvV9u.js";import{t as zo}from"./dep-af55fe23-hzblXEZ8.js";import{b as Ho,R as Wo}from"./index-Q2T2ZnL7.js";import{c as $o}from"./number-B3LVzGws.js";import{P as Vo}from"./index-CjM8dnKg.js";import{I as Xo,_ as Uo}from"./index-k_yBcVp0.js";import{_ as Go}from"./dep-1858b432-DPK9DfHI.js";import{s as Bn,v as Pl}from"./form-model-CIY_RhMw.js";function hr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function gr(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?hr(Object(a),!0).forEach(function(n){wn(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):hr(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}var Yo={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 2h20v20H2V2zm2 2v16h16V4H4zm9 2.5V11h4.5v2H13v4.5h-2V13H6.5v-2H11V6.5h2z"}}]},qo=Xe({name:"AddRectangleIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:a}=e,n=B(()=>t.size),{className:r,style:l}=bn(n),o=B(()=>["t-icon","t-icon-add-rectangle",r.value]),i=B(()=>gr(gr({},l.value),a.style)),u=B(()=>({class:o.value,style:i.value,onClick:s=>{var v;return(v=t.onClick)===null||v===void 0?void 0:v.call(t,{e:s})}}));return()=>mn(Yo,u.value)}});function pr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function br(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?pr(Object(a),!0).forEach(function(n){wn(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):pr(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}var Jo={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 3a9 9 0 100 18 9 9 0 000-18zM1 12a11 11 0 1122 0 11 11 0 01-22 0zm9.5-5.41L15.91 12l-5.41 5.41L9.09 16l4-4-4-4 1.41-1.41z"}}]},Zo=Xe({name:"ChevronRightCircleIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:a}=e,n=B(()=>t.size),{className:r,style:l}=bn(n),o=B(()=>["t-icon","t-icon-chevron-right-circle",r.value]),i=B(()=>br(br({},l.value),a.style)),u=B(()=>({class:o.value,style:i.value,onClick:s=>{var v;return(v=t.onClick)===null||v===void 0?void 0:v.call(t,{e:s})}}));return()=>mn(Jo,u.value)}});function mr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function wr(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?mr(Object(a),!0).forEach(function(n){wn(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):mr(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}var Qo={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M16.83 1.42l5.75 5.75L7.75 22H2v-5.75L16.83 1.42zm0 8.68l2.92-2.93-2.92-2.93-2.93 2.93 2.93 2.93zm-4.34-1.51L4 17.07V20h2.93l8.48-8.49L12.5 8.6z"}}]},ei=Xe({name:"Edit1Icon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:a}=e,n=B(()=>t.size),{className:r,style:l}=bn(n),o=B(()=>["t-icon","t-icon-edit-1",r.value]),i=B(()=>wr(wr({},l.value),a.style)),u=B(()=>({class:o.value,style:i.value,onClick:s=>{var v;return(v=t.onClick)===null||v===void 0?void 0:v.call(t,{e:s})}}));return()=>mn(Qo,u.value)}});function yr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function Cr(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?yr(Object(a),!0).forEach(function(n){wn(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):yr(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}var ti={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2.57 3h18.86l-6.93 9.82V21h-5v-8.18L2.57 3zm3.86 2l5.07 7.18V19h1v-6.82L17.57 5H6.43z"}}]},ni=Xe({name:"FilterIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:a}=e,n=B(()=>t.size),{className:r,style:l}=bn(n),o=B(()=>["t-icon","t-icon-filter",r.value]),i=B(()=>Cr(Cr({},l.value),a.style)),u=B(()=>({class:o.value,style:i.value,onClick:s=>{var v;return(v=t.onClick)===null||v===void 0?void 0:v.call(t,{e:s})}}));return()=>mn(ti,u.value)}});function xr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function Sr(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?xr(Object(a),!0).forEach(function(n){wn(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):xr(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}var ai={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 2h20v20H2V2zm2 2v16h16V4H4zm2.5 7h11v2h-11v-2z"}}]},ri=Xe({name:"MinusRectangleIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:a}=e,n=B(()=>t.size),{className:r,style:l}=bn(n),o=B(()=>["t-icon","t-icon-minus-rectangle",r.value]),i=B(()=>Sr(Sr({},l.value),a.style)),u=B(()=>({class:o.value,style:i.value,onClick:s=>{var v;return(v=t.onClick)===null||v===void 0?void 0:v.call(t,{e:s})}}));return()=>mn(ai,u.value)}});function Or(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function Rr(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Or(Object(a),!0).forEach(function(n){wn(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Or(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}var li={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 .85l9.66 5.57v11.16L12 23.15l-9.66-5.57V6.42L12 .85zm0 2.3L4.34 7.58v8.84L12 20.85l7.66-4.43V7.58L12 3.15zM12 9a3 3 0 100 6 3 3 0 000-6zm-5 3a5 5 0 1110 0 5 5 0 01-10 0z"}}]},oi=Xe({name:"SettingIcon",props:{size:{type:String},onClick:{type:Function}},setup(t,e){var{attrs:a}=e,n=B(()=>t.size),{className:r,style:l}=bn(n),o=B(()=>["t-icon","t-icon-setting",r.value]),i=B(()=>Rr(Rr({},l.value),a.style)),u=B(()=>({class:o.value,style:i.value,onClick:s=>{var v;return(v=t.onClick)===null||v===void 0?void 0:v.call(t,{e:s})}}));return()=>mn(li,u.value)}});/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */var ii={container:{type:[String,Function],default:function(){return function(){return window}}},content:{type:[String,Function]},default:{type:[String,Function]},offsetBottom:{type:Number,default:0},offsetTop:{type:Number,default:0},zIndex:{type:Number},onFixedChange:Function};/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */var ui=Xe({name:"TAffix",props:ii,emits:["fixedChange"],setup:function(e,a){var n,r=Hn("affix"),l=Wt(),o=$(null),i=$(null),u=$((n=document)===null||n===void 0?void 0:n.createElement("div")),s=$(!1),v=$(!1),d=$(),g=$(),p=0,m=function(){s.value||(p=window.requestAnimationFrame(function(){var O,S;p=0;var _=(O=(S=o.value)===null||S===void 0?void 0:S.getBoundingClientRect())!==null&&O!==void 0?O:{top:0,width:0,height:0},F=_.top,A=_.width,P=_.height,I=0;d.value instanceof HTMLElement&&(I=d.value.getBoundingClientRect().top);var D,j=F-I,T=d.value[d.value instanceof Window?"innerHeight":"clientHeight"]-P,y=I+T-e.offsetBottom;if(!Fn(e.offsetTop)&&j<=e.offsetTop?D=I+e.offsetTop:!Fn(e.offsetBottom)&&F>=y?D=y:D=!1,i.value){var h=D!==!1,b=o.value.contains(u.value);h?(i.value.className=r.value,g.value={top:"".concat(D,"px"),width:"".concat(A,"px"),height:"".concat(P,"px"),zIndex:e.zIndex},b||(u.value.style.width="".concat(A,"px"),u.value.style.height="".concat(P,"px"),o.value.appendChild(u.value))):(i.value.removeAttribute("class"),g.value=void 0,b&&u.value.remove()),a.emit("fixedChange",h,{top:Number(D)}),De(e.onFixedChange)&&e.onFixedChange(h,{top:Number(D)})}s.value=!1}),s.value=!0)},w=function(){var C=Bo(vr.mark(function O(){return vr.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,hn();case 2:if(!v.value){_.next=4;break}return _.abrupt("return");case 4:d.value=co(e.container),Te(d.value,"scroll",m),Te(window,"resize",m),v.value=!0;case 8:case"end":return _.stop()}},O)}));return function(){return C.apply(this,arguments)}}(),R=function(){!d.value||!v.value||(Se(d.value,"scroll",m),Se(window,"resize",m),p&&window.cancelAnimationFrame(p),v.value=!1)};return ve(function(){return e.offsetTop},function(){m()}),ve(function(){return e.offsetBottom},function(){m()}),ve(function(){return e.zIndex},function(){m()}),_t(w),uo(w),so(R),ya(R),{affixWrapRef:o,affixRef:i,bindScroll:w,unbindScroll:R,handleScroll:m,scrollContainer:d,renderTNodeJSX:l,affixStyle:g}},render:function(){return N("div",{ref:"affixWrapRef"},[N("div",{ref:"affixRef",style:this.affixStyle},[this.renderTNodeJSX("default")])])}});/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */var Un=Wn(ui);/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */var gn={activeRowKeys:{type:Array,default:void 0},defaultActiveRowKeys:{type:Array,default:function(){return[]}},activeRowType:{type:String,default:""},allowResizeColumnWidth:{type:Boolean,default:void 0},attach:{type:[String,Function]},bordered:Boolean,bottomContent:{type:[String,Function]},cellEmptyContent:{type:[String,Function]},columns:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},disableDataPage:Boolean,disableSpaceInactiveRow:{type:Boolean,default:void 0},empty:{type:[String,Function],default:""},firstFullRow:{type:[String,Function]},fixedRows:{type:Array},footData:{type:Array,default:function(){return[]}},footerAffixProps:{type:Object},footerAffixedBottom:{type:[Boolean,Object],default:!1},footerSummary:{type:[String,Function]},headerAffixProps:{type:Object},headerAffixedTop:{type:[Boolean,Object],default:!1},height:{type:[String,Number]},horizontalScrollAffixedBottom:{type:[Boolean,Object]},hover:Boolean,keyboardRowHover:{type:Boolean,default:!0},lastFullRow:{type:[String,Function]},lazyLoad:Boolean,loading:{type:[Boolean,Function],default:void 0},loadingProps:{type:Object},locale:{type:Object},maxHeight:{type:[String,Number]},pagination:{type:Object},paginationAffixedBottom:{type:[Boolean,Object]},resizable:Boolean,rowAttributes:{type:[Object,Array,Function]},rowClassName:{type:[String,Object,Array,Function]},rowKey:{type:String,default:"id",required:!0},rowspanAndColspan:{type:Function},rowspanAndColspanInFooter:{type:Function},scroll:{type:Object},showHeader:{type:Boolean,default:!0},size:{type:String,validator:function(e){return e?["small","medium","large"].includes(e):!0}},stripe:Boolean,tableContentWidth:{type:String,default:""},tableLayout:{type:String,default:"fixed",validator:function(e){return e?["auto","fixed"].includes(e):!0}},topContent:{type:[String,Function]},verticalAlign:{type:String,default:"middle",validator:function(e){return e?["top","middle","bottom"].includes(e):!0}},onActiveChange:Function,onActiveRowAction:Function,onCellClick:Function,onColumnResizeChange:Function,onPageChange:Function,onRowClick:Function,onRowDblclick:Function,onRowMousedown:Function,onRowMouseenter:Function,onRowMouseleave:Function,onRowMouseover:Function,onRowMouseup:Function,onScroll:Function,onScrollX:Function,onScrollY:Function};/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function Al(t,e){for(var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,n=a,r=0,l=t.length;r<l;r++){var o,i=t[r];if(e.set(i,a),i!=null&&(o=i.children)!==null&&o!==void 0&&o.length){var u=Al(i.children,e,a+1);u>n&&(n=u)}}return n}function Fl(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=e,n=(t==null?void 0:t.children)||[],r=0,l=n.length;r<l;r++){var o=n[r];o.children?a=Fl(o,a):a+=1}return a}function si(t){var e=new Map,a=Al(t,e),n=new Map,r=function(i,u){for(var s=0,v=i.length;s<v;s++){var d,g=i[s],p=g.children?1:a-e.get(g)+1,m=g.children?Fl(g):1,w={};p>1&&(w.rowspan=p),m>1&&(w.colspan=m),n.set(g,w),g!=null&&(d=g.children)!==null&&d!==void 0&&d.length?r(g.children,u):u.push(g)}},l=[];return r(t,l),{rowspanAndColspanMap:n,leafColumns:l}}function ci(t){var e=function(r,l){for(var o,i=[],u=[],s=0,v=r.length;s<v;s++){var d,g=r[s],p=[g];i=i.concat(p),g!=null&&(d=g.children)!==null&&d!==void 0&&d.length&&(u=u.concat(g.children))}return(o=u)!==null&&o!==void 0&&o.length&&e(u,l),l.push(i),i},a=[];return e(t,a),a=a.reverse(),a}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function it(){var t=Hn(),e={classPrefix:t.value,tableBaseClass:{table:"".concat(t.value,"-table"),columnResizableTable:"".concat(t.value,"-table--column-resizable"),overflowVisible:"".concat(t.value,"-table--overflow-visible"),body:"".concat(t.value,"-table__body"),content:"".concat(t.value,"-table__content"),topContent:"".concat(t.value,"-table__top-content"),bottomContent:"".concat(t.value,"-table__bottom-content"),paginationWrap:"".concat(t.value,"-table__pagination-wrap"),tdLastRow:"".concat(t.value,"-table__td-last-row"),tdFirstCol:"".concat(t.value,"-table__td-first-col"),thCellInner:"".concat(t.value,"-table__th-cell-inner"),tableRowEdit:"".concat(t.value,"-table--row-edit"),cellEditable:"".concat(t.value,"-table__cell--editable"),cellEditWrap:"".concat(t.value,"-table__cell-wrap"),bordered:"".concat(t.value,"-table--bordered"),striped:"".concat(t.value,"-table--striped"),hover:"".concat(t.value,"-table--hoverable"),loading:"".concat(t.value,"-table--loading"),rowspanAndColspan:"".concat(t.value,"-table--rowspan-colspan"),empty:"".concat(t.value,"-table__empty"),emptyRow:"".concat(t.value,"-table__empty-row"),headerFixed:"".concat(t.value,"-table--header-fixed"),columnFixed:"".concat(t.value,"-table--column-fixed"),widthOverflow:"".concat(t.value,"-table--width-overflow"),multipleHeader:"".concat(t.value,"-table--multiple-header"),footerAffixed:"".concat(t.value,"-table--footer-affixed"),horizontalBarAffixed:"".concat(t.value,"-table--horizontal-bar-affixed"),affixedHeader:"".concat(t.value,"-table--affixed-header"),affixedHeaderElm:"".concat(t.value,"-table__affixed-header-elm"),affixedFooterElm:"".concat(t.value,"-table__affixed-footer-elm"),affixedFooterWrap:"".concat(t.value,"-table__affixed-footer-wrap"),scrollbarDivider:"".concat(t.value,"-table__scroll-bar-divider"),fullHeight:"".concat(t.value,"-table--full-height"),resizeLine:"".concat(t.value,"-table__resize-line"),obviousScrollbar:"".concat(t.value,"-table__scrollbar--obvious"),affixedHeaderWrap:"".concat(t.value,"-table__affixed-header-elm-wrap")},tdAlignClasses:{left:"".concat(t.value,"-align-left"),right:"".concat(t.value,"-align-right"),center:"".concat(t.value,"-align-center")},tableHeaderClasses:{header:"".concat(t.value,"-table__header"),thBordered:"".concat(t.value,"-table__header-th--bordered"),fixed:"".concat(t.value,"-table__header--fixed"),multipleHeader:"".concat(t.value,"-table__header--multiple")},tableFooterClasses:{footer:"".concat(t.value,"-table__footer"),fixed:"".concat(t.value,"-table__footer--fixed")},tableAlignClasses:{top:"".concat(t.value,"-vertical-align-top"),middle:"".concat(t.value,"-vertical-align-middle"),bottom:"".concat(t.value,"-vertical-align-bottom")},tableRowFixedClasses:{top:"".concat(t.value,"-table__row--fixed-top"),bottom:"".concat(t.value,"-table__row--fixed-bottom"),firstBottom:"".concat(t.value,"-table__row--fixed-bottom-first"),withoutBorderBottom:"".concat(t.value,"-table__row--without-border-bottom")},tableColFixedClasses:{left:"".concat(t.value,"-table__cell--fixed-left"),right:"".concat(t.value,"-table__cell--fixed-right"),lastLeft:"".concat(t.value,"-table__cell--fixed-left-last"),firstRight:"".concat(t.value,"-table__cell--fixed-right-first"),leftShadow:"".concat(t.value,"-table__content--scrollable-to-left"),rightShadow:"".concat(t.value,"-table__content--scrollable-to-right")},tableLayoutClasses:{auto:"".concat(t.value,"-table--layout-auto"),fixed:"".concat(t.value,"-table--layout-fixed")},tdEllipsisClass:"".concat(t.value,"-table-td--ellipsis"),tableFullRowClasses:{base:"".concat(t.value,"-table__row--full"),innerFullRow:"".concat(t.value,"-table__row-full-inner"),innerFullElement:"".concat(t.value,"-table__row-full-element"),firstFullRow:"".concat(t.value,"-table__first-full-row"),lastFullRow:"".concat(t.value,"-table__last-full-row")},tableExpandClasses:{iconBox:"".concat(t.value,"-table__expand-box"),iconCell:"".concat(t.value,"-table__expandable-icon-cell"),row:"".concat(t.value,"-table__expanded-row"),rowInner:"".concat(t.value,"-table__expanded-row-inner"),expanded:"".concat(t.value,"-table__row--expanded"),collapsed:"".concat(t.value,"-table__row--collapsed")},tableSortClasses:{sortable:"".concat(t.value,"-table__cell--sortable"),sortColumn:"".concat(t.value,"-table__sort-column"),title:"".concat(t.value,"-table__cell--title"),trigger:"".concat(t.value,"-table__cell--sort-trigger"),doubleIcon:"".concat(t.value,"-table__double-icons"),sortIcon:"".concat(t.value,"-table__sort-icon"),iconDirection:{asc:"".concat(t.value,"-table-sort-asc"),desc:"".concat(t.value,"-table-sort-desc")},iconActive:"".concat(t.value,"-table__sort-icon--active"),iconDefault:"".concat(t.value,"-icon-sort--default")},tableSelectedClasses:{selected:"".concat(t.value,"-table__row--selected"),disabled:"".concat(t.value,"-table__row--disabled"),checkCell:"".concat(t.value,"-table__cell-check")},tableFilterClasses:{filterable:"".concat(t.value,"-table__cell--filterable"),popup:"".concat(t.value,"-table__filter-pop"),icon:"".concat(t.value,"-table__filter-icon"),popupContent:"".concat(t.value,"-table__filter-pop-content"),result:"".concat(t.value,"-table__filter-result"),inner:"".concat(t.value,"-table__row-filter-inner"),bottomButtons:"".concat(t.value,"-table__filter--bottom-buttons"),contentInner:"".concat(t.value,"-table__filter-pop-content-inner"),iconWrap:"".concat(t.value,"-table__filter-icon-wrap")},asyncLoadingClass:"".concat(t.value,"-table__async-loading"),isFocusClass:"".concat(t.value,"-is-focus"),isLoadingClass:"".concat(t.value,"-is-loading"),isLoadMoreClass:"".concat(t.value,"-is-load-more"),tableTreeClasses:{col:"".concat(t.value,"-table__tree-col"),inlineCol:"".concat(t.value,"-table__tree-col--inline"),icon:"".concat(t.value,"-table__tree-op-icon"),leafNode:"".concat(t.value,"-table__tree-leaf-node")},tableDraggableClasses:{rowDraggable:"".concat(t.value,"-table--row-draggable"),rowHandlerDraggable:"".concat(t.value,"-table--row-handler-draggable"),colDraggable:"".concat(t.value,"-table--col-draggable"),handle:"".concat(t.value,"-table__handle-draggable"),ghost:"".concat(t.value,"-table__ele--draggable-ghost"),chosen:"".concat(t.value,"-table__ele--draggable-chosen"),dragging:"".concat(t.value,"-table__ele--draggable-dragging"),dragSortTh:"".concat(t.value,"-table__th--drag-sort")},virtualScrollClasses:{cursor:"".concat(t.value,"-table__virtual-scroll-cursor"),header:"".concat(t.value,"-table__virtual-scroll-header")},positiveRotate90:"".concat(t.value,"-positive-rotate-90"),negativeRotate180:"".concat(t.value,"-negative-rotate-180")};return e}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function Er(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function di(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Er(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Er(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function vi(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!yn(t)}var nr=Xe({name:"TEllipsis",props:{content:{type:[String,Function]},default:{type:[String,Function]},tooltipContent:{type:[String,Number,Function]},placement:String,attach:[String,Function],tooltipProps:Object,zIndex:Number,overlayClassName:String,classPrefix:{type:String,default:"t"}},setup:function(e){var a=$(),n=$(!1),r=$(!1),l=B(function(){return["".concat(e.classPrefix,"-table__ellipsis"),"".concat(e.classPrefix,"-text-ellipsis")]}),o=B(function(){return["".concat(e.classPrefix,"-table__ellipsis-content"),e.overlayClassName]});_t(function(){r.value=cr(a.value)}),ml(function(){r.value=cr(a.value)});var i=function(){a.value&&(n.value=!0)},u=function(){a.value},s=function(g){g||(n.value=!1)},v=tr(function(d){d.type==="mouseleave"?u():i()},80);return{flag:n,root:a,isOverflow:r,ellipsisClasses:l,innerEllipsisClassName:o,onMouseAround:v,handleVisibleChange:s}},render:function(){var e=vo(this,"default","content"),a=N("div",{ref:"root",class:this.ellipsisClasses,onMouseenter:this.onMouseAround,onMouseleave:this.onMouseAround,style:{textOverflow:this.isOverflow?"ellipsis":"clip"}},[e]),n=null,r=this.tooltipProps;if(this.isOverflow&&this.flag){var l=di({content:this.tooltipContent||function(){return e},destroyOnClose:!0,zIndex:this.zIndex,attach:this.attach,placement:this.placement,overlayClassName:r!=null&&r.overlayClassName?this.innerEllipsisClassName.concat(r.overlayClassName):this.innerEllipsisClassName,onVisibleChange:this.handleVisibleChange},r);n=N(xl,l,vi(a)?a:{default:function(){return[a]}})}else n=a;return n}});/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function Dr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function _r(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Dr(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Dr(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function fi(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!yn(t)}function xa(t,e,a){var n={col:e,colIndex:a};return De(e.title)?e.title(Ye,n):Mn(e.title)&&t[e.title]?t[e.title](n):De(e.render)&&e.render(Ye,_r(_r({},n),{},{type:"title",row:{},rowIndex:-1}))||e.title}function Kl(t){var e=it(),a=e.tableSortClasses,n=e.tableFilterClasses,r=B(function(){return si(t.columns)}),l=B(function(){return ci(t.columns)}),o=B(function(){return l.value.length>1}),i=function(s,v,d,g,p,m){var w=Ae(s,3),R=w[0],C=w[1],O=w[2],S=z(z({},a.sortable,C),n.filterable,O),_=De(g)?g(Ye,{col:v,colIndex:d}):void 0,F=g!==void 0?!!g:!!v.ellipsis;return N("div",{class:S},[N("div",{class:a.title},[F?N(nr,{placement:"bottom",attach:t.attach||(p?function(){return p}:void 0),tooltipContent:_&&function(){return _},tooltipProps:ft(g)==="object"?g:void 0,classPrefix:m==null?void 0:m.classPrefix,overlayClassName:m==null?void 0:m.ellipsisOverlayClassName},fi(R)?R:{default:function(){return[R]}}):N("div",null,[R]),!!(C||O)&&N("div",{class:n.iconWrap},[C,O])])])};return{thList:l,isMultipleHeader:o,spansAndLeafNodes:r,renderTitleWidthIcon:i}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function Tr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function hi(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Tr(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Tr(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}var gi=80,pi=600,Pr=8;function bi(t){var e=t.isWidthOverflow,a=t.tableContentRef,n=t.showColumnShadow,r=t.getThWidthList,l=t.updateThWidthList,o=t.setTableElmWidth,i=t.updateTableAfterColumnResize,u=t.onColumnResizeChange,s=$(),v=$({}),d=$([]),g,p;_t(function(){var y=typeof document<"u";g=y?document.onselectstart:null,p=y?document.ondragstart:null});var m=function(h,b,c){for(var f=b;h[f]&&h[f].resizable===!1;)c==="next"?f+=1:f-=1;return h[f]},w=function(h,b){h&&(d.value=h,h.forEach(function(c,f){var x=m(h,f-1,"prev"),E=m(h,f+1,"next"),L=b?v.value[b.colKey].prev:E,K=b?v.value[b.colKey].next:x,M=f===0?L:x,W=f===h.length-1?K:E;v.value[c.colKey]={prev:M,next:W,current:{prevSibling:m(h,f-1,"prev"),nextSibling:m(h,f+1,"next")}},w(c.children,c)}))},R={isDragging:!1,draggingCol:null,draggingStart:0,effectCol:"next"},C=Qa({display:"none",height:"10px",left:"10px",bottom:"0"}),O=function(h){return h.fixed==="right"&&n.right},S=function(h,b){if(!(!s.value||R.isDragging||!h.target)){var c=h.target.closest("th"),f=c.getAttribute("data-colkey");if(d.value.find(function(U){return U.colKey===f})){var x=c.getBoundingClientRect(),E=x.right-h.pageX<=Pr,L=h.pageX-x.left<=Pr,K=O(b);if(E||K){var M,W=(M=b.resizable)!==null&&M!==void 0?M:!0;if(W){c.style.cursor=E||K&&L?"col-resize":"";var Y=E&&!K||K&&L;R.draggingCol=Y?c:c.nextElementSibling,R.effectCol="next";return}}else if(L){var ee=c.previousElementSibling;if(ee){var ae,ne,Q=(ae=v.value[b.colKey])===null||ae===void 0?void 0:ae.prev,k=(ne=Q==null?void 0:Q.resizable)!==null&&ne!==void 0?ne:!0;if(k){c.style.cursor="col-resize",R.draggingCol=ee,R.effectCol="prev";return}}}c.style.cursor="",R.draggingCol=null,R.effectCol=null}}},_=function(h){var b,c,f=fo(h.minWidth)?h.minWidth:parseInt(h.minWidth||"0",10);return{minColWidth:Math.max(((b=h.resize)===null||b===void 0?void 0:b.minWidth)||gi,f),maxColWidth:((c=h.resize)===null||c===void 0?void 0:c.maxWidth)||pi}},F=function(h,b,c,f){var x=c.right-f.left,E=c.left-f.left,L=R.effectCol==="next"?h:b,K=_(L),M=K.minColWidth,W=K.maxColWidth;return{resizeLinePos:x,minResizeLineLeft:E+M,maxResizeLineLeft:E+W}},A=function(h,b,c,f,x){var E=f.left-x.left,L=h.dataset.colkey===b.colKey?b:c,K=f.left-x.left,M=_(L),W=M.minColWidth,Y=M.maxColWidth;return{resizeLinePos:E,minResizeLineLeft:K+(f.width-Y),maxResizeLineLeft:K+(f.width-W)}},P=function(h,b){var c=h.left-b.left,f=h.left-b.left;return{resizeLinePos:c,minResizeLineLeft:f,maxResizeLineLeft:f}},I=function(h){var b=0;return d.value.forEach(function(c){b+=h[c.colKey]}),b},D=function(h,b,c,f){var x=!0;if(b){var E=_(b),L=E.minColWidth,K=E.maxColWidth,M=h[b.colKey]+c;x=M<L||M>K}return!(x||e.value||f===d.value.length-1)},j=function(h,b,c,f){return b?F(h,b,c,f):P(c,f)},T=function(h,b,c){var f,x,E;if(R.draggingCol){var L=R.draggingCol,K=L.getBoundingClientRect(),M=(f=a.value)===null||f===void 0?void 0:f.getBoundingClientRect(),W=(x=v.value[b.colKey])===null||x===void 0?void 0:x.next,Y=(E=v.value[b.colKey])===null||E===void 0?void 0:E.prev,ee=O(b)?A(L,b,W,K,M):j(b,W,K,M),ae=ee.resizeLinePos,ne=ee.minResizeLineLeft,Q=ee.maxResizeLineLeft;if(R.isDragging=!0,R.draggingStart=h.x,s!=null&&s.value){C.display="block",C.height="".concat(M.bottom-K.top,"px"),C.left="".concat(ae,"px");var k=a.value.parentElement.getBoundingClientRect();C.bottom="".concat(k.bottom-M.bottom,"px")}var U=function(){var ce;if(R.isDragging){var fe=ae-parseFloat(C.left)||0,Fe=r("calculate"),Me=(ce=v.value[b.colKey])===null||ce===void 0?void 0:ce.current;if(Me){var Ue=R.effectCol==="next"?Me.nextSibling:Me.prevSibling,je=hi({},Fe),nt=b.resizable!==!1?b:Ue,ut=R.effectCol==="next"?Me.nextSibling:b,st=D(je,ut,fe,c);R.effectCol==="next"?O(b)?L.dataset.colkey!==b.colKey?je[W.colKey]+=fe:je[nt.colKey]+=fe:(je[nt.colKey]-=fe,st&&(je[W.colKey]+=fe)):R.effectCol==="prev"&&(st&&(je[nt.colKey]+=fe),Y&&(je[Y.colKey]-=fe)),l(je);var Tt=I(je);o(Math.round(Tt)),i(),R.isDragging=!1,R.draggingCol=null,R.effectCol=null,L.style.cursor="",C.display="none",C.left="0",Se(document,"mouseup",U),Se(document,"mousemove",q),document.onselectstart=g,document.ondragstart=p,u==null||u({columnsWidth:je})}}},q=function(ce){if(R.isDragging){var fe=ae+ce.x-R.draggingStart;C.left="".concat(Math.min(Math.max(fe,ne),Q),"px")}};Te(document,"mouseup",U),Te(document,"mousemove",q),document.onselectstart=function(){return!1},document.ondragstart=function(){return!1}}};return{resizeLineRef:s,resizeLineStyle:C,onColumnMouseover:S,onColumnMousedown:T,setEffectColMap:w}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function mi(){}var wi=mi,_a=go,yi=wi,Ci=wl,xi=1/0,Si=_a&&1/Ci(new _a([,-0]))[1]==xi?function(t){return new _a(t)}:yi,Oi=Si,Ri=Co,Ei=jo,Di=Lo,_i=xo,Ti=Oi,Pi=wl,Ai=200;function Fi(t,e,a){var n=-1,r=Ei,l=t.length,o=!0,i=[],u=i;if(a)o=!1,r=Di;else if(l>=Ai){var s=e?null:Ti(t);if(s)return Pi(s);o=!1,r=_i,u=new Ri}else u=e?[]:i;e:for(;++n<l;){var v=t[n],d=e?e(v):v;if(v=a||v!==0?v:0,o&&d===d){for(var g=u.length;g--;)if(u[g]===d)continue e;e&&u.push(d),i.push(v)}else r(u,d,a)||(u!==i&&u.push(d),i.push(v))}return i}var Ki=Fi,Ii=Io,ji=wo,Ar=Ki;function Li(t,e,a){var n=t.length;if(n<2)return n?Ar(t[0]):[];for(var r=-1,l=Array(n);++r<n;)for(var o=t[r],i=-1;++i<n;)i!=r&&(l[r]=Ii(l[r]||o,t[i],e,a));return Ar(ji(l,1),e,a)}var Ni=Li,ki=bo,Mi=po,Bi=Ni,zi=yo,Hi=mo,Wi=Mi(function(t){var e=Hi(t);return e=typeof e=="function"?e:void 0,Bi(ki(t,zi),void 0,e)}),$i=Wi;function Fr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function ln(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Fr(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Fr(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function ar(t,e,a,n){var r=a==null?void 0:a.get(t.colKey||e);if(!r)return{};var l=z(z(z(z({},n.left,t.fixed==="left"),n.right,t.fixed==="right"),n.lastLeft,t.fixed==="left"&&r.lastLeftFixedCol),n.firstRight,t.fixed==="right"&&r.firstRightFixedCol),o={left:t.fixed==="left"?"".concat(r.left,"px"):void 0,right:t.fixed==="right"?"".concat(r.right,"px"):void 0};return{style:o,classes:l}}function Vi(t,e,a,n,r,l){var o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0;if(!n||!n.length)return{style:void 0,classes:void 0};var i=e<n[0],u=e>a-1-n[1],s=a-n[1],v=(r==null?void 0:r.get(t))||{},d=z(z(z(z({},l.top,i),l.bottom,u),l.firstBottom,e===s),l.withoutBorderBottom,e===s-1),g={top:i?"".concat(v.top-o,"px"):void 0,bottom:u?"".concat(v.bottom+o,"px"):void 0};return{style:g,classes:d}}function Xi(t,e,a,n){var r=We(t),l=r.columns,o=r.tableLayout,i=r.tableContentWidth,u=r.fixedRows,s=r.firstFullRow,v=r.lastFullRow,d=r.maxHeight,g=r.headerAffixedTop,p=r.footerAffixedBottom,m=r.bordered,w=r.resizable,R=r.allowResizeColumnWidth,C=$([]),O=$(),S=$(),_=$(!1),F=$(!1),A=$(),P=$(6),I=$(new Map),D=Qa({left:!1,right:!1}),j=$({left:0,top:0}),T=$(0),y=$(0),h=$({}),b=$(!1),c=$(!1),f=$(!1),x=B(function(){var re,V;return(re=(V=R.value)!==null&&V!==void 0?V:w.value)!==null&&re!==void 0?re:!1}),E=B(function(){var re;return!(t.headerAffixedTop||t.footerAffixedBottom||t.horizontalScrollAffixedBottom||((re=t.scroll)===null||re===void 0?void 0:re.type)==="virtual")});function L(re){A.value=re}function K(re){for(var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Map,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],J=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,te=arguments.length>4?arguments[4]:void 0,oe=0,he=re.length;oe<he;oe++){var pe,ue=re[oe];["left","right"].includes(ue.fixed)&&(b.value=!0),ue.fixed==="right"&&(c.value=!0),ue.fixed==="left"&&(f.value=!0);var we=ue.colKey||oe,xe={col:ue,parent:te,index:oe};V.set(we,xe),(pe=ue.children)!==null&&pe!==void 0&&pe.length&&K(ue.children,V,G,J+1,xe),G[J]?G[J].push(xe):G[J]=[xe]}return{newColumnsMap:V,levelNodes:G}}var M=function(V,G){for(var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},te=0,oe=V.length;te<oe;te++){var he,pe=V[te];if(pe.fixed==="right")return;for(var ue=G.get(pe.colKey||te),we=te-1;we>=0&&V[we].fixed!=="left";)we-=1;var xe=V[we],_e=te===0&&(J==null?void 0:J.left)||0,Be=G.get((xe==null?void 0:xe.colKey)||te-1);ue&&(ue.left=((Be==null?void 0:Be.left)||_e)+((Be==null?void 0:Be.width)||0)),(he=pe.children)!==null&&he!==void 0&&he.length&&M(pe.children,G,ue)}},W=function(V,G){for(var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},te=V.length-1;te>=0;te--){var oe,he=V[te];if(he.fixed==="left")return;for(var pe=G.get(he.colKey||te),ue=te+1;ue<V.length&&V[ue].fixed!=="right";)ue+=1;var we=V[ue],xe=te===V.length-1&&(J==null?void 0:J.right)||0,_e=G.get((we==null?void 0:we.colKey)||te+1);pe&&(pe.right=((_e==null?void 0:_e.right)||xe)+((_e==null?void 0:_e.width)||0)),(oe=he.children)!==null&&oe!==void 0&&oe.length&&W(he.children,G,pe)}},Y=function(V,G){if(V){for(var J=0,te=V.length;J<te;J++)for(var oe=V[J].children,he=0,pe=oe.length;he<pe;he++){var ue,we=oe[he],xe=we.dataset.colkey;xe||Ne.warn("TDesign Table","".concat(we.innerText," missing colKey. colKey is required for fixed column feature."));var _e=G.get(xe||he);_e!=null&&(ue=_e.col)!==null&&ue!==void 0&&ue.fixed&&G.set(xe,ln(ln({},_e),{},{width:we.getBoundingClientRect().width}))}M(l.value,G),W(l.value,G)}},ee=function(V,G,J,te){for(var oe=u.value||[],he=Ae(oe,2),pe=he[0],ue=he[1],we=t.data,xe=t.rowKey,_e=xe===void 0?"id":xe,Be=0;Be<pe;Be++){var Pt=V[Be],At=H(we[Be],_e),Ge=G.get(At)||{},$t=H(we[Be-1],_e),nn=G.get($t)||{},an=0;Be===0&&(an=(J==null?void 0:J.getBoundingClientRect().height)||0),Ge.top=(nn.top||an)+(nn.height||0),G.set(At,ln(ln({},Ge),{},{height:(Pt==null?void 0:Pt.getBoundingClientRect().height)||0}))}for(var me=we.length-1;me>=we.length-ue;me--){var ge=V[V.length-(we.length-me)],ze=H(we[me],_e),et=G.get(ze)||{},at=H(we[me+1],_e),rt=G.get(at)||{},ht=0;me===we.length-1&&(ht=(te==null?void 0:te.getBoundingClientRect().height)||0),et.bottom=(rt.bottom||ht)+(rt.height||0),G.set(ze,ln(ln({},et),{},{height:(ge==null?void 0:ge.getBoundingClientRect().height)||0}))}},ae=function(V,G){if(I.value.clear(),!!V){var J=V.querySelector("thead");J&&Y(J.children,G);var te=V.querySelector("tbody"),oe=V.querySelector("tfoot");te&&ee(te.children,G,J,oe),I.value=G}},ne,Q=function(V,G){if(!(!b.value||!V)){var J=V.scrollLeft;if(!(ne===J&&(!G||!G.skipScrollLimit))){ne=J;var te=V.clientWidth+J<V.scrollWidth,oe=J>0;D.left===oe&&D.right===te||(D.left=oe&&f.value,D.right=te&&c.value)}}},k=function(V){for(var G=0;G<V.length;G++)for(var J=V[G],te=0,oe=J.length;te<oe;te++){var he=J[te],pe=J[te+1],ue=he.parent,we=!ue||(ue==null?void 0:ue.lastLeftFixedCol);we&&he.col.fixed==="left"&&(pe==null?void 0:pe.col.fixed)!=="left"&&(he.lastLeftFixedCol=!0);var xe=J[te-1],_e=!ue||(ue==null?void 0:ue.firstRightFixedCol);_e&&he.col.fixed==="right"&&(xe==null?void 0:xe.col.fixed)!=="right"&&(he.firstRightFixedCol=!0)}},U=function(){var V=K(l.value),G=V.newColumnsMap,J=V.levelNodes;k(J);var te=setTimeout(function(){var oe;(b.value||(oe=u.value)!==null&&oe!==void 0&&oe.length)&&ae(S.value,G),clearTimeout(te)},0);return function(){clearTimeout(te)}},q=function(){var V=setTimeout(function(){if(S.value){_.value=S.value.scrollHeight>S.value.clientHeight,F.value=S.value.scrollWidth>S.value.clientWidth;var G=S.value.getBoundingClientRect();j.value={top:G.top,left:G.left},clearTimeout(V)}},0)},Z=function(V){y.value!==V&&(y.value=V)},ce=function(){var V,G,J=(V=S.value)===null||V===void 0?void 0:V.getBoundingClientRect();if(J){var te=_.value?P.value:0;T.value=J.width-te-(t.bordered?1:0);var oe=A==null||(G=A.value)===null||G===void 0?void 0:G.getBoundingClientRect();oe!=null&&oe.width&&Z(oe.width)}},fe=function(){var V,G,J,te,oe,he,pe,ue;(V=n.paginationAffixRef.value)===null||V===void 0||(G=V.handleScroll)===null||G===void 0||G.call(V),(J=n.horizontalScrollAffixRef.value)===null||J===void 0||(te=J.handleScroll)===null||te===void 0||te.call(J),(oe=n.headerTopAffixRef.value)===null||oe===void 0||(he=oe.handleScroll)===null||he===void 0||he.call(oe),(pe=n.footerBottomAffixRef.value)===null||pe===void 0||(ue=pe.handleScroll)===null||ue===void 0||ue.call(pe)},Fe=function(V){for(var G={},J=0,te=V.length;J<te;J++)for(var oe=V[J].children,he=0,pe=oe.length;he<pe;he++){var ue=oe[he],we=ue.dataset.colkey;G[we]=ue.getBoundingClientRect().width}return G},Me=function(V){if(V instanceof HTMLCollection){if(x.value)return;h.value=Fe(V)}else h.value=h.value||{},Object.entries(V).forEach(function(G){var J=Ae(G,2),te=J[0],oe=J[1];h.value[te]=oe});return h.value},Ue=function(){var V=setTimeout(function(){var G;if(ce(),!E.value){var J=(G=S.value)===null||G===void 0?void 0:G.querySelector("thead");J&&(Me(J.children),clearTimeout(V))}},0)},je=function(){h.value={}},nt=function(V){var G,J,te;(G=t.onScrollX)===null||G===void 0||G.call(t,{e:V}),(J=t.onScrollY)===null||J===void 0||J.call(t,{e:V}),(te=t.onScroll)===null||te===void 0||te.call(t,{e:V})},ut=function(V){if(V==="calculate"){var G,J=(G=S.value)===null||G===void 0||(G=G.querySelector("thead"))===null||G===void 0?void 0:G.children;return J?Fe(J):{}}return h.value||{}};ve([C,l,m,o,i,_,F,b,u,s,v],U,{immediate:!0}),ve([b,l],function(){var re=setTimeout(function(){b.value&&Q(S.value),clearTimeout(re)},0)},{immediate:!0}),ve([d,C,l,m,S],function(){S.value&&q()},{immediate:!0}),ve(a,function(){je()}),ve([C,m,o,u,_,g,p,i],function(){var re=setTimeout(function(){Ue(),fe(),clearTimeout(re)},60)},{immediate:!0}),ve([a],function(re,V){var G=Ae(re,1),J=G[0],te=Ae(V,1),oe=te[0],he=J.map(function(Ge){return Ge.colKey}),pe=oe.map(function(Ge){return Ge.colKey});if(he.length<pe.length){var ue=$i(pe,he),we=ut("calculate"),xe=0;ue.forEach(function(Ge){xe+=we[Ge]});var _e=vn(we,pe),Be=Object.values(_e).reduce(function(){var Ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$t=arguments.length>1?arguments[1]:void 0;return Ge+$t}),Pt=S.value.clientWidth,At=Be-xe;Z(Math.max(Pt,At))}});var st=function(){Ue(),q(),fe(),(b.value||_.value)&&(U(),Q(S.value,{skipScrollLimit:!0})),o.value==="auto"&&Me(ut("calculate"))},Tt=tr(function(){st()},30),Ke=null;function xn(re){typeof window>"u"||Ba()<11||typeof window.ResizeObserver>"u"||(Se(window,"resize",Tt),Ke=new window.ResizeObserver(function(){var V=setTimeout(function(){st(),clearTimeout(V)},200)}),Ke.observe(re),O.value=re)}_t(function(){var re=ho();P.value=re,Ue();var V=b.value||_.value||!E.value||!C.value.length,G=typeof window<"u",J=G&&typeof window.ResizeObserver<"u";(V&&Ba()<11||!J)&&Te(window,"resize",Tt)}),ya(function(){var re,V;typeof window<"u"&&Se(window,"resize",Tt),(re=Ke)===null||re===void 0||re.unobserve(O.value),(V=Ke)===null||V===void 0||V.disconnect()});var Sn=function(V){C.value=V},On=function(){U(),q()};return{tableWidth:T,tableElmWidth:y,thWidthList:h,isFixedHeader:_,isWidthOverflow:F,tableContentRef:S,isFixedColumn:b,showColumnShadow:D,rowAndColFixedPosition:I,virtualScrollHeaderPos:j,scrollbarWidth:P,setData:Sn,refreshTable:st,setTableElmWidth:Z,emitScrollEvent:nt,updateThWidthListHandler:Ue,updateColumnFixedShadow:Q,setUseFixedTableElmRef:L,getThWidthList:ut,updateThWidthList:Me,addTableResizeObserver:xn,updateTableAfterColumnResize:On}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function Kr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function Ui(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Kr(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Kr(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function Gi(t,e){var a=We(t),n=a.pagination,r=a.data,l=a.disableDataPage,o=bt(),i=o.classPrefix,u=$(t.pagination),s=$([]),v=$(!1),d=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10,R=t.data,C=!l.value&&R.length>w;if(v.value=C,C){var O=(m-1)*w,S=m*w;s.value=R.slice(O,S)}else s.value=R};ve(function(){var p,m;return[(p=n.value)===null||p===void 0?void 0:p.current,(m=n.value)===null||m===void 0?void 0:m.pageSize,r.value.length,l]},function(){if(!(!n.value||!n.value.current)){var p=n.value,m=p.current,w=p.pageSize;u.value={current:m,pageSize:w},d(n.value.current,n.value.pageSize)}},{immediate:!0}),ve([r],function(){var p,m;if(!(!n.value||!n.value.defaultCurrent)){var w=!!n.value.current;w||d((p=u.value.current)!==null&&p!==void 0?p:n.value.defaultCurrent,(m=u.value.pageSize)!==null&&m!==void 0?m:n.value.defaultPageSize)}},{immediate:!0});var g=function(){if(!t.pagination)return null;var m=Ui({},t.pagination);return delete m.onChange,N("div",{class:"".concat(i.value,"-table__pagination")},[N(No,ke(m,{onChange:function(R){var C,O,S;(C=t.pagination)===null||C===void 0||(O=C.onChange)===null||O===void 0||O.call(C,R),u.value=R,d(R.current,R.pageSize),(S=t.onPageChange)===null||S===void 0||S.call(t,R,s.value)}}),{totalContent:e.slots.totalContent})])};return{isPaginateData:v,dataSource:s,innerPagination:u,renderPagination:g}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function Yi(t){var e=$(),a=$(),n=$(),r=$(),l=$(),o=$(!0),i=$(!0),u=$(!0),s=!1,v=!1,d=B(function(){return t.scroll&&t.scroll.type==="virtual"&&(t.scroll.threshold||100)<t.data.length}),g=B(function(){return!!(t.headerAffixedTop||t.footerAffixedBottom||t.horizontalScrollAffixedBottom)}),p=0,m=function(k){if(!(!g.value&&!d.value)){var U=k;if(!U&&e.value&&(p=0,U=e.value),!!U){var q=U.scrollLeft;if(p!==q){p=q;for(var Z=[e.value,a.value,n.value,r.value],ce=0,fe=Z.length;ce<fe;ce++)Z[ce]&&k!==Z[ce]&&(Z[ce].scrollLeft=q)}}}},w=function(k,U,q){return U.top+q<k.top&&k.top>k.height},R=function(k){return So(k)?0:k.offsetTop||0},C=function(){var k,U,q;if(!(!g.value&&!d.value)){var Z=(k=e.value)===null||k===void 0?void 0:k.getBoundingClientRect(),ce=(U=e.value)===null||U===void 0||(U=U.querySelector("thead"))===null||U===void 0?void 0:U.getBoundingClientRect(),fe=(ce==null?void 0:ce.height)||0,Fe=(q=n.value)===null||q===void 0?void 0:q.getBoundingClientRect();if((t.headerAffixedTop||d.value)&&a.value){var Me=R(t.headerAffixProps||t.headerAffixedTop),Ue=(Fe==null?void 0:Fe.height)||0,je=Math.abs(Z.top)<Z.height-fe-Me-Ue;d.value&&(je=Z.top>-1*ce.height),o.value=je}if(t.footerAffixedBottom&&n!==null&&n!==void 0&&n.value)i.value=w(Fe,Z,fe);else if(t.horizontalScrollAffixedBottom&&r!==null&&r!==void 0&&r.value){var nt=r.value.getBoundingClientRect();i.value=w(nt,Z,fe)}if(t.paginationAffixedBottom&&l.value){var ut=l.value.getBoundingClientRect();u.value=w(ut,Z,fe)}}},O=function(){C()},S=function(){m(n.value)},_=function(){m(a.value)},F=function(){m(r.value)},A=function(){m(e.value)},P=function(){Te(n.value,"scroll",S)},I=function(){Se(n.value,"scroll",S)},D=function(){Te(a.value,"scroll",_),x()},j=function(){s||Se(a.value,"scroll",_),E()},T=function(){Te(r.value,"scroll",F)},y=function(){Se(r.value,"scroll",F)},h=function(){Te(e.value,"scroll",A),x()},b=function(){s||Se(e.value,"scroll",A),E()},c=function(){s=!0},f=function(){s=!1,v||(Se(a.value,"scroll",_),Se(e.value,"scroll",A))},x=function(){v=!0},E=function(){v=!1},L=[],K=function(k){var U=tr(function(fe){Se(k,"scroll",fe)},200);function q(){m(k),U(q)}function Z(fe){fe.composedPath().includes(k)&&(L.forEach(function(Fe){return Fe()}),L.length=0,Te(k,"scroll",q),U(q),L.push(function(){Se(k,"scroll",q)}))}Te(k,"touchstart",Z);function ce(){Se(k,"touchstart",Z)}return{removeElementTouchScrollListener:ce}},M=[],W=function(){M.forEach(function(k){return k()}),M.length=0},Y=function(){Se(window,"mousedown",c),Se(window,"mouseup",f),W(),a.value&&(Se(a.value,"mouseenter",D),Se(a.value,"mouseleave",j)),n.value&&(Se(n.value,"mouseenter",P),Se(n.value,"mouseleave",I)),e.value&&(Se(e.value,"mouseenter",h),Se(e.value,"mouseleave",b)),r.value&&(Se(r.value,"mouseenter",T),Se(r.value,"mouseleave",y))},ee=function(){if(Te(window,"mousedown",c),Te(window,"mouseup",f),Y(),a.value){Te(a.value,"mouseenter",D),Te(a.value,"mouseleave",j);var k=K(a.value),U=k.removeElementTouchScrollListener;M.push(U)}if(t.footerAffixedBottom&&n.value){Te(n.value,"mouseenter",P),Te(n.value,"mouseleave",I);var q=K(n.value),Z=q.removeElementTouchScrollListener;M.push(Z)}if(t.horizontalScrollAffixedBottom&&r.value){Te(r.value,"mouseenter",T),Te(r.value,"mouseleave",y);var ce=K(r.value),fe=ce.removeElementTouchScrollListener;M.push(fe)}if((g.value||d.value)&&e.value){Te(e.value,"mouseenter",h),Te(e.value,"mouseleave",b);var Fe=K(e.value),Me=Fe.removeElementTouchScrollListener;M.push(Me)}},ae=function(){if(!(!g.value&&!t.paginationAffixedBottom))var k=setTimeout(function(){g.value||t.paginationAffixedBottom?Te(document,"scroll",O):Se(document,"scroll",O),clearTimeout(k)})};ve([a,n,r,e],function(){ee(),m(),C()}),ve(g,ae),ve(function(){return[t.data,t.columns,t.headerAffixedTop,t.footerAffixedBottom,t.horizontalScrollAffixedBottom]},function(){m()}),ya(function(){Se(document,"scroll",O),Y(),a.value=null,n.value=null,r.value=null,e.value=null});var ne=function(k){e.value=k,ae()};return{showAffixHeader:o,showAffixFooter:i,showAffixPagination:u,affixHeaderRef:a,affixFooterRef:n,horizontalScrollbarRef:r,paginationRef:l,onHorizontalScroll:m,setTableContentRef:ne,updateAffixHeaderOrFooter:C}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function rr(t,e){if(t){for(var a=t instanceof Array?t:[t],n={},r=0;r<a.length;r++){var l=a[r];if(l){var o=De(l)?l(e):l;n=o instanceof Array?rr(o,e):Object.assign(n,o)}}return n}}function lr(t,e,a){for(var n=t instanceof Array?t:[t],r=e.row,l=e.rowIndex,o=[],i=0,u=n.length;i<u;i++){var s=n[i],v=De(s)?s(e):s;if(za(v)&&!(v instanceof Array)){v[l]&&(v=v[l]);var d=H(r,a||"id");v[d]&&(v=v[d])}else v instanceof Array&&(v=lr(v,e,a));o=o.concat(v)}return o}function $a(t,e){for(var a=t instanceof Array?t:[t],n=[],r=0,l=a.length;r<l;r++){var o=a[r];De(o)?n.push(o(e)):n.push(o)}return n}function Il(t,e){if(!(!t||!e)){var a=t==null?void 0:t.find(function(i){return i.colKey===e});if(a)return a;for(var n=0,r=t.length;n<r;n++){var l;if((l=t[n])!==null&&l!==void 0&&(l=l.children)!==null&&l!==void 0&&l.length){var o;return Il((o=t[n])===null||o===void 0?void 0:o.children,e)}}}}function Gn(t,e){return ft(t)==="object"?t:ft(e)==="object"?e:{}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function qi(t,e,a){var n=B(function(){return Math.max(a.rowHeight||48,48)}),r=$(!1),l=B(function(){return(a==null?void 0:a.type)==="lazy"&&!r.value}),o=!Oo&&window.requestAnimationFrame||function(u){return setTimeout(u,16.6)},i=function(){r.value||o(function(){r.value=!0})};return _t(function(){(a==null?void 0:a.type)==="lazy"&&hn(function(){var u=Math.max(10,a.bufferSize||10),s=n.value*u;!(e!=null&&e.value)||!(t!=null&&t.value)||Ol(e.value,t.value,i,s)})}),{hasLazyLoadHolder:l,tRowHeight:n}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function zn(t,e,a,n){var r=H(t,e);return r===void 0&&Ne.error("Table","rowKey is wrong, can not get unique identifier of row."),[r,a||n].join("_")}function jl(t,e,a,n){var r=$(new Map),l=function(u,s){var v=u.rowIndex,d=u.colIndex;if(!(!s.rowspan&&!s.colspan)){for(var g=v+(s.rowspan||1),p=d+(s.colspan||1),m=v;m<g;m++)for(var w=d;w<p;w++)if(m!==v||w!==d){if(!t.value[m]||!e.value[w])return;var R=zn(t.value[m],a.value,e.value[w].colKey,w),C=r.value.get(R)||{};C.skipped=!0,r.value.set(R,C)}}},o=function(u,s,v){var d;if((d=r.value)===null||d===void 0||d.clear(),!(!u||!v))for(var g=0,p=u.length;g<p;g++)for(var m=u[g],w=0,R=s.length;w<R;w++){var C=s[w],O={row:m,col:C,rowIndex:g,colIndex:w},S=zn(m,a.value,C.colKey,w),_=r.value.get(S)||{},F=v(O)||{};(F.rowspan||F.colspan||_.rowspan||_.colspan)&&(F.rowspan&&(_.rowspan=F.rowspan),F.colspan&&(_.colspan=F.colspan),r.value.set(S,_)),l==null||l(O,_)}};return ve(function(){return[t.value,e.value,n]},function(){o(t.value,e.value,n==null?void 0:n.value)},{immediate:!0}),{skipSpansMap:r}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function Ir(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function ot(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Ir(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ir(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function Ji(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!yn(t)}var Ll=["rowKey","rowClassName","columns","fixedRows","footData","rowAttributes","rowspanAndColspan","scroll","cellEmptyContent","pagination","attach","onCellClick","onRowClick","onRowDblclick","onRowMouseover","onRowMousedown","onRowMouseenter","onRowMouseleave","onRowMouseup"],Zi=["click","dblclick","mouseover","mousedown","mouseenter","mouseleave","mouseup"];function fa(t,e,a){var n=t.col,r=t.row,l=t.rowIndex;if(n.colKey==="serial-number"){var o=(a==null?void 0:a.pagination)||{},i=o.current,u=o.pageSize,s=o.defaultCurrent,v=o.defaultPageSize,d=i||s,g=u||v;return g&&d?g*(d-1)+l+1:l+1}if(De(n.cell))return n.cell(Ye,t);if(e[n.colKey])return e[n.colKey](t);if(Mn(n.cell)&&e[n.cell])return e[n.cell](t);if(De(n.render))return n.render(Ye,ot(ot({},t),{},{type:"cell"}));var p=H(r,n.colKey);return[void 0,"",null].includes(p)?a!=null&&a.cellEmptyContent?De(a.cellEmptyContent)?a.cellEmptyContent(Ye,t):a.cellEmptyContent:e.cellEmptyContent?e.cellEmptyContent(t):e["cell-empty-content"]?e["cell-empty-content"](t):p:p}var Qi=Xe({name:"TR",props:ot(ot({row:Object,rowIndex:Number,dataLength:Number,ellipsisOverlayClassName:String,classPrefix:String,rowAndColFixedPosition:Map,skipSpansMap:Map,virtualConfig:Object,active:Boolean,isHover:Boolean},vn(gn,Ll)),{},{tableElm:{},tableContentElm:{}}),emits:["row-mounted"],setup:function(e,a){var n=We(e),r=n.tableContentElm,l=n.active,o=n.isHover,i=$(null),u=it(),s=u.tdEllipsisClass,v=u.tableBaseClass,d=u.tableColFixedClasses,g=u.tableRowFixedClasses,p=u.tdAlignClasses,m=u.tableDraggableClasses,w=B(function(){return Vi(H(e.row,e.rowKey||"id"),e.rowIndex,e.dataLength,e.fixedRows,e.rowAndColFixedPosition,g,e.virtualConfig.isVirtualScroll.value?e.virtualConfig.translateY.value:0)}),R=B(function(){return rr(e.rowAttributes,{row:e.row,rowIndex:e.rowIndex,type:"body"})||{}}),C=B(function(){var D,j=lr(e.rowClassName,{row:e.row,rowIndex:e.rowIndex,type:"body"},e.rowKey||"id");return[(D=w.value)===null||D===void 0?void 0:D.classes,j,z(z({},"".concat(e.classPrefix,"-table__row--active"),l.value),"".concat(e.classPrefix,"-table__row--hover"),o.value)].filter(function(T){return T})}),O=qi(r,i,Qa(ot(ot({},e.scroll),{},{rowIndex:e.rowIndex}))),S=O.hasLazyLoadHolder,_=O.tRowHeight,F=function(j,T){var y={};return Zi.forEach(function(h){y["on".concat(dr(h))]=function(b){var c,f={e:b,row:j,index:T};(c=e["onRow".concat(dr(h))])===null||c===void 0||c.call(e,f)}}),y},A=function(){var j;(j=e.virtualConfig)!==null&&j!==void 0&&j.isVirtualScroll.value&&a.emit("row-mounted",{ref:i,data:e.row})};_t(function(){hn(function(){A()})}),ml(function(){hn(function(){A()})});function P(D,j){var T=j.cellNode,y=D.col,h=D.colIndex,b;De(y.ellipsis)?b=y.ellipsis(Ye,D):ft(y.ellipsis)==="object"&&De(y.ellipsis.content)?b=y.ellipsis.content(Ye,D):a.slots["ellipsis-".concat(y.colKey)]?b=a.slots["ellipsis-".concat(y.colKey)](D):a.slots.ellipsis&&(b=a.slots.ellipsis(D));var c={};ft(y.ellipsis)==="object"&&(c="props"in y.ellipsis?y.ellipsis.props:y.ellipsis||void 0);var f=e.tableElm,x=h===0?"top-left":"top";return x=h===e.columns.length-1?"top-right":x,N(nr,{placement:x,attach:f?function(){return f}:void 0,tooltipContent:b&&function(){return b},tooltipProps:c,overlayClassName:e.ellipsisOverlayClassName,classPrefix:e.classPrefix},Ji(T)?T:{default:function(){return[T]}})}function I(D,j){var T=D.col,y=D.colIndex,h=D.rowIndex,b=j.cellSpans,c=j.dataLength,f=j.rowAndColFixedPosition,x=fa(D,a.slots,{cellEmptyContent:j.cellEmptyContent,pagination:e.pagination}),E=ar(T,y,f,d),L=$a(T.className,ot(ot({},D),{},{type:"td"})),K=[E.classes,L,z(z(z(z(z({},s,T.ellipsis),v.tdLastRow,h+b.rowspan===c),v.tdFirstCol,y===0&&e.rowspanAndColspan),p[T.align],T.align&&T.align!=="left"),m.handle,T.colKey==="drag")],M=function(ae){var ne,Q=ot(ot({},D),{},{e:ae});T.stopPropagation&&ae.stopPropagation(),(ne=e.onCellClick)===null||ne===void 0||ne.call(e,Q)},W=De(T.attrs)?T.attrs(ot(ot({},D),{},{type:"td"})):T.attrs,Y=ot(ot({},W),b);return N("td",ke({key:T.colKey||y,class:K,style:E.style},Y,{onClick:M}),[T.ellipsis?P(D,{cellNode:x}):x])}return function(){var D,j=e.columns,T=e.skipSpansMap,y=e.row,h=e.dataLength,b=e.rowAndColFixedPosition,c=j==null?void 0:j.map(function(f,x){var E={},L={row:y,col:f,rowIndex:e.rowIndex,colIndex:x},K=null;if(e.skipSpansMap.size){var M,W,Y=zn(y,e.rowKey,f.colKey,x);if(K=T.get(Y)||{},((M=K)===null||M===void 0?void 0:M.rowspan)>1&&(E.rowspan=K.rowspan),((W=K)===null||W===void 0?void 0:W.colspan)>1&&(E.colspan=K.colspan),K.skipped)return null}return I(L,{dataLength:h,rowAndColFixedPosition:b,columnLength:j.length,cellSpans:E,cellEmptyContent:e.cellEmptyContent})});return N("tr",ke({ref:i},R.value,{style:(D=w.value)===null||D===void 0?void 0:D.style,class:C.value},F(y,e.rowIndex)),[S.value?[N("td",{style:{height:"".concat(_.value,"px"),border:"none"}},null)]:c])}}});/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function jr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function Yn(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?jr(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):jr(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}var Nl=["bordered","rowKey","rowClassName","rowAttributes","loading","empty","fixedRows","firstFullRow","lastFullRow","rowspanAndColspan","scroll","cellEmptyContent","pagination","attach","onCellClick","onPageChange","onRowClick","onRowDblclick","onRowMouseover","onRowMousedown","onRowMouseenter","onRowMouseleave","onRowMouseup","onScroll","onScrollX","onScrollY"],eu=Xe({name:"TBody",props:Yn({classPrefix:String,data:Array,columns:Array,ellipsisOverlayClassName:String,rowAndColFixedPosition:Map,showColumnShadow:Object,tableElm:{},tableWidth:Number,isWidthOverflow:Boolean,virtualConfig:Object,tableContentElm:{},handleRowMounted:Function,renderExpandedRow:Function,firstFullRow:[String,Function],lastFullRow:[String,Function],activeRow:[Array],hoverRow:[String,Number]},vn(gn,Nl)),setup:function(e){var a=Wt(),n=We(e),r=n.data,l=n.columns,o=n.rowKey,i=n.rowspanAndColspan,u=bt("table",e.locale),s=u.t,v=u.globalConfig,d=it(),g=d.tableFullRowClasses,p=d.tableBaseClass,m=jl(r,l,o,i),w=m.skipSpansMap,R=B(function(){return[p.body]});return{t:s,globalConfig:v,renderTNode:a,tableFullRowClasses:g,tbodyClasses:R,tableBaseClass:p,skipSpansMap:w}},render:function(){var e=this,a,n,r,l,o=function(O){var S=e.bordered?e.tableWidth-2:e.tableWidth;return N("tr",{class:[e.tableBaseClass.emptyRow,z({},e.tableFullRowClasses.base,e.isWidthOverflow)]},[N("td",{colspan:O.length},[N("div",{class:[e.tableBaseClass.empty,z({},e.tableFullRowClasses.innerFullRow,e.isWidthOverflow)],style:e.isWidthOverflow?{width:"".concat(S,"px")}:{}},[e.renderTNode("empty")||e.t(e.globalConfig.empty)])])])},i=function(O,S){var _=Ro(S),F=e.renderTNode(_);if(["",null,void 0,!1].includes(F))return null;var A=e.isWidthOverflow&&e.columns.find(function(D){return D.fixed==="left"}),P=[e.tableFullRowClasses.base,e.tableFullRowClasses[_]],I=e.bordered?e.tableWidth-2:e.tableWidth;return N("tr",{class:P,key:"key-full-row-".concat(S)},[N("td",{colspan:O},[N("div",{class:z({},e.tableFullRowClasses.innerFullRow,A),style:A?{width:"".concat(I,"px")}:{}},[N("div",{class:e.tableFullRowClasses.innerFullElement},[F])])])])},u=this.columns.length,s=(a=this.data)===null||a===void 0?void 0:a.length,v=[],d=["classPrefix","ellipsisOverlayClassName","rowAndColFixedPosition","scroll","tableElm","tableContentElm","pagination","attach"],g=this.virtualConfig.isVirtualScroll.value?this.virtualConfig.visibleData.value:this.data;g==null||g.forEach(function(C,O){var S,_=e.rowKey||"id",F=H(C,_),A=Yn(Yn({},vn(e.$props,Ll)),{},{rowKey:_,row:C,columns:e.columns,rowIndex:C.VIRTUAL_SCROLL_INDEX||O,dataLength:s,skipSpansMap:e.skipSpansMap,virtualConfig:e.virtualConfig,active:(S=e.activeRow)===null||S===void 0?void 0:S.includes(F),isHover:e.hoverRow===F},vn(e.$props,d));e.onCellClick&&(A.onCellClick=e.onCellClick);var P=N(Qi,ke({key:H(C,e.rowKey||"id")||O},A,{onRowMounted:e.handleRowMounted}),e.$slots);if(v.push(P),e.renderExpandedRow){var I={row:C,index:O,columns:e.columns,tableWidth:e.tableWidth,isWidthOverflow:e.isWidthOverflow},D=e.renderExpandedRow(I);D&&v.push(D)}});var p=[i(u,"first-full-row")].concat(v,[i(u,"last-full-row")]),m=!((n=this.data)!==null&&n!==void 0&&n.length)&&!this.loading&&!this.firstFullRow&&!this.lastFullRow,w="translateY(".concat((r=this.virtualConfig)===null||r===void 0?void 0:r.translateY.value,"px)"),R=(l=this.virtualConfig)!==null&&l!==void 0&&l.isVirtualScroll.value?{transform:w,"-ms-transform":w,"-moz-transform":w,"-webkit-transform":w}:void 0;return N("tbody",{class:this.tbodyClasses,style:Yn({},R)},[m?o(this.columns):p])}});/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function Kn(t){return t&&(isNaN(Number(t))?t:"".concat(t,"px"))}function kl(t){var e=We(t),a=e.size,n=e.bordered,r=e.stripe,l=e.hover,o=e.verticalAlign,i=e.height,u=e.maxHeight,s=e.tableContentWidth,v=it(),d=v.tableBaseClass,g=v.tableAlignClasses,p=Mo(),m=p.sizeClassNames,w=bt("table",t.locale),R=w.globalConfig,C=B(function(){var F;return(F=a.value)!==null&&F!==void 0?F:R.value.size}),O=B(function(){return[d.table,z(z(z(z(z(z(z(z({},m[C.value],C.value!=="medium"),d.bordered,n.value),d.striped,r.value),d.hover,l.value),d.loading,t.loading),d.affixedHeader,t.headerAffixedTop),d.rowspanAndColspan,t.rowspanAndColspan),g[o.value],o.value!=="middle")]}),S=B(function(){return{height:Kn(i.value),maxHeight:Kn(u.value)}}),_=B(function(){return{width:Kn(s.value)}});return{tableClasses:O,sizeClassNames:m,tableElementStyles:_,tableContentStyles:S}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function Lr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function St(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Lr(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Lr(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function tu(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!yn(t)}var Nr=Xe({name:"THead",props:{classPrefix:String,ellipsisOverlayClassName:String,isFixedHeader:Boolean,thDraggable:Boolean,maxHeight:[String,Number],height:[String,Number],rowAndColFixedPosition:Map,thWidthList:Object,bordered:Boolean,isMultipleHeader:Boolean,resizable:Boolean,attach:[String,Function],spansAndLeafNodes:Object,thList:Array,columnResizeParams:Object,showColumnShadow:Object},setup:function(e,a){var n=a.slots,r=$(),l=it(),o=l.tableHeaderClasses,i=l.tableBaseClass,u=B(function(){return[o.header,z(z(z({},o.fixed,!!(e.maxHeight||e.height)),i.bordered,e.bordered&&e.isMultipleHeader),o.multipleHeader,e.isMultipleHeader)]}),s=B(function(){for(var d={},g=e.thList[0],p=0,m=g.length;p<m;p++){var w=g[p];if(w.colspan>1)for(var R=p+1;R<p+w.colspan;R++)g[R]&&(d[g[R].colKey]=!0)}return d}),v=function(g){for(var p=g;p;){var m;if(p=p.parentNode,(m=p)!==null&&m!==void 0&&(m=m.classList)!==null&&m!==void 0&&m.contains("".concat(e.classPrefix,"-table")))break}return p};return St(St({},l),{},{colspanSkipMap:s,theadClasses:u,theadRef:r,slots:n,getTableNode:v})},render:function(){var e=this,a=function(r,l){var o=new Map,i=e.spansAndLeafNodes.rowspanAndColspanMap;return e.thList.map(function(u,s){var v=u.map(function(d,g){var p;if(e.colspanSkipMap[d.colKey])return null;var m=i.get(d);if(g===0&&m.rowspan>1)for(var w=s+1;w<s+m.rowspan;w++)o.set(e.thList[w][0],!0);var R=ar(d,g,r,e.tableColFixedClasses),C={col:d,colIndex:g,row:{},rowIndex:-1},O=$a(d.className,St(St({},C),{},{type:"th"})),S=$a(d.thClassName,St(St({},C),{},{type:"th"})),_=e.showColumnShadow.left&&d.fixed==="left",F=e.showColumnShadow.right&&d.fixed==="right",A=e.thDraggable&&!(_||F),P=[R.classes,O,S,z(z(z(z({},e.tableHeaderClasses.thBordered,o.get(d)),"".concat(e.classPrefix,"-table__th-").concat(d.colKey),d.colKey),e.tdAlignClasses[d.align],d.align&&d.align!=="left"),e.tableDraggableClasses.dragSortTh,A)],I=!((p=d.children)!==null&&p!==void 0&&p.length),D=I&&l!==null&&l!==void 0&&l[d.colKey]?"".concat(l==null?void 0:l[d.colKey],"px"):void 0,j=St(St({},R.style||{}),{},{width:D}),T=xa(e.slots,d,g),y=e.resizable||!A?{onMousedown:function(x){if(e.resizable){var E,L;(E=e.columnResizeParams)===null||E===void 0||(L=E.onColumnMousedown)===null||L===void 0||L.call(E,x,d,g)}if(!A)var K=setTimeout(function(){var M,W=e.theadRef.querySelectorAll("th");(M=W[g])===null||M===void 0||M.removeAttribute("draggable"),clearTimeout(K)},10)},onMousemove:function(x){var E,L;e.resizable&&((E=e.columnResizeParams)===null||E===void 0||(L=E.onColumnMouseover)===null||L===void 0||L.call(E,x,d))}}:{},h=De(d.ellipsisTitle)?d.ellipsisTitle(Ye,{col:d,colIndex:g}):void 0,b=d.ellipsisTitle!==void 0?!!d.ellipsisTitle:!!d.ellipsis,c=(De(d.attrs)?d.attrs(St(St({},C),{},{type:"th"})):d.attrs)||{};return d.colspan>1&&(c.colspan=d.colspan),N("th",ke({key:d.colKey,"data-colkey":d.colKey,class:P,style:j},c,m,y),[N("div",{class:e.tableBaseClass.thCellInner},[b?N(nr,{placement:"bottom",attach:e.attach||(e.theadRef?function(){return e.getTableNode(e.theadRef)}:void 0),tooltipContent:h&&function(){return h},tooltipProps:ft(d.ellipsisTitle)==="object"?d.ellipsisTitle:void 0,overlayClassName:e.ellipsisOverlayClassName,classPrefix:e.classPrefix},tu(T)?T:{default:function(){return[T]}}):T])])});return N("tr",{key:s},[v])})};return N("thead",{ref:"theadRef",class:this.theadClasses},[a(this.rowAndColFixedPosition,this.thWidthList)])}});/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function kr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function qn(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?kr(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):kr(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}var Mr=Xe({name:"TFoot",props:{rowKey:String,isFixedHeader:Boolean,rowAndColFixedPosition:Map,footData:Array,columns:Array,rowAttributes:[Array,Object,Function],rowClassName:[Array,String,Object,Function],thWidthList:[Object],footerSummary:[String,Function],rowspanAndColspanInFooter:Function,virtualScroll:Boolean},setup:function(e,a){var n=Wt(),r=it(),l=We(e),o=l.footData,i=l.columns,u=l.rowKey,s=l.rowspanAndColspanInFooter,v=jl(o,i,u,s),d=v.skipSpansMap,g=function(m){var w=m.col,R=m.row;return De(w.foot)?w.foot(Ye,m):Mn(w.foot)&&a.slots[w.foot]?a.slots[w.foot](m)||w.foot:w.foot||H(R,w.colKey)};return qn(qn({skipSpansMap:d},r),{},{renderTFootCell:g,renderTNode:n})},render:function(){var e,a=this;if(!this.columns)return null;var n=[this.tableFooterClasses.footer,z({},this.tableFooterClasses.fixed,this.isFixedHeader)],r=(e=this.footData)===null||e===void 0?void 0:e.map(function(o,i){var u=rr(a.rowAttributes,{row:o,rowIndex:i,type:"foot"}),s=lr(a.rowClassName,{row:o,rowIndex:i,type:"foot"},a.rowKey||"id");return N("tr",ke(u,{key:i,class:s}),[a.columns.map(function(v,d){var g,p={},m=null;if(a.skipSpansMap.size){var w,R,C=zn(o,a.rowKey,v.colKey,d);if(m=a.skipSpansMap.get(C)||{},((w=m)===null||w===void 0?void 0:w.rowspan)>1&&(p.rowspan=m.rowspan),((R=m)===null||R===void 0?void 0:R.colspan)>1&&(p.colspan=m.colspan),m.skipped)return null}var O=ar(v,d,a.rowAndColFixedPosition,a.tableColFixedClasses),S=qn({},O.style);return(g=a.thWidthList)!==null&&g!==void 0&&g[v.colKey]&&(S.width="".concat(a.thWidthList[v.colKey],"px")),N("td",ke(qn({key:v.colKey},p),{class:O.classes,style:S}),[a.renderTFootCell({row:o,rowIndex:i,col:v,colIndex:d})])})])}),l=this.renderTNode("footerSummary");return!l&&(!this.footData||!this.footData.length)?null:N("tfoot",{ref:"tFooterRef",class:n,style:{visibility:this.virtualScroll?"hidden":"visible"}},[l&&N("tr",{class:this.tableFullRowClasses.base},[N("td",{colspan:this.columns.length},[N("div",{class:this.tableFullRowClasses.innerFullElement},[l])])]),r])}});/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function nu(t,e){var a=We(t),n=a.data,r=a.activeRowType,l=a.activeRowKeys,o=a.defaultActiveRowKeys,i=a.disableSpaceInactiveRow,u=$(-1),s=$(!1),v=$(!1),d=$(-1),g=Lt(l,o.value,t.onActiveChange,"activeRowKeys"),p=Ae(g,2),m=p[0],w=p[1],R=function(h){var b=h.row,c=h.index,f=H(b,t.rowKey);if(r.value==="single"){var x=m.value.length>1?[f]:[];w(x,{type:"inactive",activeRowList:[{row:b,rowIndex:c}],currentRowData:b})}else if(r.value==="multiple"){for(var E=m.value.filter(function(Y){return Y!==f}),L=[],K=0,M=n.value.length;K<M;K++){var W=n.value[K];E.includes(H(W,t.rowKey))&&L.push({row:W,rowIndex:K})}w(E,{type:"inactive",activeRowList:L,currentRowData:b})}},C=function(h){var b=h.row,c=H(b,t.rowKey);if(r.value==="single")w([c],{activeRowList:[{row:b,rowIndex:h.index}],currentRowData:b,type:"active"});else{for(var f=m.value.concat(c),x=[],E=0,L=n.value.length;E<L;E++){var K=n.value[E];f.includes(H(K,t.rowKey))&&x.push({row:K,rowIndex:E})}w(f,{activeRowList:x,currentRowData:b,type:"active"})}},O=function(h){document.getSelection().removeAllRanges();for(var b=h.row,c=u.value,f=Math.min(d.value,c),x=Math.max(d.value,c),E=[],L=f;L<=x;L++)E.push({row:n.value[L],rowIndex:L});var K=E.map(function(M){return H(M.row,t.rowKey)});w(K,{activeRowList:E,type:"active",currentRowData:b})},S=function(){for(var h=[],b=0,c=n.value.length;b<c;b++){var f=n.value[b],x=H(f,t.rowKey);m.value.includes(x)&&h.push({row:f,rowIndex:b})}return h},_=function(h,b){if(r.value){var c=h.row,f=h.index,x=H(c,t.rowKey);s.value?(u.value=f,O(h),v.value=!0):m.value.includes(x)&&(b==null?void 0:b.action)!=="active"?i.value||(R(h),u.value=f):(C(h),u.value=f)}},F=function(){var h;w([],{activeRowList:[],currentRowData:void 0,type:"inactive"}),(h=t.onActiveRowAction)===null||h===void 0||h.call(t,{action:"clear",activeRowList:[]}),u.value=-1},A=function(){var h,b=n.value.map(function(f){return H(f,t.rowKey)}),c=n.value.map(function(f,x){return{row:f,rowIndex:x}});w(b,{activeRowList:c,currentRowData:void 0,type:"active"}),(h=t.onActiveRowAction)===null||h===void 0||h.call(t,{action:"select-all",activeRowList:c}),u.value=-1},P=function(){v.value=!1},I=function(h){var b,c=h.code||((b=h.key)===null||b===void 0?void 0:b.trim());if(Rl.test(c)){h.preventDefault();var f=Math.min(n.value.length-1,u.value+1);r.value==="single"?_({row:n.value[f],index:f,e:h},{action:"active"}):u.value=f}else if(El.test(c)){h.preventDefault();var x=Math.max(0,u.value-1);r.value==="single"?_({row:n.value[x],index:x,e:h},{action:"active"}):u.value=x}else if(Wa.test(c)){h.preventDefault();var E=u.value;if(v.value){var L;(L=t.onActiveRowAction)===null||L===void 0||L.call(t,{action:"shift-area-selection",activeRowList:S()})}else if(!i.value)_({row:n.value[E],index:E,e:h});else{var K;(K=t.onActiveRowAction)===null||K===void 0||K.call(t,{action:"space-one-selection",activeRowList:S()})}}else fr.test(c)?(s.value=!0,d.value=u.value):Dl.test(c)||_l.test(c)?(F(),P()):Tl.test(c)&&A();Wa.test(c)||P()},D=function(h){var b,c=h.code||((b=h.key)===null||b===void 0?void 0:b.trim());fr.test(c)&&(s.value=!1)},j=function(){Te(e.value,"keydown",I),Te(e.value,"keyup",D)},T=function(){Se(e.value,"keydown",I),Se(e.value,"keyup",D)};return{tActiveRow:m,onHighlightRow:_,addHighlightKeyboardListener:j,removeHighlightKeyboardListener:T}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function au(t,e){var a=We(t),n=a.hover,r=a.data,l=a.activeRowType,o=a.keyboardRowHover,i=a.disableSpaceInactiveRow,u=$(),s=$(-1),v=B(function(){return l.value==="single"?!1:l.value==="multiple"?!0:n.value||o.value}),d=function(C,O){var S=H(C.row,t.rowKey);u.value===S&&(O==null?void 0:O.action)!=="hover"?i.value||(u.value=void 0):u.value=S,s.value=C.index},g=function(){u.value=void 0,s.value=-1},p=function(C){var O;if(v.value){var S=C.code||((O=C.key)===null||O===void 0?void 0:O.trim());if(Rl.test(S)){C.preventDefault();var _=Math.min(r.value.length-1,s.value+1);d({row:r.value[_],index:_,e:C},{action:"hover"})}else if(El.test(S)){C.preventDefault();var F=Math.max(0,s.value-1);d({row:r.value[F],index:F,e:C},{action:"hover"})}else if(Wa.test(S)&&t.activeRowType!=="multiple"){var A=s.value;if(d({row:r.value[A],index:A,e:C}),!t.activeRowType){var P;(P=t.onActiveRowAction)===null||P===void 0||P.call(t,{action:"space-one-selection",activeRowList:[{row:r.value[A],rowIndex:A}]})}}else if(Dl.test(S)&&!t.activeRowType){var I;u.value=void 0,(I=t.onActiveRowAction)===null||I===void 0||I.call(t,{action:"clear",activeRowList:[]})}else if(Tl.test(S)&&!t.activeRowType){var D;(D=t.onActiveRowAction)===null||D===void 0||D.call(t,{action:"select-all",activeRowList:[]})}else if(_l.test(S)&&!t.activeRowType){var j;(j=t.onActiveRowAction)===null||j===void 0||j.call(t,{action:"clear",activeRowList:[]})}}},m=function(){Te(e.value,"keydown",p)},w=function(){Se(e.value,"keydown",p)};return{hoverRow:u,needKeyboardRowHover:v,clearHoverRow:g,addRowHoverKeyboardListener:m,removeRowHoverKeyboardListener:w}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function ru(t,e){var a=$(),n=$(!0),r=function(){if(!(!e.value||!t.value||a.value)){n.value=!1;var o=Ol(t.value,null,function(){n.value=!0},10);a.value=o}};return _t(r),e.value&&ve([e,t],r),ya(function(){var l,o;e.value&&((l=a.value)===null||l===void 0||(o=l.unobserve)===null||o===void 0||o.call(l,t.value))}),{showElement:n}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function Br(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function Ze(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Br(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Br(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function zr(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!yn(t)}var Ml=Xe({name:"TBaseTable",props:Ze(Ze({},gn),{},{renderExpandedRow:Function,onLeafColumnsChange:Function,thDraggable:Boolean}),emits:["show-element-change"],setup:function(e,a){var n=We(e),r=n.lazyLoad,l=Wt(),o=$(),i=$(),u=$(),s=$(),v=$(0),d=it(),g=d.classPrefix,p=d.virtualScrollClasses,m=d.tableLayoutClasses,w=d.tableBaseClass,R=d.tableColFixedClasses,C=kl(e),O=C.tableClasses,S=C.sizeClassNames,_=C.tableContentStyles,F=C.tableElementStyles,A=bt("table",e.locale),P=A.globalConfig,I=Kl(e),D=I.isMultipleHeader,j=I.spansAndLeafNodes,T=I.thList,y=B(function(){var be;return((be=j.value)===null||be===void 0?void 0:be.leafColumns)||e.columns}),h=B(function(){var be;return(be=e.size)!==null&&be!==void 0?be:P.value.size}),b=ru(o,r),c=b.showElement,f=$(),x=$(),E=$(),L=$(),K=Xi(e,a,y,{paginationAffixRef:f,horizontalScrollAffixRef:x,headerTopAffixRef:E,footerBottomAffixRef:L}),M=K.scrollbarWidth,W=K.virtualScrollHeaderPos,Y=K.tableWidth,ee=K.tableElmWidth,ae=K.tableContentRef,ne=K.isFixedHeader,Q=K.isWidthOverflow,k=K.isFixedColumn,U=K.thWidthList,q=K.showColumnShadow,Z=K.rowAndColFixedPosition,ce=K.setData,fe=K.refreshTable,Fe=K.setTableElmWidth,Me=K.emitScrollEvent,Ue=K.setUseFixedTableElmRef,je=K.updateColumnFixedShadow,nt=K.getThWidthList,ut=K.updateThWidthList,st=K.addTableResizeObserver,Tt=K.updateTableAfterColumnResize,Ke=Yi(e),xn=Ke.affixHeaderRef,Sn=Ke.affixFooterRef,On=Ke.horizontalScrollbarRef,re=Ke.paginationRef,V=Ke.showAffixHeader,G=Ke.showAffixFooter,J=Ke.showAffixPagination,te=Ke.onHorizontalScroll,oe=Ke.setTableContentRef,he=Ke.updateAffixHeaderOrFooter,pe=Gi(e,a),ue=pe.dataSource,we=pe.innerPagination,xe=pe.isPaginateData,_e=pe.renderPagination,Be=bi({isWidthOverflow:Q,tableContentRef:ae,showColumnShadow:q,getThWidthList:nt,updateThWidthList:ut,setTableElmWidth:Fe,updateTableAfterColumnResize:Tt,onColumnResizeChange:e.onColumnResizeChange}),Pt=Be.resizeLineRef,At=Be.resizeLineStyle,Ge=Be.setEffectColMap,$t=B(function(){return[O.value,z(z(z(z(z(z(z(z({},w.headerFixed,ne.value),w.columnFixed,k.value),w.widthOverflow,Q.value),w.multipleHeader,D.value),R.leftShadow,q.left),R.rightShadow,q.right),w.columnResizableTable,e.resizable),"".concat(g,"-table__row--active-").concat(e.activeRowType),e.activeRowType)]}),nn=B(function(){return[[m[e.tableLayout]]]}),an=B(function(){return e.bordered&&ne.value&&(D.value&&Q.value||!D.value)}),me=B(function(){var be,Re;if(!e.bordered)return 0;var Pe=(be=s.value)===null||be===void 0?void 0:be.getBoundingClientRect(),qe=(Re=re.value)===null||Re===void 0?void 0:Re.getBoundingClientRect();return((Pe==null?void 0:Pe.height)||0)+((qe==null?void 0:qe.height)||0)}),ge=nu(e,o),ze=ge.tActiveRow,et=ge.onHighlightRow,at=ge.addHighlightKeyboardListener,rt=ge.removeHighlightKeyboardListener,ht=au(e,o),Xn=ht.hoverRow,Ft=ht.needKeyboardRowHover,Vt=ht.clearHoverRow,Xt=ht.addRowHoverKeyboardListener,Ut=ht.removeRowHoverKeyboardListener;ve(i,function(){Ue(i.value)}),ve(function(){return[e.data,ue]},function(){ce(xe.value?ue.value:e.data)}),ve(j,function(){var be;(be=e.onLeafColumnsChange)===null||be===void 0||be.call(e,j.value.leafColumns),Ge(j.value.leafColumns,null)},{immediate:!0});var Mt=function(){hn(function(){te(),he()})},Ce=zo(function(){ut(nt("calculate"))}),rn=B(function(){return{data:e.data,scroll:Ze(Ze({},e.scroll),{},{fixedRows:e.fixedRows})}}),Ct=ko(ae,rn),Gt=-1,Yt=function(Re){var Pe=Re.target||Re.srcElement,qe=Pe.scrollTop;Gt!==qe?Ct.isVirtualScroll.value&&Ct.handleScroll():(Gt=-1,je(Pe)),Gt=qe,Me(Re),e.tableLayout==="auto"&&Ce()},mt=function(){var Re;i.value&&(v.value=(Re=i.value.querySelector("tfoot"))===null||Re===void 0?void 0:Re.getBoundingClientRect().height)},xt=function(Re){if(ae.value){for(var Pe=ae.value.querySelector('th[data-colkey="'.concat(Re,'"]')),qe=ae.value.querySelectorAll("th.t-table__cell--fixed-left"),Jt=0,Ea=0,ro=qe.length;Ea<ro;Ea++)Jt+=qe[Ea].getBoundingClientRect().width;var lo=Pe.getBoundingClientRect(),oo=ae.value.getBoundingClientRect(),io=lo.left-oo.left-Jt;ae.value.scrollTo({left:io,behavior:"smooth"})}};ve(ae,function(){oe(ae.value),e.tableLayout==="auto"&&Ce()}),ve(function(){return[i.value,e.footData,e.footerSummary,e.columns]},function(){var be=setTimeout(function(){mt(),clearTimeout(be)},0)}),ve(o,function(be){st(be)}),_t(function(){mt(),oe(ae.value),st(o.value)});var Oa=function(){e.activeRowType&&at(),Ft.value&&Xt()},Ra=function(){e.activeRowType&&rt(),Ft.value&&Ut()},Rn=function(Re){var Pe;(Pe=e.onRowClick)===null||Pe===void 0||Pe.call(e,Re),e.activeRowType&&et(Re),Ft.value&&Vt()};ve([c],function(be){var Re=Ae(be,1),Pe=Re[0];a.emit("show-element-change",Pe)},{immediate:!0});var qt=B(function(){return xe.value?ue.value:e.data}),wt=function(Re){var Pe=Re.index;if(!Pe&&Pe!==0){var qe;if(!Re.key){Ne.error("Table","scrollToElement: one of `index` or `key` must exist.");return}Pe=(qe=qt.value)===null||qe===void 0?void 0:qe.findIndex(function(Jt){return H(Jt,e.rowKey)===Re.key}),Pe<0&&Ne.error("Table","".concat(Re.key," does not exist in data, check `rowKey` or `data` please."))}Ct.scrollToElement(Ze(Ze({},Re),{},{index:Pe-1}))};return{thList:T,classPrefix:g,innerPagination:we,globalConfig:P,tableFootHeight:v,virtualScrollHeaderPos:W,tableSize:h,tableWidth:Y,tableElmWidth:ee,tableRef:o,tableElmRef:i,sizeClassNames:S,tableBaseClass:w,spansAndLeafNodes:j,dynamicBaseTableClasses:$t,tableContentStyles:_,tableElementStyles:F,dividerBottom:me,virtualScrollClasses:p,tableLayoutClasses:m,tableElmClasses:nn,tableContentRef:ae,isFixedHeader:ne,isWidthOverflow:Q,isFixedColumn:k,rowAndColFixedPosition:Z,showColumnShadow:q,thWidthList:U,isPaginateData:xe,dataSource:ue,affixHeaderRef:xn,affixFooterRef:Sn,bottomContentRef:s,paginationRef:re,showAffixHeader:V,showAffixFooter:G,scrollbarWidth:M,isMultipleHeader:D,showRightDivider:an,resizeLineRef:Pt,resizeLineStyle:At,columnResizeParams:Be,horizontalScrollbarRef:On,tableBodyRef:u,virtualConfig:Ct,showAffixPagination:J,tActiveRow:ze,hoverRow:Xn,showElement:c,scrollToElement:wt,renderPagination:_e,renderTNode:l,onFixedChange:Mt,onHorizontalScroll:te,updateAffixHeaderOrFooter:he,onInnerVirtualScroll:Yt,refreshTable:fe,scrollColumnIntoView:xt,onTableFocus:Oa,onTableBlur:Ra,onInnerRowClick:Rn,paginationAffixRef:f,horizontalScrollAffixRef:x,headerTopAffixRef:E,footerBottomAffixRef:L}},render:function(){var e,a,n=this,r,l,o,i,u,s;if(!this.showElement)return N("div",{ref:"tableRef"},null);var v=this.rowAndColFixedPosition,d=this.tableLayout,g=this.isPaginateData?this.dataSource:this.data,p=((e=this.spansAndLeafNodes)===null||e===void 0?void 0:e.leafColumns)||this.columns,m=(a=this.allowResizeColumnWidth)!==null&&a!==void 0?a:this.resizable;m&&d==="auto"&&Ne.warn("Table","table-layout can not be `auto`, cause you are using column resizable, set `table-layout: fixed` please.");var w=d==="fixed"&&this.isWidthOverflow?"100px":void 0,R=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return N("colgroup",null,[p.map(function(q){var Z={width:Kn((U||m?n.thWidthList[q.colKey]:void 0)||q.width)||w};return q.minWidth&&(Z.minWidth=Kn(q.minWidth)),!Z.width&&!q.minWidth&&n.tableLayout==="fixed"&&(Z.minWidth="80px"),N("col",{key:q.colKey,style:Z},null)})])},C=function(){return n.showHeader===!1?null:!!(n.virtualConfig.isVirtualScroll.value||n.headerAffixedTop)&&(n.headerAffixedTop?N(Un,ke({offsetTop:0},Gn(n.headerAffixedTop),{onFixedChange:n.onFixedChange,ref:"headerTopAffixRef"}),zr(h)?h:{default:function(){return[h]}}):n.isFixedHeader&&h)},O=function(){return N(Un,ke({offsetBottom:0},Gn(n.horizontalScrollAffixedBottom),{style:{marginTop:"-".concat(n.scrollbarWidth*2,"px")},horizontalScrollAffixedBottom:!0,ref:"horizontalScrollAffixRef"}),{default:function(){return[N("div",{ref:"horizontalScrollbarRef",class:["scrollbar",n.tableBaseClass.obviousScrollbar],style:{width:"".concat(n.tableWidth,"px"),overflow:"auto",opacity:Number(n.showAffixFooter)}},[N("div",{style:{width:"".concat(n.tableElmWidth,"px"),height:"5px"}},null)])]}})},S={isFixedHeader:this.isFixedHeader,rowAndColFixedPosition:this.rowAndColFixedPosition,isMultipleHeader:this.isMultipleHeader,bordered:this.bordered,maxHeight:this.maxHeight,height:this.height,spansAndLeafNodes:this.spansAndLeafNodes,thList:this.thList,thWidthList:this.thWidthList,resizable:this.resizable,columnResizeParams:this.columnResizeParams,classPrefix:this.classPrefix,ellipsisOverlayClassName:this.tableSize!=="medium"?this.sizeClassNames[this.tableSize]:"",attach:this.attach,showColumnShadow:this.showColumnShadow,thDraggable:this.thDraggable},_=Ba()<=11?4:0,F=this.isWidthOverflow?this.scrollbarWidth:0,A=$((((r=this.affixHeaderRef)===null||r===void 0?void 0:r.getBoundingClientRect().height)||0)-_),P=setTimeout(function(){var k;A.value=(((k=n.affixHeaderRef)===null||k===void 0?void 0:k.getBoundingClientRect().height)||0)-_,clearTimeout(P)},0),I=B(function(){return A.value-F}),D=gn.headerAffixedTop?Number(this.showAffixHeader):1,j=B(function(){return{width:"".concat(n.tableWidth,"px"),height:"".concat(I.value,"px"),opacity:D}}),T=this.bordered?1:0,y=!!((this.headerAffixedTop||this.virtualConfig.isVirtualScroll.value)&&this.tableWidth)&&N("div",{ref:"affixHeaderRef",style:{width:"".concat(this.tableWidth-T,"px"),opacity:Number(this.showAffixHeader)},class:["scrollbar",z({},this.tableBaseClass.affixedHeaderElm,this.headerAffixedTop||this.virtualConfig.isVirtualScroll.value)]},[N("table",{class:this.tableElmClasses,style:Ze(Ze({},this.tableElementStyles),{},{width:"".concat(this.tableElmWidth,"px")})},[R(!0),N(Nr,S,this.$slots)])]),h=N("div",{class:this.tableBaseClass.affixedHeaderWrap,style:j.value},[y]),b=this.isWidthOverflow?this.scrollbarWidth:0;this.bordered&&(b+=1);var c=!!(this.virtualConfig.isVirtualScroll.value||this.footerAffixedBottom),f=((l=this.footData)===null||l===void 0?void 0:l.length)||this.footerSummary||this.$slots.footerSummary,x=!!(c&&f&&this.tableWidth)&&N(Un,ke({class:this.tableBaseClass.affixedFooterWrap,onFixedChange:this.onFixedChange,offsetBottom:b||0},Gn(this.footerAffixedBottom),{style:{marginTop:"".concat(-1*(((o=this.tableFootHeight)!==null&&o!==void 0?o:0)+b),"px")},ref:"footerBottomAffixRef"}),{default:function(){return[N("div",{ref:"affixFooterRef",style:{width:"".concat(n.tableWidth-T,"px"),opacity:Number(n.showAffixFooter)},class:["scrollbar",z({},n.tableBaseClass.affixedFooterElm,n.footerAffixedBottom||n.virtualConfig.isVirtualScroll.value)]},[N("table",{class:n.tableElmClasses,style:Ze(Ze({},n.tableElementStyles),{},{width:"".concat(n.tableElmWidth,"px")})},[R(!0),N(Mr,{rowKey:n.rowKey,isFixedHeader:n.isFixedHeader,rowAndColFixedPosition:v,footData:n.footData,columns:p,rowAttributes:n.rowAttributes,rowClassName:n.rowClassName,thWidthList:n.thWidthList,footerSummary:n.footerSummary,rowspanAndColspanInFooter:n.rowspanAndColspanInFooter},n.$slots)])])]}}),E="translate(0, ".concat(this.virtualConfig.scrollHeight.value+((i=this.tableFootHeight)!==null&&i!==void 0?i:0)+((u=A.value)!==null&&u!==void 0?u:0),"px)"),L={transform:E,"-ms-transform":E,"-moz-transform":E,"-webkit-transform":E},K=Ze(Ze({classPrefix:this.classPrefix,ellipsisOverlayClassName:this.tableSize!=="medium"?this.sizeClassNames[this.tableSize]:"",rowAndColFixedPosition:v,showColumnShadow:this.showColumnShadow,data:g,virtualConfig:this.virtualConfig,columns:this.spansAndLeafNodes.leafColumns,tableElm:this.tableRef,tableWidth:this.tableWidth,isWidthOverflow:this.isWidthOverflow,scroll:this.scroll,cellEmptyContent:this.cellEmptyContent,tableContentElm:this.tableContentRef,handleRowMounted:this.virtualConfig.handleRowMounted,renderExpandedRow:this.renderExpandedRow},vn(this.$props,Nl)),{},{pagination:this.innerPagination,attach:this.attach,hoverRow:this.hoverRow,activeRow:this.tActiveRow,onRowClick:this.onInnerRowClick}),M=N("div",{ref:"tableContentRef",class:this.tableBaseClass.content,style:this.tableContentStyles,onScroll:this.onInnerVirtualScroll},[this.virtualConfig.isVirtualScroll.value&&N("div",{class:this.virtualScrollClasses.cursor,style:L},null),N("table",{ref:"tableElmRef",class:this.tableElmClasses,style:Ze(Ze({},this.tableElementStyles),{},{width:this.resizable&&this.isWidthOverflow&&this.tableElmWidth?"".concat(this.tableElmWidth,"px"):this.tableElementStyles.width})},[R(!1),this.showHeader&&N(Nr,Ze(Ze({},S),{},{thWidthList:m?this.thWidthList:{}}),this.$slots),N(eu,K,this.$slots),N(Mr,{rowKey:this.rowKey,isFixedHeader:this.isFixedHeader,rowAndColFixedPosition:v,footData:this.footData,columns:p,rowAttributes:this.rowAttributes,rowClassName:this.rowClassName,footerSummary:this.footerSummary,rowspanAndColspanInFooter:this.rowspanAndColspanInFooter,virtualScroll:this.virtualConfig.isVirtualScroll.value},this.$slots)])]),W=De(this.loading)?this.loading:this.$slots.loading,Y=this.loading!==void 0&&N(yl,ke({loading:!!this.loading,text:W,attach:this.tableRef?function(){return n.tableRef}:void 0,showOverlay:!0,size:"small"},this.loadingProps),null),ee=this.renderTNode("topContent"),ae=this.renderTNode("bottomContent"),ne=N("div",{ref:"paginationRef",class:this.tableBaseClass.paginationWrap,style:{opacity:Number(this.showAffixPagination)}},[this.renderPagination()]),Q=!!ae&&N("div",{ref:"bottomContentRef",class:this.tableBaseClass.bottomContent},[ae]);return N("div",{ref:"tableRef",tabindex:"0",class:this.dynamicBaseTableClasses,onFocus:this.onTableFocus,onBlur:this.onTableBlur},[!!ee&&N("div",{class:this.tableBaseClass.topContent},[ee]),C(),M,x,Y,Q,this.showRightDivider&&N("div",{class:this.tableBaseClass.scrollbarDivider,style:{right:"".concat(this.scrollbarWidth,"px"),bottom:this.dividerBottom?"".concat(this.dividerBottom,"px"):void 0,height:"".concat((s=this.tableContentRef)===null||s===void 0?void 0:s.getBoundingClientRect().height,"px")}},null),this.horizontalScrollAffixedBottom&&O(),this.paginationAffixedBottom?N(Un,ke({offsetBottom:0},Gn(this.paginationAffixedBottom),{ref:"paginationAffixRef"}),zr(ne)?ne:{default:function(){return[ne]}}):ne,N("div",{ref:"resizeLineRef",class:this.tableBaseClass.resizeLine,style:this.resizeLineStyle},null)])}});/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */var Bl={asyncLoading:{type:[String,Function]},columnController:{type:Object},columnControllerVisible:{type:Boolean,default:void 0},defaultColumnControllerVisible:{type:Boolean,default:void 0},columns:{type:Array,default:function(){return[]}},displayColumns:{type:Array,default:void 0},defaultDisplayColumns:{type:Array},dragSort:{type:String,validator:function(e){return e?["row","row-handler","col","row-handler-col","drag-col"].includes(e):!0}},dragSortOptions:{type:Object},editableCellState:{type:Function},editableRowKeys:{type:Array},expandIcon:{type:[Boolean,Function],default:!0},expandOnRowClick:Boolean,expandedRow:{type:[String,Function]},expandedRowKeys:{type:Array,default:void 0},defaultExpandedRowKeys:{type:Array,default:function(){return[]}},filterIcon:{type:Function},filterRow:{type:[String,Function]},filterValue:{type:Object,default:void 0},defaultFilterValue:{type:Object},hideSortTips:Boolean,indeterminateSelectedRowKeys:{type:Array},multipleSort:Boolean,reserveSelectedRowOnPaginate:{type:Boolean,default:!0},rowSelectionAllowUncheck:Boolean,rowSelectionType:{type:String,validator:function(e){return e?["single","multiple"].includes(e):!0}},selectOnRowClick:Boolean,selectedRowKeys:{type:Array,default:void 0},defaultSelectedRowKeys:{type:Array,default:function(){return[]}},showSortColumnBgColor:Boolean,sort:{type:[Object,Array],default:void 0},defaultSort:{type:[Object,Array]},sortIcon:{type:Function},sortOnRowDraggable:Boolean,onAsyncLoadingClick:Function,onCellClick:Function,onChange:Function,onColumnChange:Function,onColumnControllerVisibleChange:Function,onDataChange:Function,onDisplayColumnsChange:Function,onDragSort:Function,onExpandChange:Function,onFilterChange:Function,onRowEdit:Function,onRowValidate:Function,onSelectChange:Function,onSortChange:Function,onValidate:Function};/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function Hr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function Wr(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Hr(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Hr(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}var lu=Xe({name:"ColumnCheckboxGroup",props:{checkboxProps:Object,options:{type:Array,default:function(){return[]}},label:String,uniqueKey:String,value:Array,onChange:Function},setup:function(e){var a=We(e),n=a.checkboxProps,r=a.value,l=a.options,o=Hn(),i=B(function(){var m=[];return l.value.forEach(function(w){if(ft(w)==="object"){if(w.disabled)return;w.value?m.push(w.value):typeof w.label=="string"&&m.push(w.label)}else m.push(w)}),m}),u=B(function(){return va(i.value,r.value)}),s=B(function(){var m=u.value.length;return!!(m&&i.value.length===m)}),v=B(function(){var m=u.value.length;return!!(m<i.value.length&&m)}),d=function(w,R){var C={e:R.e,type:"check",current:void 0,option:void 0};if(w){var O,S=de(new Set(r.value.concat(i.value)));(O=e.onChange)===null||O===void 0||O.call(e,S,C)}else{var _,F=r.value.filter(function(A){return!i.value.includes(A)});(_=e.onChange)===null||_===void 0||_.call(e,F,Wr(Wr({},C),{},{type:"uncheck"}))}},g=function(w,R){var C;(C=e.onChange)===null||C===void 0||C.call(e,w,R)},p=B(function(){return["".concat(o.value,"-table__column-controller-item"),z({},"".concat(o.value,"-table__").concat(e.uniqueKey),e.uniqueKey)]});return function(){return N("div",{class:p.value},[N("div",{class:"".concat(o.value,"-table__column-controller-block")},[N(Ha,{indeterminate:v.value,checked:s.value,onChange:d,disabled:!i.value.length},{default:function(){return[e.label]}})]),N("div",{class:"".concat(o.value,"-table__column-controller-block")},[N(Sl,ke({options:l.value},n.value,{modelValue:r.value,onChange:g}),null)])])}}});/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function $r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function Ta(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?$r(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):$r(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function Va(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set,a=0,n=t.length;a<n;a++){var r,l=t[a];(r=l.children)!==null&&r!==void 0&&r.length?Va(l.children,e):l.colKey&&e.add(l.colKey)}return e}function ou(t,e){var a=bt("table",t.locale),n=a.classPrefix,r=a.globalConfig,l=Cn({SettingIcon:oi}),o=l.SettingIcon,i=We(t),u=i.columns,s=i.columnController,v=i.displayColumns,d=i.columnControllerVisible,g=$(null),p=Wt(),m=B(function(){var y,h=(((y=s.value)===null||y===void 0?void 0:y.fields)||de(Va(u.value))).filter(function(b){return b});return new Set(h)}),w=de(Va(u.value)),R=Lt(v,t.defaultDisplayColumns||w,t.onDisplayColumnsChange,"displayColumns"),C=Ae(R,2),O=C[0],S=C[1],_=$(v.value||t.defaultDisplayColumns||w),F=B(function(){var y;if((y=s.value)!==null&&y!==void 0&&(y=y.groupColumns)!==null&&y!==void 0&&y.length)return P(u.value);var h={label:r.value.selectAllText,options:I(u.value)};return[h]});ve([v],function(y){var h=Ae(y,1),b=h[0];_.value=b||t.defaultDisplayColumns||w});function A(y,h){return{label:function(){return xa(e.slots,y,h)},value:y.colKey,disabled:!m.value.has(y.colKey)}}function P(y){var h,b=(h=s.value)===null||h===void 0?void 0:h.groupColumns;if(!(b!=null&&b.length))return[];var c=[],f=function(E){for(var L=0,K=E.length;L<K;L++){for(var M,W=E[L],Y=A(W,L),ee=0,ae=b.length;ee<ae;ee++){var ne,Q=b[ee];Q.columns.includes(W.colKey)&&((ne=c[ee])!==null&&ne!==void 0&&(ne=ne.options)!==null&&ne!==void 0&&ne.length?c[ee].options.push(Y):c[ee]=Ta(Ta({},b[ee]),{},{options:[Y]}))}(M=W.children)!==null&&M!==void 0&&M.length&&f(W.children)}};return f(y),c}function I(y){var h,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if((h=s.value)!==null&&h!==void 0&&(h=h.groupColumns)!==null&&h!==void 0&&h.length)return[];for(var c=0,f=y.length;c<f;c++){var x,E=y[c];(x=E.children)!==null&&x!==void 0&&x.length?I(E.children,b):E.colKey&&b.push(A(E,c))}return b}var D=function(h,b){var c;_.value=h;var f={columns:h,type:b.type,currentColumn:Il(u.value,String(b.current)),e:b.e};(c=t.onColumnChange)===null||c===void 0||c.call(t,f)},j=function(){var h;if(g.value){g.value.show();return}g.value=Eo.confirm(Ta({header:r.value.columnConfigTitleText,body:function(){var c,f=((c=s.value)===null||c===void 0?void 0:c.displayType)==="fixed-width"?"fixed":"auto",x=s.value||{},E=x.columnControllerTopContent,L=x.columnControllerBottomContent,K=N("div",{class:["".concat(n.value,"-table__column-controller"),"".concat(n.value,"-table__column-controller--").concat(f)]},[N("div",{class:"".concat(n.value,"-table__column-controller-body")},[De(E)?E(Ye):p("columnControllerTopContent"),r.value.columnConfigDescriptionText&&N("p",{class:"".concat(n.value,"-table__column-controller-desc")},[r.value.columnConfigDescriptionText]),F.value.map(function(M,W){var Y,ee,ae=(Y=s.value)!==null&&Y!==void 0&&(Y=Y.groupColumns)!==null&&Y!==void 0&&Y.length?String(M.value||W):void 0;return N(lu,{key:M.value||W,uniqueKey:ae,value:_.value,label:M.label,options:M.options,onChange:D,checkboxProps:(ee=s.value)===null||ee===void 0?void 0:ee.checkboxProps},null)}),De(L)?L(Ye):p("columnControllerBottomContent")])]);return K},confirmBtn:r.value.confirmText,cancelBtn:r.value.cancelText,width:612,onConfirm:function(){if(S(de(_.value)),d.value===void 0)g.value.hide();else{var c;(c=t.onColumnControllerVisibleChange)===null||c===void 0||c.call(t,!1,{trigger:"confirm"}),e.emit("update:columnControllerVisible",!1)}},onClose:function(){if(d.value===void 0)g.value.hide();else{var c;(c=t.onColumnControllerVisibleChange)===null||c===void 0||c.call(t,!1,{trigger:"cancel"}),e.emit("update:columnControllerVisible",!1)}}},((h=s.value)===null||h===void 0?void 0:h.dialogProps)||{}))};ve([d],function(y){var h=Ae(y,1),b=h[0];b!==void 0&&(g.value?b?g.value.show():g.value.hide():b&&j())},{immediate:!0});var T=function(){var h,b=!!(s.value&&Object.keys(s.value).length),c=b?s.value.placement||"top-right":"";if(b&&s.value.hideTriggerButton)return null;var f=["".concat(n.value,"-table__column-controller-trigger"),z({},"".concat(n.value,"-align-").concat(c),!!c)];return N("div",{class:f},[N(da,ke({theme:"default",variant:"outline",onClick:j,content:r.value.columnConfigButtonText},(h=t.columnController)===null||h===void 0?void 0:h.buttonProps),{icon:function(){return N(o,null,null)}})])};return{tDisplayColumns:O,columnCheckboxKeys:_,renderColumnController:T}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function iu(t,e){var a=We(t),n=a.expandedRowKeys,r=Wt(),l=bt("table",t.locale),o=l.t,i=l.globalConfig,u=Cn({ChevronRightCircleIcon:Zo}),s=u.ChevronRightCircleIcon,v=it(),d=v.tableExpandClasses,g=v.positiveRotate90,p=v.tableFullRowClasses,m=Lt(n,t.defaultExpandedRowKeys||[],t.onExpandChange,"expandedRowKeys"),w=Ae(m,2),R=w[0],C=w[1],O=B(function(){return!!(t.expandedRow||e.slots.expandedRow||e.slots["expanded-row"])}),S=B(function(){return t.expandIcon!==!1&&O.value}),_=B(function(){var j;return((j=t.columns)===null||j===void 0||(j=j[0])===null||j===void 0?void 0:j.fixed)==="left"}),F=function(T,y){t.expandOnRowClick&&T.stopPropagation();var h=H(y,t.rowKey||"id"),b=R.value.indexOf(h),c=de(R.value);b!==-1?c.splice(b,1):c.push(h),C(c,{expandedRowData:t.data.filter(function(f){return c.includes(H(f,t.rowKey||"id"))}),currentRowData:y})},A=function(T,y){var h=y.row,b=y.rowIndex,c=H(h,t.rowKey||"id"),f=R.value.includes(c),x=r("expandIcon",{defaultNode:o(i.value.expandIcon)||N(s,null,null),params:{row:h,index:b}});if(!x)return null;var E=[d.iconBox,d[f?"expanded":"collapsed"],z({},g,f)];return N("span",{class:E,onClick:function(K){return F(K,h)}},[x])},P=function(){var T={colKey:"__EXPAND_ROW_ICON_COLUMN__",width:46,className:d.iconCell,fixed:_.value?"left":void 0,cell:A,stopPropagation:!0};return T},I=function(T){var y=H(T.row,t.rowKey||"id");if(!R.value||!R.value.includes(y))return null;var h=T.isWidthOverflow&&t.columns.find(function(b){return b.fixed==="left"});return N("tr",{key:"expand_".concat(y),class:[d.row,z({},p.base,h)]},[N("td",{colspan:T.columns.length},[N("div",{class:[d.rowInner,z({},p.innerFullRow,h)],style:h?{width:"".concat(T.tableWidth,"px")}:{}},[N("div",{class:p.innerFullElement},[r("expandedRow",{params:T})])])])])},D=function(T){F(T.e,T.row)};return{showExpandedRow:O,showExpandIconColumn:S,getExpandColumn:P,renderExpandedRow:I,onInnerExpandRowClick:D}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function Xa(t,e,a){if(!t)return!1;var n=De(t.disabled)?t.disabled({row:e,rowIndex:a}):t.disabled;return t.checkProps&&(De(t.checkProps)?n=n||t.checkProps({row:e,rowIndex:a}).disabled:t.checkProps==="object"&&(n=n||t.checkProps.disabled)),!!n}function uu(t,e,a){for(var n={},r=0,l=e.length;r<l;r++){var o=H(e[r],a);t.includes(o)&&(n[o]=!0)}return n}function ha(t,e){for(var a=0,n=t.length;a<n;a++){var r;if(t[a].colKey===e)return t[a];if((r=t[a].children)!==null&&r!==void 0&&r.length){var l=ha(t[a].children,e);if(l)return l}}return null}function Vr(t,e){for(var a=0,n=t.length;a<n;a++){var r;if(t[a].colKey===e)return a;if((r=t[a].children)!==null&&r!==void 0&&r.length){var l=ha(t[a].children,e);if(l)return a}}return-1}function zl(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=0,n=t.length;a<n;a++){var r,l=t[a];l.filter&&"resetValue"in l.filter&&(e[l.colKey]=l.filter.resetValue),(r=l.children)!==null&&r!==void 0&&r.length&&zl(l.children,e)}return e}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function Xr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function Jn(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Xr(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Xr(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function su(t,e){var a=We(t),n=a.selectedRowKeys,r=a.columns,l=a.rowKey,o=a.data,i=a.reserveSelectedRowOnPaginate,u=$(o.value),s=$(),v=Lt(n,t.defaultSelectedRowKeys||[],t.onSelectChange,"selectedRowKeys"),d=Ae(v,2),g=d[0],p=d[1],m=$(new Map),w=B(function(){return t.columns.find(function(c){var f=c.type;return["multiple","single"].includes(f)})}),R=B(function(){var c;return t.rowSelectionType||((c=w.value)===null||c===void 0?void 0:c.type)||"single"}),C=B(function(){var c=i.value?o.value:u.value;return c.filter(function(f,x){return!_(f,x)})}),O=B(function(){return va(g.value,C.value.map(function(c){return H(c,t.rowKey||"id")}))}),S=B(function(){var c;if(t.rowSelectionAllowUncheck)return!0;var f=R.value==="single";return!f||!w.value||!("allowUncheck"in((c=w.value)===null||c===void 0?void 0:c.checkProps))?!1:w.value.checkProps.allowUncheck});ve([o,r,g,w,l],function(){var c,f=function(W){return w.value.disabled(W)?e.disabled:""},x=(c=w.value)!==null&&c!==void 0&&c.disabled?f:void 0,E=new Set(g.value),L=function(W){var Y=W.row,ee=H(Y,t.rowKey||"id");return E.has(ee)?e.selected:""},K=E.size?L:void 0;s.value=[x,K]},{immediate:!0});function _(c,f){return Xa(w.value,c,f)}function F(){return function(){var c=O.value.length>0&&O.value.length<C.value.length,f=O.value.length!==0&&C.value.length!==0&&O.value.length===C.value.length;return N(Ha,{checked:f,indeterminate:c,disabled:!C.value.length,onChange:D},null)}}function A(c){var f=c.col,x=c.row,E=c.rowIndex,L=De(f.disabled)?f.disabled({row:x,rowIndex:E}):f.disabled,K=De(f.checkProps)?f.checkProps({row:x,rowIndex:E}):f.checkProps;return{disabled:L||(K==null?void 0:K.disabled),checkProps:K}}function P(c){var f=c.col,x=c.row,E=x===void 0?{}:x,L=g.value.includes(H(E,t.rowKey||"id")),K=A(c),M=K.disabled,W=K.checkProps,Y=Jn(Jn({checked:L,disabled:M},W),{},{onClick:function(Q){if(ft(Q)==="object"&&"e"in Q){var k;(k=Q.e)===null||k===void 0||k.stopPropagation()}else Q==null||Q.stopPropagation()},onChange:function(){return I(E)}});if(f.type==="single")return N(Ho,Y,null);if(f.type==="multiple"){var ee,ae=(ee=t.indeterminateSelectedRowKeys)!==null&&ee!==void 0&&ee.length?t.indeterminateSelectedRowKeys.includes(H(E,t.rowKey)):!1;return N(Ha,ke({indeterminate:ae},Y),null)}return null}function I(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=de(g.value),x=t.rowKey||"id",E=H(c,x),L=f.indexOf(E),K=L!==-1;if(R.value==="multiple")K?f.splice(L,1):f.push(E);else if(R.value==="single")f=K&&S.value?[]:[E];else{Ne.warn("Table","`column.type` must be one of `multiple` and `single`");return}p(f,{selectedRowData:f.map(function(M){return m.value.get(M)}),currentRowKey:E,currentRowData:c,type:K?"uncheck":"check"})}function D(c){var f,x=t.rowKey||"id",E=C.value.map(function(M){return H(M,x)}),L=((f=n.value)===null||f===void 0?void 0:f.filter(function(M){return!E.includes(M)}))||[],K=c?[].concat(de(L),de(E)):de(L);p(K,{selectedRowData:c?K.map(function(M){return m.value.get(M)}):[],type:c?"check":"uncheck",currentRowKey:"CHECK_ALL_BOX"})}function j(c){var f=["multiple","single"].includes(c.type);return f?Jn(Jn({},c),{},{width:c.width||64,className:[e.checkCell,c.className],cell:function(E,L){return P(L)},title:c.type==="multiple"?F():c.title}):c}var T=function(f){var x=f.row,E=f.index,L=t.columns.findIndex(function(W){return W.colKey==="row-select"}),K=!1;if(L!==-1){var M;K=(M=A({row:x,rowIndex:E,col:t.columns[L],colIndex:L}))===null||M===void 0?void 0:M.disabled}K||I(x)};ve([o,l],function(){for(var c=0,f=o.value.length;c<f;c++)m.value.set(H(o.value[c],l.value||"id"),o.value[c])},{immediate:!0});var y=B(function(){return!!(w.value||t.selectOnRowClick||t.selectedRowKeys)}),h=function(){p([],{selectedRowData:[],currentRowKey:void 0,currentRowData:void 0,type:"uncheck"})},b=function(f){var x=f.activeRowList,E=f.action;if(y.value){if(E==="clear"){h();return}if(E==="select-all"){D(!0);return}if(R.value==="single"){E==="space-one-selection"&&I(x[0].row);return}var L=x.filter(function(ne){var Q=ne.row,k=ne.rowIndex;return!A({row:Q,rowIndex:k,col:w.value,colIndex:void 0}).disabled});if(L.length){var K=L.map(function(ne){var Q=ne.row;return H(Q,t.rowKey)}),M=va(g.value,K),W=M.length!==K.length,Y=g.value.filter(function(ne){return!K.includes(ne)}),ee=W?de(new Set(g.value.concat(K))):Y,ae=E==="space-one-selection"?x[0].row:void 0;p(ee,{selectedRowData:x,currentRowKey:H(ae,t.rowKey),currentRowData:ae,type:W?"check":"uncheck"})}}};return{selectColumn:w,showRowSelect:y,selectedRowClassNames:s,currentPaginateData:u,setTSelectedRowKeys:p,formatToRowSelectColumn:j,onInnerSelectRowClick:T,handleRowSelectWithAreaSelection:b}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function cu(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!yn(t)}var du=Xe({name:"TSorterButton",props:{sortType:{type:String,default:"all"},sortOrder:{type:String,default:function(){return""}},locale:Object,sortIcon:Function,tooltipProps:Object,hideSortTips:Boolean},emits:["sort-icon-click"],setup:function(e,a){var n=it(),r=n.tableSortClasses,l=n.negativeRotate180,o=Ca(),i=bt("table",e.locale),u=i.t,s=i.globalConfig,v=Cn({ChevronDownIcon:$o}),d=v.ChevronDownIcon,g=B(function(){return e.sortType==="all"?["asc","desc"]:[e.sortType]}),p=function(R,C){a.emit("sort-icon-click",R,{descending:C==="desc"})},m=function(R,C){var O=u(s.value.sortIcon)||N(d,null,null),S=o("sortIcon",O),_=[C,r.sortIcon,r.iconDirection[R],z({},l,R==="asc")];return N("span",{class:_,onClick:function(A){return p(A,R)}},[S])};return{t:u,globalConfig:s,tableSortClasses:r,negativeRotate180:l,allowSortTypes:g,getSortIcon:m}},render:function(){var e=this,a=this.tableSortClasses,n=[a.trigger,z({},a.doubleIcon,this.allowSortTypes.length>1)],r={asc:this.globalConfig.sortAscendingOperationText,desc:this.globalConfig.sortDescendingOperationText},l=this.allowSortTypes.map(function(o){var i,u,s=o===e.sortOrder?a.iconActive:a.iconDefault,v=e.globalConfig.sortCancelOperationText,d=o===e.sortOrder?v:r[o];return((u=e.hideSortTips)!==null&&u!==void 0?u:e.globalConfig.hideSortTips)?e.getSortIcon(o,s):N(xl,ke({content:d,placement:"right",showArrow:!1,class:e.tableSortClasses.iconDirection[o]},e.tooltipProps),cu(i=e.getSortIcon(o,s))?i:{default:function(){return[i]}})});return N("div",{class:n},[l])}});/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function Ur(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function vu(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Ur(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ur(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function fu(t,e){var a=e.slots,n=We(t),r=n.sort,l=n.data,o=$(),i=Lt(r,t.defaultSort,t.onSortChange,"sort"),u=Ae(i,2),s=u[0],v=u[1],d=Lt(l,[],t.onDataChange,"data"),g=Ae(d,2),p=g[0],m=g[1],w=B(function(){return S(t.columns)}),R=$(),C=B(function(){var T=s.value;return T?Da(T)?T:[T]:[]}),O=B(function(){var T={};return C.value.forEach(function(y,h){var b=y.sortBy;T[b]=vu({index:h},y)}),T});function S(T){for(var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=0,b=T.length;h<b;h++){var c,f=T[h];De(f.sorter)&&(y[f.colKey]=f.sorter),(c=f.children)!==null&&c!==void 0&&c.length&&S(f.children,y)}return y}function _(T){var y=T;if(Object.keys(w.value).length){o.value||(o.value=p.value);var h=!y||y instanceof Array&&!y.length,b=!(y instanceof Array)&&!(y!=null&&y.sortBy);if(h||b)return m(o.value,{trigger:"sort"}),o.value;var c=y instanceof Array?y:[y],f=p.value.slice().sort(function(x,E){for(var L=0,K=0,M=c.length;K<M;K++){var W=c[K],Y=w.value[W.sortBy];if(L===0&&Y)L=W.descending?Y(E,x):Y(x,E);else break}return L});if(JSON.stringify(f)!==JSON.stringify(p.value))return m(f,{trigger:"sort"}),f}}function F(T,y){var h,b;if(t.multipleSort)b=I(T,y);else{var c=s.value instanceof Array?s.value[0]:s.value;b=P(T,c,y)}var f=_(b),x=f||p.value,E=x;v(b,{currentDataSource:E,col:T}),(h=t.onChange)===null||h===void 0||h.call(t,{sorter:b},{currentData:x,trigger:"sorter"}),R.value=b}function A(T){if(T!==void 0)return T?"desc":"asc"}function P(T,y,h){if(!(y&&y.sortBy===T.colKey&&y.descending===h.descending))return{sortBy:T.colKey,descending:h.descending}}function I(T,y){Array.isArray(s.value)||(s.value=s.value?[s.value]:[]);for(var h=s.value,b=T.colKey,c=de(h),f=0,x=h.length;f<x;f++)if(h[f].sortBy===b){var E=P(T,h[f],y);return E?c[f]=E:c.splice(f,1),c}return c.push({sortBy:b,descending:y.descending}),c}function D(T){var y,h=T.col;if(!h.sorter)return null;var b={sortType:h.sortType,sortOrder:A((y=O.value[h.colKey])===null||y===void 0?void 0:y.descending),sortIcon:t.sortIcon,hideSortTips:t.hideSortTips,locale:t.locale};return N(du,ke(b,{onSortIconClick:function(f,x){return F(h,x)}}),{sortIcon:a.sortIcon})}var j=function(y,h){var b=Da(y)?y:[y],c=Da(h)?h:[h];if(b.length&&!h)return!1;for(var f=function(){var M=b[E],W=c.find(function(Y){return Y.sortBy===M.sortBy});return W?{v:M.descending===W.descending}:{v:!1}},x,E=0,L=b.length;E<L;E++)if(x=f(),x)return x.v};return ve(function(){return[s,t.data]},function(){!s.value||!Object.keys(s.value).length||!p.value.length||j(s.value,R.value)||_(s.value)},{immediate:!0}),{renderSortIcon:D}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function Gr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function Zn(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Gr(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Gr(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}var hu=Xe({name:"TableFilterController",props:{locale:Object,column:Object,colIndex:Number,tFilterValue:Object,innerFilterValue:Object,tableFilterClasses:Object,isFocusClass:String,primaryTableElement:{},popupProps:Object,attach:[String,Function],onVisibleChange:Function},emits:["inner-filter-change","reset","confirm"],setup:function(e,a){var n=$(null),r=Ca(),l=bt("table",e.locale),o=l.t,i=l.globalConfig,u=Cn({FilterIcon:ni}),s=u.FilterIcon,v=$(!1),d=function(C){var O;v.value=C,(O=e.onVisibleChange)===null||O===void 0||O.call(e,C)},g=function(C,O,S){if(!S)return null;var _=!!S.setup;if(De(C.filter.component)&&!_)return C.filter.component(function(A,P){var I=ft(P)==="object"&&"attrs"in P?P.attrs:{};return Ye(A,{props:Zn(Zn({},O),I)})});var F=C.filter||{};return N(S,ke({class:F.classNames,style:F.style},F.attrs,O),null)},p=function(C){var O,S,_,F=["single","multiple","input"];if((O=C.filter)!==null&&O!==void 0&&O.type&&!F.includes(C.filter.type)){console.error("TDesign Table Error: column.filter.type must be the following: ".concat(JSON.stringify(F)));return}var A=e.innerFilterValue,P=A===void 0?{}:A,I={single:Wo,multiple:Sl,input:Xo}[C.filter.type]||C.filter.component;if(!(!I&&!C.filter.component)){var D=Zn(Zn({options:["single","multiple"].includes(C.filter.type)?(S=C.filter)===null||S===void 0?void 0:S.list:void 0},((_=C.filter)===null||_===void 0?void 0:_.props)||{}),{},{onChange:function(T,y){var h,b;if(a.emit("inner-filter-change",T,C),(h=C.filter.props)!==null&&h!==void 0&&h.onChange){var c,f;(c=(f=C.filter.props).onChange)===null||c===void 0||c.call(f,T,y)}(b=C.filter)!==null&&b!==void 0&&(b=b.confirmEvents)!==null&&b!==void 0&&b.includes("onChange")&&(v.value=!1)}});return C.colKey&&P&&C.colKey in P&&(D.value=P==null?void 0:P[C.colKey]),C.filter.confirmEvents&&C.filter.confirmEvents.forEach(function(j){j!=="onChange"&&(D[j]=function(){a.emit("confirm",C),v.value=!1})}),N("div",{class:e.tableFilterClasses.contentInner},[g(C,D,I)])}},m=function(C){if(C.filter.showConfirmAndReset)return N("div",{class:e.tableFilterClasses.bottomButtons},[N(da,{theme:"default",size:"small",onClick:function(){a.emit("reset",C),v.value=!1}},{default:function(){return[i.value.resetText]}}),N(da,{theme:"primary",size:"small",onClick:function(){a.emit("confirm",C),v.value=!1}},{default:function(){return[i.value.confirmText]}})])},w=function(){return N("div",{class:e.tableFilterClasses.popupContent},[p(e.column),m(e.column)])};return{t:o,globalConfig:i,FilterIcon:s,filterPopupVisible:v,triggerElementRef:n,renderTNode:r,getContent:w,onFilterPopupVisibleChange:d}},render:function(){var e,a=this,n=this.column,r=this.popupProps,l=this.FilterIcon;if(!n.filter||n.filter&&!Object.keys(n.filter).length)return null;var o=this.t(this.globalConfig.filterIcon)||N(l,null,null),i=(e=this.tFilterValue)===null||e===void 0?void 0:e[n.colKey],u=ft(i)==="object"&&!Do(i),s=![null,void 0,""].includes(i)&&ft(i)!=="object";return N(Vo,ke({attach:this.attach||(this.primaryTableElement?function(){return a.primaryTableElement}:void 0),visible:this.filterPopupVisible,destroyOnClose:!0,trigger:"click",placement:"bottom-right",showArrow:!0,overlayClassName:this.tableFilterClasses.popup,onVisibleChange:function(d){return a.onFilterPopupVisibleChange(d)},class:[this.tableFilterClasses.icon,z({},this.isFocusClass,u||s)],content:this.getContent},r),{default:function(){return[N("div",{ref:"triggerElementRef"},[a.renderTNode("filterIcon",{defaultNode:o,params:{col:n,colIndex:a.colIndex}})])]}})}});/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function Yr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function Qn(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Yr(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Yr(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function Hl(t){var e=t instanceof Array&&t.length,a=ft(t)==="object"&&!(t instanceof Array),n=a&&Object.keys(t).length;return e||n||!["null","","undefined"].includes(String(t))}function gu(t){var e={};return Object.keys(t).forEach(function(a){var n=t[a];Hl(n)&&(e[a]=n)}),e}function pu(t,e){var a=$(null),n=bt("table",t.locale),r=n.t,l=n.globalConfig,o=Ca(),i=We(t),u=i.filterValue,s=i.columns,v=it(),d=v.tableFilterClasses,g=v.isFocusClass,p=$(),m=Lt(u,t.defaultFilterValue,t.onFilterChange,"filterValue"),w=Ae(m,2),R=w[0],C=w[1],O=$(R.value),S=B(function(){var c=gu(R.value||{});return!R.value||!Object.keys(c).length});ve([R],function(c){var f=Ae(c,1),x=f[0];O.value=x});function _(){var c,f;if(S.value)return null;var x=N("div",{class:d.result},[N("span",null,[r(l.value.searchResultText,{result:F(),count:((c=t.pagination)===null||c===void 0?void 0:c.total)||((f=t.data)===null||f===void 0?void 0:f.length)})]),N(da,{theme:"primary",variant:"text",onClick:j},{default:function(){return[l.value.clearFilterResultButtonText]}})]),E=o("filterRow");return t.filterRow&&!E||t.filterRow===null?null:N("div",{class:d.inner},[E||x])}function F(){var c=[],f=[];return A(t.columns,f),f.filter(function(x){return x.filter}).forEach(function(x,E){var L=R.value[x.colKey];if(x.filter.list&&!["null"].includes(String(L))){var K=L instanceof Array?L:[L],M=[];x.filter.list.forEach(function(ne){K.includes(ne.value)&&M.push(ne.label)}),L=M.join()}if(Hl(L)){var W,Y,ee=De((W=x.filter)===null||W===void 0?void 0:W.label)?x.filter.label(Ye):(Y=x.filter)===null||Y===void 0?void 0:Y.label,ae=xa(e.slots,x,E);c.push("".concat(ee||ae,"").concat(L))}}),c.join("")}function A(c,f){c.forEach(function(x){x.children&&A(x.children,f),f.push(x)})}function P(c,f){var x=Qn(Qn({},O.value),{},z({},f.colKey,c));O.value=x,f.filter.showConfirmAndReset||I(x,"filter-change",f)}function I(c,f,x){var E;C(c,{col:x,trigger:f}),(E=t.onChange)===null||E===void 0||E.call(t,{filter:c},{trigger:"filter"})}function D(c){var f,x,E=Qn(Qn({},R.value),{},z({},c.colKey,(f=(x=c.filter.resetValue)!==null&&x!==void 0?x:{single:"",multiple:[],input:""}[c.filter.type])!==null&&f!==void 0?f:""));I(E,"reset",c)}function j(){var c=zl(s.value);I(c,"clear",void 0)}function T(c){I(O.value,"confirm",c)}function y(c){var f,x=c.col,E=c.colIndex;return N(hu,{column:x,colIndex:E,filterIcon:t.filterIcon,tFilterValue:R.value,innerFilterValue:O.value,tableFilterClasses:d,isFocusClass:g,popupProps:x.filter.popupProps,attach:t.attach,locale:t.locale,onReset:D,onConfirm:T,onInnerFilterChange:P,primaryTableElement:(f=a.value)===null||f===void 0?void 0:f.$el,onVisibleChange:b},{filterIcon:e.slots.filterIcon})}function h(c){a.value=c}function b(c){c&&!p.value&&(p.value=!c)}return{hasEmptyCondition:S,isTableOverflowHidden:p,renderFilterIcon:y,renderFirstFilterRow:_,setFilterPrimaryTableRef:h}}/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function qr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function Dt(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?qr(Object(a),!0).forEach(function(n){bu(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):qr(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function oa(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?oa=function(e){return typeof e}:oa=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oa(t)}function bu(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function Nt(){return Nt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Nt.apply(this,arguments)}function mu(t,e){if(t==null)return{};var a={},n=Object.keys(t),r,l;for(l=0;l<n.length;l++)r=n[l],!(e.indexOf(r)>=0)&&(a[r]=t[r]);return a}function wu(t,e){if(t==null)return{};var a=mu(t,e),n,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var yu="1.15.0";function jt(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var kt=jt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),$n=jt(/Edge/i),Jr=jt(/firefox/i),In=jt(/safari/i)&&!jt(/chrome/i)&&!jt(/android/i),Wl=jt(/iP(ad|od|hone)/i),$l=jt(/chrome/i)&&jt(/android/i),Vl={capture:!1,passive:!1};function Oe(t,e,a){t.addEventListener(e,a,!kt&&Vl)}function ye(t,e,a){t.removeEventListener(e,a,!kt&&Vl)}function ga(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Cu(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Rt(t,e,a,n){if(t){a=a||document;do{if(e!=null&&(e[0]===">"?t.parentNode===a&&ga(t,e):ga(t,e))||n&&t===a)return t;if(t===a)break}while(t=Cu(t))}return null}var Zr=/\s+/g;function ct(t,e,a){if(t&&e)if(t.classList)t.classList[a?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(Zr," ").replace(" "+e+" "," ");t.className=(n+(a?" "+e:"")).replace(Zr," ")}}function ie(t,e,a){var n=t&&t.style;if(n){if(a===void 0)return document.defaultView&&document.defaultView.getComputedStyle?a=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(a=t.currentStyle),e===void 0?a:a[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=a+(typeof a=="string"?"":"px")}}function fn(t,e){var a="";if(typeof t=="string")a=t;else do{var n=ie(t,"transform");n&&n!=="none"&&(a=n+" "+a)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(a)}function Xl(t,e,a){if(t){var n=t.getElementsByTagName(e),r=0,l=n.length;if(a)for(;r<l;r++)a(n[r],r);return n}return[]}function Et(){var t=document.scrollingElement;return t||document.documentElement}function Ve(t,e,a,n,r){if(!(!t.getBoundingClientRect&&t!==window)){var l,o,i,u,s,v,d;if(t!==window&&t.parentNode&&t!==Et()?(l=t.getBoundingClientRect(),o=l.top,i=l.left,u=l.bottom,s=l.right,v=l.height,d=l.width):(o=0,i=0,u=window.innerHeight,s=window.innerWidth,v=window.innerHeight,d=window.innerWidth),(e||a)&&t!==window&&(r=r||t.parentNode,!kt))do if(r&&r.getBoundingClientRect&&(ie(r,"transform")!=="none"||a&&ie(r,"position")!=="static")){var g=r.getBoundingClientRect();o-=g.top+parseInt(ie(r,"border-top-width")),i-=g.left+parseInt(ie(r,"border-left-width")),u=o+l.height,s=i+l.width;break}while(r=r.parentNode);if(n&&t!==window){var p=fn(r||t),m=p&&p.a,w=p&&p.d;p&&(o/=w,i/=m,d/=m,v/=w,u=o+v,s=i+d)}return{top:o,left:i,bottom:u,right:s,width:d,height:v}}}function Qr(t,e,a){for(var n=Ht(t,!0),r=Ve(t)[e];n;){var l=Ve(n)[a],o=void 0;if(o=r>=l,!o)return n;if(n===Et())break;n=Ht(n,!1)}return!1}function pn(t,e,a,n){for(var r=0,l=0,o=t.children;l<o.length;){if(o[l].style.display!=="none"&&o[l]!==le.ghost&&(n||o[l]!==le.dragged)&&Rt(o[l],a.draggable,t,!1)){if(r===e)return o[l];r++}l++}return null}function or(t,e){for(var a=t.lastElementChild;a&&(a===le.ghost||ie(a,"display")==="none"||e&&!ga(a,e));)a=a.previousElementSibling;return a||null}function pt(t,e){var a=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==le.clone&&(!e||ga(t,e))&&a++;return a}function el(t){var e=0,a=0,n=Et();if(t)do{var r=fn(t),l=r.a,o=r.d;e+=t.scrollLeft*l,a+=t.scrollTop*o}while(t!==n&&(t=t.parentNode));return[e,a]}function xu(t,e){for(var a in t)if(t.hasOwnProperty(a)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[a][n])return Number(a)}return-1}function Ht(t,e){if(!t||!t.getBoundingClientRect)return Et();var a=t,n=!1;do if(a.clientWidth<a.scrollWidth||a.clientHeight<a.scrollHeight){var r=ie(a);if(a.clientWidth<a.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||a.clientHeight<a.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!a.getBoundingClientRect||a===document.body)return Et();if(n||e)return a;n=!0}}while(a=a.parentNode);return Et()}function Su(t,e){if(t&&e)for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t}function Pa(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var jn;function Ul(t,e){return function(){if(!jn){var a=arguments,n=this;a.length===1?t.call(n,a[0]):t.apply(n,a),jn=setTimeout(function(){jn=void 0},e)}}}function Ou(){clearTimeout(jn),jn=void 0}function Gl(t,e,a){t.scrollLeft+=e,t.scrollTop+=a}function Yl(t){var e=window.Polymer,a=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):a?a(t).clone(!0)[0]:t.cloneNode(!0)}var vt="Sortable"+new Date().getTime();function Ru(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(r){if(!(ie(r,"display")==="none"||r===le.ghost)){t.push({target:r,rect:Ve(r)});var l=Dt({},t[t.length-1].rect);if(r.thisAnimationDuration){var o=fn(r,!0);o&&(l.top-=o.f,l.left-=o.e)}r.fromRect=l}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(xu(t,{target:n}),1)},animateAll:function(n){var r=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var l=!1,o=0;t.forEach(function(i){var u=0,s=i.target,v=s.fromRect,d=Ve(s),g=s.prevFromRect,p=s.prevToRect,m=i.rect,w=fn(s,!0);w&&(d.top-=w.f,d.left-=w.e),s.toRect=d,s.thisAnimationDuration&&Pa(g,d)&&!Pa(v,d)&&(m.top-d.top)/(m.left-d.left)===(v.top-d.top)/(v.left-d.left)&&(u=Du(m,g,p,r.options)),Pa(d,v)||(s.prevFromRect=v,s.prevToRect=d,u||(u=r.options.animation),r.animate(s,m,d,u)),u&&(l=!0,o=Math.max(o,u),clearTimeout(s.animationResetTimer),s.animationResetTimer=setTimeout(function(){s.animationTime=0,s.prevFromRect=null,s.fromRect=null,s.prevToRect=null,s.thisAnimationDuration=null},u),s.thisAnimationDuration=u)}),clearTimeout(e),l?e=setTimeout(function(){typeof n=="function"&&n()},o):typeof n=="function"&&n(),t=[]},animate:function(n,r,l,o){if(o){ie(n,"transition",""),ie(n,"transform","");var i=fn(this.el),u=i&&i.a,s=i&&i.d,v=(r.left-l.left)/(u||1),d=(r.top-l.top)/(s||1);n.animatingX=!!v,n.animatingY=!!d,ie(n,"transform","translate3d("+v+"px,"+d+"px,0)"),this.forRepaintDummy=Eu(n),ie(n,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),ie(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){ie(n,"transition",""),ie(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},o)}}}}function Eu(t){return t.offsetWidth}function Du(t,e,a,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-a.top,2)+Math.pow(e.left-a.left,2))*n.animation}var on=[],Aa={initializeByDefault:!0},Vn={mount:function(e){for(var a in Aa)Aa.hasOwnProperty(a)&&!(a in e)&&(e[a]=Aa[a]);on.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),on.push(e)},pluginEvent:function(e,a,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var l=e+"Global";on.forEach(function(o){a[o.pluginName]&&(a[o.pluginName][l]&&a[o.pluginName][l](Dt({sortable:a},n)),a.options[o.pluginName]&&a[o.pluginName][e]&&a[o.pluginName][e](Dt({sortable:a},n)))})},initializePlugins:function(e,a,n,r){on.forEach(function(i){var u=i.pluginName;if(!(!e.options[u]&&!i.initializeByDefault)){var s=new i(e,a,e.options);s.sortable=e,s.options=e.options,e[u]=s,Nt(n,s.defaults)}});for(var l in e.options)if(e.options.hasOwnProperty(l)){var o=this.modifyOption(e,l,e.options[l]);typeof o<"u"&&(e.options[l]=o)}},getEventProperties:function(e,a){var n={};return on.forEach(function(r){typeof r.eventProperties=="function"&&Nt(n,r.eventProperties.call(a[r.pluginName],e))}),n},modifyOption:function(e,a,n){var r;return on.forEach(function(l){e[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[a]=="function"&&(r=l.optionListeners[a].call(e[l.pluginName],n))}),r}};function _u(t){var e=t.sortable,a=t.rootEl,n=t.name,r=t.targetEl,l=t.cloneEl,o=t.toEl,i=t.fromEl,u=t.oldIndex,s=t.newIndex,v=t.oldDraggableIndex,d=t.newDraggableIndex,g=t.originalEvent,p=t.putSortable,m=t.extraEventProperties;if(e=e||a&&a[vt],!!e){var w,R=e.options,C="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!kt&&!$n?w=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(w=document.createEvent("Event"),w.initEvent(n,!0,!0)),w.to=o||a,w.from=i||a,w.item=r||a,w.clone=l,w.oldIndex=u,w.newIndex=s,w.oldDraggableIndex=v,w.newDraggableIndex=d,w.originalEvent=g,w.pullMode=p?p.lastPutMode:void 0;var O=Dt(Dt({},m),Vn.getEventProperties(n,e));for(var S in O)w[S]=O[S];a&&a.dispatchEvent(w),R[C]&&R[C].call(e,w)}}var Tu=["evt"],lt=function(e,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.evt,l=wu(n,Tu);Vn.pluginEvent.bind(le)(e,a,Dt({dragEl:X,parentEl:He,ghostEl:se,rootEl:Ie,nextEl:tn,lastDownEl:ia,cloneEl:Le,cloneHidden:zt,dragStarted:_n,putSortable:Je,activeSortable:le.active,originalEvent:r,oldIndex:dn,oldDraggableIndex:Ln,newIndex:dt,newDraggableIndex:Bt,hideGhostForTarget:Ql,unhideGhostForTarget:eo,cloneNowHidden:function(){zt=!0},cloneNowShown:function(){zt=!1},dispatchSortableEvent:function(i){tt({sortable:a,name:i,originalEvent:r})}},l))};function tt(t){_u(Dt({putSortable:Je,cloneEl:Le,targetEl:X,rootEl:Ie,oldIndex:dn,oldDraggableIndex:Ln,newIndex:dt,newDraggableIndex:Bt},t))}var X,He,se,Ie,tn,ia,Le,zt,dn,dt,Ln,Bt,ea,Je,cn=!1,pa=!1,ba=[],Zt,yt,Fa,Ka,tl,nl,_n,un,Nn,kn=!1,ta=!1,ua,Qe,Ia=[],Ua=!1,ma=[],Sa=typeof document<"u",na=Wl,al=$n||kt?"cssFloat":"float",Pu=Sa&&!$l&&!Wl&&"draggable"in document.createElement("div"),ql=function(){if(Sa){if(kt)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),Jl=function(e,a){var n=ie(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),l=pn(e,0,a),o=pn(e,1,a),i=l&&ie(l),u=o&&ie(o),s=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+Ve(l).width,v=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+Ve(o).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&i.float&&i.float!=="none"){var d=i.float==="left"?"left":"right";return o&&(u.clear==="both"||u.clear===d)?"vertical":"horizontal"}return l&&(i.display==="block"||i.display==="flex"||i.display==="table"||i.display==="grid"||s>=r&&n[al]==="none"||o&&n[al]==="none"&&s+v>r)?"vertical":"horizontal"},Au=function(e,a,n){var r=n?e.left:e.top,l=n?e.right:e.bottom,o=n?e.width:e.height,i=n?a.left:a.top,u=n?a.right:a.bottom,s=n?a.width:a.height;return r===i||l===u||r+o/2===i+s/2},Fu=function(e,a){var n;return ba.some(function(r){var l=r[vt].options.emptyInsertThreshold;if(!(!l||or(r))){var o=Ve(r),i=e>=o.left-l&&e<=o.right+l,u=a>=o.top-l&&a<=o.bottom+l;if(i&&u)return n=r}}),n},Zl=function(e){function a(l,o){return function(i,u,s,v){var d=i.options.group.name&&u.options.group.name&&i.options.group.name===u.options.group.name;if(l==null&&(o||d))return!0;if(l==null||l===!1)return!1;if(o&&l==="clone")return l;if(typeof l=="function")return a(l(i,u,s,v),o)(i,u,s,v);var g=(o?i:u).options.group.name;return l===!0||typeof l=="string"&&l===g||l.join&&l.indexOf(g)>-1}}var n={},r=e.group;(!r||oa(r)!="object")&&(r={name:r}),n.name=r.name,n.checkPull=a(r.pull,!0),n.checkPut=a(r.put),n.revertClone=r.revertClone,e.group=n},Ql=function(){!ql&&se&&ie(se,"display","none")},eo=function(){!ql&&se&&ie(se,"display","")};Sa&&!$l&&document.addEventListener("click",function(t){if(pa)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),pa=!1,!1},!0);var Qt=function(e){if(X){e=e.touches?e.touches[0]:e;var a=Fu(e.clientX,e.clientY);if(a){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=a,n.preventDefault=void 0,n.stopPropagation=void 0,a[vt]._onDragOver(n)}}},Ku=function(e){X&&X.parentNode[vt]._isOutsideThisEl(e.target)};function le(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Nt({},e),t[vt]=this;var a={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Jl(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,i){o.setData("Text",i.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:le.supportPointer!==!1&&"PointerEvent"in window&&!In,emptyInsertThreshold:5};Vn.initializePlugins(this,t,a);for(var n in a)!(n in e)&&(e[n]=a[n]);Zl(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:Pu,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Oe(t,"pointerdown",this._onTapStart):(Oe(t,"mousedown",this._onTapStart),Oe(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Oe(t,"dragover",this),Oe(t,"dragenter",this)),ba.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Nt(this,Ru())}le.prototype={constructor:le,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(un=null)},_getDirection:function(e,a){return typeof this.options.direction=="function"?this.options.direction.call(this,e,a,X):this.options.direction},_onTapStart:function(e){if(e.cancelable){var a=this,n=this.el,r=this.options,l=r.preventOnFilter,o=e.type,i=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,u=(i||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||u,v=r.filter;if(zu(n),!X&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||r.disabled)&&!s.isContentEditable&&!(!this.nativeDraggable&&In&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=Rt(u,r.draggable,n,!1),!(u&&u.animated)&&ia!==u)){if(dn=pt(u),Ln=pt(u,r.draggable),typeof v=="function"){if(v.call(this,e,u,this)){tt({sortable:a,rootEl:s,name:"filter",targetEl:u,toEl:n,fromEl:n}),lt("filter",a,{evt:e}),l&&e.cancelable&&e.preventDefault();return}}else if(v&&(v=v.split(",").some(function(d){if(d=Rt(s,d.trim(),n,!1),d)return tt({sortable:a,rootEl:d,name:"filter",targetEl:u,fromEl:n,toEl:n}),lt("filter",a,{evt:e}),!0}),v)){l&&e.cancelable&&e.preventDefault();return}r.handle&&!Rt(s,r.handle,n,!1)||this._prepareDragStart(e,i,u)}}},_prepareDragStart:function(e,a,n){var r=this,l=r.el,o=r.options,i=l.ownerDocument,u;if(n&&!X&&n.parentNode===l){var s=Ve(n);if(Ie=l,X=n,He=X.parentNode,tn=X.nextSibling,ia=n,ea=o.group,le.dragged=X,Zt={target:X,clientX:(a||e).clientX,clientY:(a||e).clientY},tl=Zt.clientX-s.left,nl=Zt.clientY-s.top,this._lastX=(a||e).clientX,this._lastY=(a||e).clientY,X.style["will-change"]="all",u=function(){if(lt("delayEnded",r,{evt:e}),le.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!Jr&&r.nativeDraggable&&(X.draggable=!0),r._triggerDragStart(e,a),tt({sortable:r,name:"choose",originalEvent:e}),ct(X,o.chosenClass,!0)},o.ignore.split(",").forEach(function(v){Xl(X,v.trim(),ja)}),Oe(i,"dragover",Qt),Oe(i,"mousemove",Qt),Oe(i,"touchmove",Qt),Oe(i,"mouseup",r._onDrop),Oe(i,"touchend",r._onDrop),Oe(i,"touchcancel",r._onDrop),Jr&&this.nativeDraggable&&(this.options.touchStartThreshold=4,X.draggable=!0),lt("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||a)&&(!this.nativeDraggable||!($n||kt))){if(le.eventCanceled){this._onDrop();return}Oe(i,"mouseup",r._disableDelayedDrag),Oe(i,"touchend",r._disableDelayedDrag),Oe(i,"touchcancel",r._disableDelayedDrag),Oe(i,"mousemove",r._delayedDragTouchMoveHandler),Oe(i,"touchmove",r._delayedDragTouchMoveHandler),o.supportPointer&&Oe(i,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(u,o.delay)}else u()}},_delayedDragTouchMoveHandler:function(e){var a=e.touches?e.touches[0]:e;Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){X&&ja(X),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;ye(e,"mouseup",this._disableDelayedDrag),ye(e,"touchend",this._disableDelayedDrag),ye(e,"touchcancel",this._disableDelayedDrag),ye(e,"mousemove",this._delayedDragTouchMoveHandler),ye(e,"touchmove",this._delayedDragTouchMoveHandler),ye(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,a){a=a||e.pointerType=="touch"&&e,!this.nativeDraggable||a?this.options.supportPointer?Oe(document,"pointermove",this._onTouchMove):a?Oe(document,"touchmove",this._onTouchMove):Oe(document,"mousemove",this._onTouchMove):(Oe(X,"dragend",this),Oe(Ie,"dragstart",this._onDragStart));try{document.selection?sa(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,a){if(cn=!1,Ie&&X){lt("dragStarted",this,{evt:a}),this.nativeDraggable&&Oe(document,"dragover",Ku);var n=this.options;!e&&ct(X,n.dragClass,!1),ct(X,n.ghostClass,!0),le.active=this,e&&this._appendGhost(),tt({sortable:this,name:"start",originalEvent:a})}else this._nulling()},_emulateDragOver:function(){if(yt){this._lastX=yt.clientX,this._lastY=yt.clientY,Ql();for(var e=document.elementFromPoint(yt.clientX,yt.clientY),a=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(yt.clientX,yt.clientY),e!==a);)a=e;if(X.parentNode[vt]._isOutsideThisEl(e),a)do{if(a[vt]){var n=void 0;if(n=a[vt]._onDragOver({clientX:yt.clientX,clientY:yt.clientY,target:e,rootEl:a}),n&&!this.options.dragoverBubble)break}e=a}while(a=a.parentNode);eo()}},_onTouchMove:function(e){if(Zt){var a=this.options,n=a.fallbackTolerance,r=a.fallbackOffset,l=e.touches?e.touches[0]:e,o=se&&fn(se,!0),i=se&&o&&o.a,u=se&&o&&o.d,s=na&&Qe&&el(Qe),v=(l.clientX-Zt.clientX+r.x)/(i||1)+(s?s[0]-Ia[0]:0)/(i||1),d=(l.clientY-Zt.clientY+r.y)/(u||1)+(s?s[1]-Ia[1]:0)/(u||1);if(!le.active&&!cn){if(n&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(se){o?(o.e+=v-(Fa||0),o.f+=d-(Ka||0)):o={a:1,b:0,c:0,d:1,e:v,f:d};var g="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");ie(se,"webkitTransform",g),ie(se,"mozTransform",g),ie(se,"msTransform",g),ie(se,"transform",g),Fa=v,Ka=d,yt=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!se){var e=this.options.fallbackOnBody?document.body:Ie,a=Ve(X,!0,na,!0,e),n=this.options;if(na){for(Qe=e;ie(Qe,"position")==="static"&&ie(Qe,"transform")==="none"&&Qe!==document;)Qe=Qe.parentNode;Qe!==document.body&&Qe!==document.documentElement?(Qe===document&&(Qe=Et()),a.top+=Qe.scrollTop,a.left+=Qe.scrollLeft):Qe=Et(),Ia=el(Qe)}se=X.cloneNode(!0),ct(se,n.ghostClass,!1),ct(se,n.fallbackClass,!0),ct(se,n.dragClass,!0),ie(se,"transition",""),ie(se,"transform",""),ie(se,"box-sizing","border-box"),ie(se,"margin",0),ie(se,"top",a.top),ie(se,"left",a.left),ie(se,"width",a.width),ie(se,"height",a.height),ie(se,"opacity","0.8"),ie(se,"position",na?"absolute":"fixed"),ie(se,"zIndex","100000"),ie(se,"pointerEvents","none"),le.ghost=se,e.appendChild(se),ie(se,"transform-origin",tl/parseInt(se.style.width)*100+"% "+nl/parseInt(se.style.height)*100+"%")}},_onDragStart:function(e,a){var n=this,r=e.dataTransfer,l=n.options;if(lt("dragStart",this,{evt:e}),le.eventCanceled){this._onDrop();return}lt("setupClone",this),le.eventCanceled||(Le=Yl(X),Le.removeAttribute("id"),Le.draggable=!1,Le.style["will-change"]="",this._hideClone(),ct(Le,this.options.chosenClass,!1),le.clone=Le),n.cloneId=sa(function(){lt("clone",n),!le.eventCanceled&&(n.options.removeCloneOnHide||Ie.insertBefore(Le,X),n._hideClone(),tt({sortable:n,name:"clone"}))}),!a&&ct(X,l.dragClass,!0),a?(pa=!0,n._loopId=setInterval(n._emulateDragOver,50)):(ye(document,"mouseup",n._onDrop),ye(document,"touchend",n._onDrop),ye(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",l.setData&&l.setData.call(n,r,X)),Oe(document,"drop",n),ie(X,"transform","translateZ(0)")),cn=!0,n._dragStartId=sa(n._dragStarted.bind(n,a,e)),Oe(document,"selectstart",n),_n=!0,In&&ie(document.body,"user-select","none")},_onDragOver:function(e){var a=this.el,n=e.target,r,l,o,i=this.options,u=i.group,s=le.active,v=ea===u,d=i.sort,g=Je||s,p,m=this,w=!1;if(Ua)return;function R(E,L){lt(E,m,Dt({evt:e,isOwner:v,axis:p?"vertical":"horizontal",revert:o,dragRect:r,targetRect:l,canSort:d,fromSortable:g,target:n,completed:O,onMove:function(M,W){return aa(Ie,a,X,r,M,Ve(M),e,W)},changed:S},L))}function C(){R("dragOverAnimationCapture"),m.captureAnimationState(),m!==g&&g.captureAnimationState()}function O(E){return R("dragOverCompleted",{insertion:E}),E&&(v?s._hideClone():s._showClone(m),m!==g&&(ct(X,Je?Je.options.ghostClass:s.options.ghostClass,!1),ct(X,i.ghostClass,!0)),Je!==m&&m!==le.active?Je=m:m===le.active&&Je&&(Je=null),g===m&&(m._ignoreWhileAnimating=n),m.animateAll(function(){R("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(n===X&&!X.animated||n===a&&!n.animated)&&(un=null),!i.dragoverBubble&&!e.rootEl&&n!==document&&(X.parentNode[vt]._isOutsideThisEl(e.target),!E&&Qt(e)),!i.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),w=!0}function S(){dt=pt(X),Bt=pt(X,i.draggable),tt({sortable:m,name:"change",toEl:a,newIndex:dt,newDraggableIndex:Bt,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=Rt(n,i.draggable,a,!0),R("dragOver"),le.eventCanceled)return w;if(X.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||m._ignoreWhileAnimating===n)return O(!1);if(pa=!1,s&&!i.disabled&&(v?d||(o=He!==Ie):Je===this||(this.lastPutMode=ea.checkPull(this,s,X,e))&&u.checkPut(this,s,X,e))){if(p=this._getDirection(e,n)==="vertical",r=Ve(X),R("dragOverValid"),le.eventCanceled)return w;if(o)return He=Ie,C(),this._hideClone(),R("revert"),le.eventCanceled||(tn?Ie.insertBefore(X,tn):Ie.appendChild(X)),O(!0);var _=or(a,i.draggable);if(!_||Nu(e,p,this)&&!_.animated){if(_===X)return O(!1);if(_&&a===e.target&&(n=_),n&&(l=Ve(n)),aa(Ie,a,X,r,n,l,e,!!n)!==!1)return C(),_&&_.nextSibling?a.insertBefore(X,_.nextSibling):a.appendChild(X),He=a,S(),O(!0)}else if(_&&Lu(e,p,this)){var F=pn(a,0,i,!0);if(F===X)return O(!1);if(n=F,l=Ve(n),aa(Ie,a,X,r,n,l,e,!1)!==!1)return C(),a.insertBefore(X,F),He=a,S(),O(!0)}else if(n.parentNode===a){l=Ve(n);var A=0,P,I=X.parentNode!==a,D=!Au(X.animated&&X.toRect||r,n.animated&&n.toRect||l,p),j=p?"top":"left",T=Qr(n,"top","top")||Qr(X,"top","top"),y=T?T.scrollTop:void 0;un!==n&&(P=l[j],kn=!1,ta=!D&&i.invertSwap||I),A=ku(e,n,l,p,D?1:i.swapThreshold,i.invertedSwapThreshold==null?i.swapThreshold:i.invertedSwapThreshold,ta,un===n);var h;if(A!==0){var b=pt(X);do b-=A,h=He.children[b];while(h&&(ie(h,"display")==="none"||h===se))}if(A===0||h===n)return O(!1);un=n,Nn=A;var c=n.nextElementSibling,f=!1;f=A===1;var x=aa(Ie,a,X,r,n,l,e,f);if(x!==!1)return(x===1||x===-1)&&(f=x===1),Ua=!0,setTimeout(ju,30),C(),f&&!c?a.appendChild(X):n.parentNode.insertBefore(X,f?c:n),T&&Gl(T,0,y-T.scrollTop),He=X.parentNode,P!==void 0&&!ta&&(ua=Math.abs(P-Ve(n)[j])),S(),O(!0)}if(a.contains(X))return O(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ye(document,"mousemove",this._onTouchMove),ye(document,"touchmove",this._onTouchMove),ye(document,"pointermove",this._onTouchMove),ye(document,"dragover",Qt),ye(document,"mousemove",Qt),ye(document,"touchmove",Qt)},_offUpEvents:function(){var e=this.el.ownerDocument;ye(e,"mouseup",this._onDrop),ye(e,"touchend",this._onDrop),ye(e,"pointerup",this._onDrop),ye(e,"touchcancel",this._onDrop),ye(document,"selectstart",this)},_onDrop:function(e){var a=this.el,n=this.options;if(dt=pt(X),Bt=pt(X,n.draggable),lt("drop",this,{evt:e}),He=X&&X.parentNode,dt=pt(X),Bt=pt(X,n.draggable),le.eventCanceled){this._nulling();return}cn=!1,ta=!1,kn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ga(this.cloneId),Ga(this._dragStartId),this.nativeDraggable&&(ye(document,"drop",this),ye(a,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),In&&ie(document.body,"user-select",""),ie(X,"transform",""),e&&(_n&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),se&&se.parentNode&&se.parentNode.removeChild(se),(Ie===He||Je&&Je.lastPutMode!=="clone")&&Le&&Le.parentNode&&Le.parentNode.removeChild(Le),X&&(this.nativeDraggable&&ye(X,"dragend",this),ja(X),X.style["will-change"]="",_n&&!cn&&ct(X,Je?Je.options.ghostClass:this.options.ghostClass,!1),ct(X,this.options.chosenClass,!1),tt({sortable:this,name:"unchoose",toEl:He,newIndex:null,newDraggableIndex:null,originalEvent:e}),Ie!==He?(dt>=0&&(tt({rootEl:He,name:"add",toEl:He,fromEl:Ie,originalEvent:e}),tt({sortable:this,name:"remove",toEl:He,originalEvent:e}),tt({rootEl:He,name:"sort",toEl:He,fromEl:Ie,originalEvent:e}),tt({sortable:this,name:"sort",toEl:He,originalEvent:e})),Je&&Je.save()):dt!==dn&&dt>=0&&(tt({sortable:this,name:"update",toEl:He,originalEvent:e}),tt({sortable:this,name:"sort",toEl:He,originalEvent:e})),le.active&&((dt==null||dt===-1)&&(dt=dn,Bt=Ln),tt({sortable:this,name:"end",toEl:He,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){lt("nulling",this),Ie=X=He=se=tn=Le=ia=zt=Zt=yt=_n=dt=Bt=dn=Ln=un=Nn=Je=ea=le.dragged=le.ghost=le.clone=le.active=null,ma.forEach(function(e){e.checked=!0}),ma.length=Fa=Ka=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":X&&(this._onDragOver(e),Iu(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],a,n=this.el.children,r=0,l=n.length,o=this.options;r<l;r++)a=n[r],Rt(a,o.draggable,this.el,!1)&&e.push(a.getAttribute(o.dataIdAttr)||Bu(a));return e},sort:function(e,a){var n={},r=this.el;this.toArray().forEach(function(l,o){var i=r.children[o];Rt(i,this.options.draggable,r,!1)&&(n[l]=i)},this),a&&this.captureAnimationState(),e.forEach(function(l){n[l]&&(r.removeChild(n[l]),r.appendChild(n[l]))}),a&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,a){return Rt(e,a||this.options.draggable,this.el,!1)},option:function(e,a){var n=this.options;if(a===void 0)return n[e];var r=Vn.modifyOption(this,e,a);typeof r<"u"?n[e]=r:n[e]=a,e==="group"&&Zl(n)},destroy:function(){lt("destroy",this);var e=this.el;e[vt]=null,ye(e,"mousedown",this._onTapStart),ye(e,"touchstart",this._onTapStart),ye(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(ye(e,"dragover",this),ye(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ba.splice(ba.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!zt){if(lt("hideClone",this),le.eventCanceled)return;ie(Le,"display","none"),this.options.removeCloneOnHide&&Le.parentNode&&Le.parentNode.removeChild(Le),zt=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(zt){if(lt("showClone",this),le.eventCanceled)return;X.parentNode==Ie&&!this.options.group.revertClone?Ie.insertBefore(Le,X):tn?Ie.insertBefore(Le,tn):Ie.appendChild(Le),this.options.group.revertClone&&this.animate(X,Le),ie(Le,"display",""),zt=!1}}};function Iu(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function aa(t,e,a,n,r,l,o,i){var u,s=t[vt],v=s.options.onMove,d;return window.CustomEvent&&!kt&&!$n?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=e,u.from=t,u.dragged=a,u.draggedRect=n,u.related=r||e,u.relatedRect=l||Ve(e),u.willInsertAfter=i,u.originalEvent=o,t.dispatchEvent(u),v&&(d=v.call(s,u,o)),d}function ja(t){t.draggable=!1}function ju(){Ua=!1}function Lu(t,e,a){var n=Ve(pn(a.el,0,a.options,!0)),r=10;return e?t.clientX<n.left-r||t.clientY<n.top&&t.clientX<n.right:t.clientY<n.top-r||t.clientY<n.bottom&&t.clientX<n.left}function Nu(t,e,a){var n=Ve(or(a.el,a.options.draggable)),r=10;return e?t.clientX>n.right+r||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+r}function ku(t,e,a,n,r,l,o,i){var u=n?t.clientY:t.clientX,s=n?a.height:a.width,v=n?a.top:a.left,d=n?a.bottom:a.right,g=!1;if(!o){if(i&&ua<s*r){if(!kn&&(Nn===1?u>v+s*l/2:u<d-s*l/2)&&(kn=!0),kn)g=!0;else if(Nn===1?u<v+ua:u>d-ua)return-Nn}else if(u>v+s*(1-r)/2&&u<d-s*(1-r)/2)return Mu(e)}return g=g||o,g&&(u<v+s*l/2||u>d-s*l/2)?u>v+s/2?1:-1:0}function Mu(t){return pt(X)<pt(t)?1:-1}function Bu(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,a=e.length,n=0;a--;)n+=e.charCodeAt(a);return n.toString(36)}function zu(t){ma.length=0;for(var e=t.getElementsByTagName("input"),a=e.length;a--;){var n=e[a];n.checked&&ma.push(n)}}function sa(t){return setTimeout(t,0)}function Ga(t){return clearTimeout(t)}Sa&&Oe(document,"touchmove",function(t){(le.active||cn)&&t.cancelable&&t.preventDefault()});le.utils={on:Oe,off:ye,css:ie,find:Xl,is:function(e,a){return!!Rt(e,a,e,!1)},extend:Su,throttle:Ul,closest:Rt,toggleClass:ct,clone:Yl,index:pt,nextTick:sa,cancelNextTick:Ga,detectDirection:Jl,getChild:pn};le.get=function(t){return t[vt]};le.mount=function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(le.utils=Dt(Dt({},le.utils),n.utils)),Vn.mount(n)})};le.create=function(t,e){return new le(t,e)};le.version=yu;var $e=[],Tn,Ya,qa=!1,La,Na,wa,Pn;function Hu(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(a){var n=a.originalEvent;this.sortable.nativeDraggable?Oe(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Oe(document,"pointermove",this._handleFallbackAutoScroll):n.touches?Oe(document,"touchmove",this._handleFallbackAutoScroll):Oe(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(a){var n=a.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?ye(document,"dragover",this._handleAutoScroll):(ye(document,"pointermove",this._handleFallbackAutoScroll),ye(document,"touchmove",this._handleFallbackAutoScroll),ye(document,"mousemove",this._handleFallbackAutoScroll)),rl(),ca(),Ou()},nulling:function(){wa=Ya=Tn=qa=Pn=La=Na=null,$e.length=0},_handleFallbackAutoScroll:function(a){this._handleAutoScroll(a,!0)},_handleAutoScroll:function(a,n){var r=this,l=(a.touches?a.touches[0]:a).clientX,o=(a.touches?a.touches[0]:a).clientY,i=document.elementFromPoint(l,o);if(wa=a,n||this.options.forceAutoScrollFallback||$n||kt||In){ka(a,this.options,i,n);var u=Ht(i,!0);qa&&(!Pn||l!==La||o!==Na)&&(Pn&&rl(),Pn=setInterval(function(){var s=Ht(document.elementFromPoint(l,o),!0);s!==u&&(u=s,ca()),ka(a,r.options,s,n)},10),La=l,Na=o)}else{if(!this.options.bubbleScroll||Ht(i,!0)===Et()){ca();return}ka(a,this.options,Ht(i,!1),!1)}}},Nt(t,{pluginName:"scroll",initializeByDefault:!0})}function ca(){$e.forEach(function(t){clearInterval(t.pid)}),$e=[]}function rl(){clearInterval(Pn)}var ka=Ul(function(t,e,a,n){if(e.scroll){var r=(t.touches?t.touches[0]:t).clientX,l=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,i=e.scrollSpeed,u=Et(),s=!1,v;Ya!==a&&(Ya=a,ca(),Tn=e.scroll,v=e.scrollFn,Tn===!0&&(Tn=Ht(a,!0)));var d=0,g=Tn;do{var p=g,m=Ve(p),w=m.top,R=m.bottom,C=m.left,O=m.right,S=m.width,_=m.height,F=void 0,A=void 0,P=p.scrollWidth,I=p.scrollHeight,D=ie(p),j=p.scrollLeft,T=p.scrollTop;p===u?(F=S<P&&(D.overflowX==="auto"||D.overflowX==="scroll"||D.overflowX==="visible"),A=_<I&&(D.overflowY==="auto"||D.overflowY==="scroll"||D.overflowY==="visible")):(F=S<P&&(D.overflowX==="auto"||D.overflowX==="scroll"),A=_<I&&(D.overflowY==="auto"||D.overflowY==="scroll"));var y=F&&(Math.abs(O-r)<=o&&j+S<P)-(Math.abs(C-r)<=o&&!!j),h=A&&(Math.abs(R-l)<=o&&T+_<I)-(Math.abs(w-l)<=o&&!!T);if(!$e[d])for(var b=0;b<=d;b++)$e[b]||($e[b]={});($e[d].vx!=y||$e[d].vy!=h||$e[d].el!==p)&&($e[d].el=p,$e[d].vx=y,$e[d].vy=h,clearInterval($e[d].pid),(y!=0||h!=0)&&(s=!0,$e[d].pid=setInterval((function(){n&&this.layer===0&&le.active._onTouchMove(wa);var c=$e[this.layer].vy?$e[this.layer].vy*i:0,f=$e[this.layer].vx?$e[this.layer].vx*i:0;typeof v=="function"&&v.call(le.dragged.parentNode[vt],f,c,t,wa,$e[this.layer].el)!=="continue"||Gl($e[this.layer].el,f,c)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&g!==u&&(g=Ht(g,!1)));qa=s}},30),to=function(e){var a=e.originalEvent,n=e.putSortable,r=e.dragEl,l=e.activeSortable,o=e.dispatchSortableEvent,i=e.hideGhostForTarget,u=e.unhideGhostForTarget;if(a){var s=n||l;i();var v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a,d=document.elementFromPoint(v.clientX,v.clientY);u(),s&&!s.el.contains(d)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function ir(){}ir.prototype={startIndex:null,dragStart:function(e){var a=e.oldDraggableIndex;this.startIndex=a},onSpill:function(e){var a=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=pn(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(a,r):this.sortable.el.appendChild(a),this.sortable.animateAll(),n&&n.animateAll()},drop:to};Nt(ir,{pluginName:"revertOnSpill"});function ur(){}ur.prototype={onSpill:function(e){var a=e.dragEl,n=e.putSortable,r=n||this.sortable;r.captureAnimationState(),a.parentNode&&a.parentNode.removeChild(a),r.animateAll()},drop:to};Nt(ur,{pluginName:"removeOnSpill"});le.mount(new Hu);le.mount(ur,ir);/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function ll(t,e,a){var n=de(t);return a-e>0?(n.splice(a+1,0,n[e]),n.splice(e,1)):(n.splice(a,0,n[e]),n.splice(e+1,1)),n}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function ol(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function En(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?ol(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ol(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function il(t){t.parentElement!==null&&t.parentElement.removeChild(t)}function ul(t,e,a){var n=a===0?t.children[0]:t.children[a-1].nextSibling;t.insertBefore(e,n)}function Wu(t,e,a){var n=We(t),r=n.sortOnRowDraggable,l=n.dragSort,o=n.data,i=$(t.pagination),u=it(),s=u.tableDraggableClasses,v=u.tableBaseClass,d=u.tableFullRowClasses,g=u.tableExpandClasses,p=$(t.columns||[]),m=$(null),w=B(function(){return p.value.find(function(j){return j.colKey==="drag"})}),R=B(function(){return r.value||["row","row-handler-col"].includes(l.value)}),C=B(function(){return["row-handler","row-handler-col"].includes(l.value)&&!!w.value}),O=B(function(){return["col","row-handler-col"].includes(l.value)});t.sortOnRowDraggable&&Ne.error("Table","`sortOnRowDraggable` is going to be deprecated, use dragSort='row' instead.");function S(j,T){var y,h,b=(y=T.current)!==null&&y!==void 0?y:T.defaultCurrent,c=(h=T.pageSize)!==null&&h!==void 0?h:T.defaultPageSize;return!t.disableDataPage&&T&&o.value.length>c?c*(b-1)+j:j}var _=function(T){if(!(!C.value&&!R.value)){var y=T==null?void 0:T.querySelector("tbody");if(!y)return console.error("tbody does not exist."),null;var h=En({animation:150,ghostClass:s.ghost,chosenClass:s.chosen,dragClass:s.dragging,filter:".".concat(d.base,",.").concat(g.row),onMove:function(c){return!_o(c.related,d.base)},onEnd:function(c){var f;if(c.newIndex!==c.oldIndex){il(c.item),ul(c.from,c.item,c.oldIndex);var x=c.oldIndex,E=c.newIndex;(De(t.firstFullRow)&&t.firstFullRow(Ye)||e.slots.firstFullRow||e.slots["first-full-row"])&&(x-=1,E-=1),i.value&&(x=S(x,i.value),E=S(E,i.value));var L={data:o.value,currentIndex:x,current:o.value[x],targetIndex:E,target:o.value[E],newData:ll(de(t.data),x,E),e:c,sort:"row"};L.currentData=L.newData,(f=t.onDragSort)===null||f===void 0||f.call(t,L)}}},t.dragSortOptions);y&&(R.value?new le(y,En({},h)):new le(y,En(En({},h),{},{handle:".".concat(s.handle)})))}},F=function(T,y){var h=En({animation:150,dataIdAttr:"data-colkey",direction:"vertical",ghostClass:s.ghost,chosenClass:s.chosen,dragClass:s.dragging,handle:".".concat(v.thCellInner),onEnd:function(c){var f;if(c.newIndex!==c.oldIndex){y&&(il(c.item),ul(c.from,c.item,c.oldIndex));var x=c.oldIndex,E=c.newIndex,L=c.target,K=y?x:E,M=y?E:x,W=L.children[K],Y=L.children[M],ee=ha(p.value,W.dataset.colkey),ae=ha(p.value,Y.dataset.colkey);(!ee||!ee.colKey)&&Ne.error("Table","colKey is missing in ".concat(JSON.stringify(ee))),(!ae||!ae.colKey)&&Ne.error("Table","colKey is missing in ".concat(JSON.stringify(ae))),K=Vr(t.columns,ee.colKey),M=Vr(t.columns,ae.colKey);var ne={data:p.value,currentIndex:K,current:ee,targetIndex:M,target:ae,newData:ll(de(t.columns),K,M),e:c,sort:"col"};ne.currentData=ne.newData,(f=t.onDragSort)===null||f===void 0||f.call(t,ne)}}},t.dragSortOptions);T&&new le(T,h)},A=function(T){if(!(!O.value||!T)){var y=T.querySelectorAll("thead > tr");if(y.length<=1){var h=Ae(y,1),b=h[0];F(b,!0)}else y==null||y.forEach(function(c){F(c,!1)})}};function P(j){m.value=j}function I(j){p.value=j}ve([m,p,l,a],function(j){var T=Ae(j,4),y=T[0];T[1],T[2];var h=T[3];D(y,h)});function D(j,T){var y=j;if(!(!j||!y.$el||!T.showElement))var h=setTimeout(function(){_(y.$el),A(y.$el);var b=setTimeout(function(){y.$refs.affixHeaderRef&&A(y.$refs.affixHeaderRef),clearTimeout(b)});clearTimeout(h)},60)}return{innerPagination:i,isRowDraggable:R,isRowHandlerDraggable:C,isColDraggable:O,setDragSortPrimaryTableRef:P,setDragSortColumns:I}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function $u(t){var e=Wt(),a=bt("table",t.locale),n=a.globalConfig,r=it(),l=r.isLoadingClass,o=r.isLoadMoreClass,i=r.asyncLoadingClass,u=B(function(){return[i,z(z({},l,t.asyncLoading==="loading"),o,t.asyncLoading==="load-more")]});function s(){var d;Mn(t.asyncLoading)&&((d=t.onAsyncLoadingClick)===null||d===void 0||d.call(t,{status:t.asyncLoading}))}function v(){var d=e("asyncLoading");if(Mn(d)){var g=t.asyncLoading,p={"load-more":n.value.loadingMoreText,loading:n.value.loadingText}[String(g)];return N("div",{class:u.value,onClick:s},[N(yl,{indicator:g==="loading",loading:!!g,size:"small",text:p},null)])}return[null,!1,void 0].includes(d)?null:N("div",{class:u.value,onClick:s},[d])}return{renderAsyncLoading:v}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function sl(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function Ee(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?sl(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):sl(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}var Vu=Xe({name:"TableEditableCell",props:{row:Object,rowKey:String,rowIndex:Number,col:Object,colIndex:Number,oldCell:[Function,String],tableBaseClass:Object,cellEmptyContent:[Function,String],editable:{type:Boolean,default:void 0},readonly:{type:Boolean},errors:{type:Array,default:void 0},onChange:Function,onValidate:Function,onRuleChange:Function,onEditableChange:Function},emits:["update-edited-cell"],setup:function(e,a){var n,r=We(e),l=r.row,o=r.col;$(null);var i=B(function(){var c;return(c=o.value.edit)===null||c===void 0?void 0:c.keepEditMode}),u=$(i.value||((n=e.col.edit)===null||n===void 0?void 0:n.defaultEditable)||!1),s=$(),v=$(),d=Hn(),g=Cn({Edit1Icon:ei}),p=g.Edit1Icon,m=function(f){if(ft(f)==="object"&&("rowValue"in f||f.isUpdateCurrentRow)){var x=f.isUpdateCurrentRow?H(l.value,e.rowKey):f.rowValue;delete f.rowValue,delete f.isUpdateCurrentRow,a.emit("update-edited-cell",x,l.value,f)}else s.value=f};ve([i],function(c){c&&(u.value=!0)});var w=B(function(){var c,f;return((c=o.value.edit)===null||c===void 0||(f=c.on)===null||f===void 0?void 0:f.call(c,Ee(Ee({},R.value),{},{editedRow:C.value,updateEditedCellValue:m})))||{}}),R=B(function(){return{rowIndex:e.rowIndex,colIndex:e.colIndex,col:e.col,row:e.row}}),C=B(function(){var c=o.value.colKey,f=c.split(".")||[],x=Go(f),E=x[0],L=x.slice(1),K=Ee({},l.value);return L.length?(K[E]=er(l.value[E]),Bn(K[E],L.join("."),s.value)):Bn(K,c,s.value),K}),O=B(function(){var c=fa({row:C.value,col:Ee(Ee({},o.value),{},{cell:e.oldCell}),rowIndex:e.rowIndex,colIndex:e.colIndex},a.slots,{cellEmptyContent:e.cellEmptyContent});return c}),S=B(function(){var c=o.value.edit;return De(c.props)?c.props(Ee(Ee({},R.value),{},{editedRow:C.value,updateEditedCellValue:m})):Ee({},c.props)}),_=B(function(){var c,f=o.value.edit;if(!f)return{};var x=Ee({},S.value);return delete x.onChange,delete x.value,(c=f.abortEditOnEvent)===null||c===void 0||c.forEach(function(E){delete x[E]}),x}),F=B(function(){var c,f=o.value.edit;return f?!!(!((c=f.abortEditOnEvent)===null||c===void 0)&&c.includes("onChange")):!1}),A=function(f){return new Promise(function(x){var E={result:[Ee(Ee({},R.value),{},{errorList:[],value:s.value})],trigger:f},L=De(o.value.edit.rules)?o.value.edit.rules(R.value):o.value.edit.rules;if(!o.value.edit||!L||!L.length){var K;(K=e.onValidate)===null||K===void 0||K.call(e,E),x(!0);return}Pl(s.value,L).then(function(M){var W,Y=M==null?void 0:M.filter(function(ee){return!ee.result});E.result[0].errorList=Y,(W=e.onValidate)===null||W===void 0||W.call(e,E),!Y||!Y.length?(v.value=[],x(!0)):(v.value=Y,x(Y))})})},P=function(f,x){return za(f)&&za(x)?JSON.stringify(f)===JSON.stringify(x):f===x},I=function(f,x){for(var E=arguments.length,L=new Array(E>2?E-2:0),K=2;K<E;K++)L[K-2]=arguments[K];A("self").then(function(M){var W,Y;if(M===!0){var ee=H(l.value,o.value.colKey);P(s.value,ee)||(s.value=ee,f==null||f.apply(void 0,L)),(W=(Y=w.value)[x])===null||W===void 0||W.call(Y,L[2]);var ae=setTimeout(function(){var ne;i.value||(u.value=!1),v.value=[],(ne=e.onEditableChange)===null||ne===void 0||ne.call(e,Ee(Ee({},R.value),{},{value:s.value,editedRow:Ee(Ee({},e.row),{},z({},e.col.colKey,s.value)),validateEdit:A,isEdit:!1})),clearTimeout(ae)},0)}})},D=B(function(){var c,f=o.value.edit,x=e.editable===void 0;if(!(!u.value||!x)){if(!(f!=null&&(c=f.abortEditOnEvent)!==null&&c!==void 0&&c.length))return{};var E={},L=f==null?void 0:f.onEdited;return f.abortEditOnEvent.forEach(function(K){K!=="onChange"&&(E[K]=function(){for(var M=arguments.length,W=new Array(M),Y=0;Y<M;Y++)W[Y]=arguments[Y];I.apply(void 0,[L,K,Ee(Ee({},R.value),{},{trigger:K,newRowData:C.value})].concat(W))})}),E}}),j=function(f){var x,E,L,K,M,W,Y;s.value=f;for(var ee=Ee(Ee({},R.value),{},{value:f,editedRow:Ee(Ee({},e.row),{},z({},e.col.colKey,f))}),ae=arguments.length,ne=new Array(ae>1?ae-1:0),Q=1;Q<ae;Q++)ne[Q-1]=arguments[Q];(x=S.value)===null||x===void 0||(E=x.onChange)===null||E===void 0||E.call.apply(E,[x,f].concat(ne)),(L=e.onChange)===null||L===void 0||L.call(e,ee),(K=e.onRuleChange)===null||K===void 0||K.call(e,ee),(M=w.value)===null||M===void 0||(W=M.onChange)===null||W===void 0||W.call(M,ee);var k=e.editable===void 0;if(k&&F.value){var U,q=(U=o.value.edit)===null||U===void 0?void 0:U.onEdited;I.apply(void 0,[q,"change",Ee(Ee({},R.value),{},{trigger:"onChange",newRowData:C.value})].concat(ne))}((Y=o.value.edit)===null||Y===void 0?void 0:Y.validateTrigger)==="change"&&A("self")},T=function(f){var x;if(!(!o.value.edit||!o.value.edit.component)&&u.value){var E=((x=f.composedPath)===null||x===void 0?void 0:x.call(f))||f.path||[],L=E.find(function(M){var W;return(W=M.classList)===null||W===void 0?void 0:W.contains("".concat(d.value,"-popup__content"))});if(!L){var K=o.value.edit.onEdited;I(K,"",Ee(Ee({},R.value),{},{trigger:"document",newRowData:C.value}))}}},y=function(){var f;(f=e.onEditableChange)===null||f===void 0||f.call(e,Ee(Ee({},R.value),{},{value:s.value,editedRow:e.row,isEdit:!0,validateEdit:A}))},h=function(f){u.value=!0,y(),f.stopPropagation()};_t(function(){var c;(c=e.col.edit)!==null&&c!==void 0&&c.defaultEditable&&y()});var b=B(function(){return H(l.value,o.value.colKey)});return ve(b,function(c){s.value=c},{immediate:!0}),ve(u,function(c){var f=e.editable===void 0;!o.value.edit||!o.value.edit.component||!f||(c?Te(document,"click",T):Se(document,"click",T))},{immediate:!0}),ve(function(){return[e.editable,e.row,e.col,e.rowIndex,e.colIndex]},function(c){var f=Ae(c,1),x=f[0];if(x===!1)s.value=b.value;else if(x===!0){var E;(E=e.onRuleChange)===null||E===void 0||E.call(e,Ee(Ee({},R.value),{},{value:b.value,editedRow:l.value}))}},{immediate:!0}),ve(function(){return e.errors},function(c){v.value=c}),function(){var c,f,x,E;if(e.readonly)return O.value;if(e.editable===void 0&&!u.value||e.editable===!1){var L;return N("div",{class:e.tableBaseClass.cellEditable,onClick:h},[O.value,((L=o.value.edit)===null||L===void 0?void 0:L.showEditIcon)!==!1&&N(p,null,null)])}var K=(c=o.value.edit)===null||c===void 0?void 0:c.component;if(!K)return Ne.error("Table","edit.component is required."),null;var M=(f=v.value)===null||f===void 0||(f=f[0])===null||f===void 0?void 0:f.message,W=Ee({},w.value);return delete W.onChange,(x=o.value.edit)!==null&&x!==void 0&&(x=x.abortEditOnEvent)!==null&&x!==void 0&&x.length&&o.value.edit.abortEditOnEvent.forEach(function(Y){W[Y]&&delete W[Y]}),N("div",{class:e.tableBaseClass.cellEditWrap,onClick:function(ee){ee.stopPropagation()},ref:"tableEditableCellRef"},[N(K,ke({status:M?((E=v.value)===null||E===void 0||(E=E[0])===null||E===void 0?void 0:E.type)||"error":void 0,tips:M},_.value,D.value,W,{value:s.value,onChange:j}),null)])}}});/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function cl(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function Dn(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?cl(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):cl(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function Xu(t){var e=We(t),a=e.editableRowKeys,n=new Map,r=$({}),l=B(function(){return uu(t.editableRowKeys,t.data,t.rowKey||"id")}),o=$({}),i=$({}),u=function(S){var _={};return S.forEach(function(F){var A=F.row,P=F.col,I=F.errorList,D=H(A,t.rowKey||"id"),j=[D,P.colKey].join("__");I!=null&&I.length?_[j]=I:delete _[j]}),_},s=function(S){var _=n.get(S);if(_){var F=_.map(function(A){return new Promise(function(P){var I=A.editedRow,D=A.col,j=De(D.edit.rules)?D.edit.rules(A):D.edit.rules;if(!D.edit||!j||!j.length){P(Dn(Dn({},A),{},{errorList:[]}));return}Pl(H(I,D.colKey),j).then(function(T){P(Dn(Dn({},A),{},{errorList:T.filter(function(y){return!y.result})}))})})});return new Promise(function(A,P){Promise.all(F).then(function(I){A({errors:I.filter(function(D){var j;return(j=D.errorList)===null||j===void 0?void 0:j.length}),errorMap:u(I)})},P)})}},v=function(S){return new Promise(function(_,F){s(S).then(function(A){var P,I=A.errors,D=A.errorMap;r.value=D;var j="parent";(P=t.onRowValidate)===null||P===void 0||P.call(t,{trigger:j,result:I}),_({trigger:j,result:I})},F)})},d=function(){var S=Object.keys(o.value),_=S.map(function(F){return o.value[F].validateEdit("parent")});return new Promise(function(F,A){Promise.all(_).then(function(P){var I,D={};P.forEach(function(j,T){j!==!0&&(D[S[T]]=j)}),(I=t.onValidate)===null||I===void 0||I.call(t,{result:D}),F({result:D})},A)})},g=function(){if(Object.keys(o.value).length)return d();for(var S=[],_=t.data||[],F=0,A=_.length;F<A;F++){var P=H(_[F],t.rowKey||"id");S.push(s(P))}return new Promise(function(I,D){Promise.all(S).then(function(j){var T,y={};j.forEach(function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{errors:[],errorMap:{}},b=h.errorMap;b&&Object.assign(y,b)}),r.value=y,(T=t.onValidate)===null||T===void 0||T.call(t,{result:y}),I({result:y})},D)})},p=function(S,_,F){i.value[S]||(i.value[S]=er(_)),Object.entries(F).forEach(function(A){var P=Ae(A,2),I=P[0],D=P[1];Bn(i.value[S],I,D)})},m=function(S){if(t.editableRowKeys){var _=H(S.row,t.rowKey||"id"),F=n.get(_);if(F){var A=F.findIndex(function(P){return P.col.colKey===S.col.colKey});A===-1?F.push(S):F[A]=S,n.set(_,F)}else n.set(_,[S])}},w=function(){r.value={}},R=function(S){var _=zn(S.row,t.rowKey,S.col.colKey,S.colIndex);S.isEdit?o.value[_]=S:delete o.value[_]},C=function(S){var _,F=S.row,A=S.col,P=H(F,t.rowKey||"id"),I=i.value[P];if(I&&(_=t.editableRowKeys)!==null&&_!==void 0&&_.includes(P)){var D=Dn({},I);return Bn(D,A.colKey,H(I,A.colKey)),D}return F};return ve(function(){var O;return(O=a.value)===null||O===void 0?void 0:O.join(",")},function(O){var S=O.split(","),_=Object.keys(i.value);_.forEach(function(F){S.includes(F)||delete i.value[F]})}),{editedFormData:i,errorListMap:r,editableKeysMap:l,validateTableData:g,validateRowData:v,onRuleChange:m,clearValidateData:w,onUpdateEditedCell:p,getEditRowData:C,onPrimaryTableCellEditChange:R}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function dl(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function Kt(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?dl(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):dl(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}var Uu=["hideSortTips","dragSort","defaultExpandedRowKeys","defaultSelectedRowKeys","columnController","filterRow","sortOnRowDraggable","expandOnRowClick","expand-on-row-click","expanded-row","editable-row-keys","editable-cell-state","filter-value","multipleSort","expandIcon","expand-icon","reserveSelectedRowOnPaginate","expandedRowKeys","expandedRow","reserve-selected-row-on-paginate","reserveSelectedRowOnPaginate","selected-row-keys","selectedRowKeys","selectOnRowClick","column-controller","columnController","dragSort","drag-sort","hideSortTips","showSortColumnBgColor","filter-row","filterRow","multiple-sort","multipleSort","async-loading","onChange","onAsyncLoadingClick","onColumnChange","onColumnControllerVisibleChange","onDataChange","onDisplayColumnsChange","onDragSort","onExpandChange","onFilterChange","onSelectChange","onSortChange"],sr=Xe({name:"TPrimaryTable",props:Kt(Kt({},gn),Bl),setup:function(e,a){var n=Wt(),r=We(e),l=r.columns,o=r.columnController,i=$(null),u=$(!1),s=it(),v=s.classPrefix,d=s.tableDraggableClasses,g=s.tableBaseClass,p=s.tableSelectedClasses,m=s.tableSortClasses,w=bt("table",e.locale),R=w.globalConfig,C=kl(e),O=C.sizeClassNames,S=B(function(){var me;return(me=e.size)!==null&&me!==void 0?me:R.value.size}),_=ou(e,a),F=_.tDisplayColumns,A=_.renderColumnController,P=iu(e,a),I=P.showExpandedRow,D=P.showExpandIconColumn,j=P.getExpandColumn,T=P.renderExpandedRow,y=P.onInnerExpandRowClick,h=fu(e,a),b=h.renderSortIcon,c=su(e,p),f=c.selectColumn,x=c.showRowSelect,E=c.selectedRowClassNames,L=c.currentPaginateData,K=c.formatToRowSelectColumn,M=c.setTSelectedRowKeys,W=c.onInnerSelectRowClick,Y=c.handleRowSelectWithAreaSelection,ee=pu(e,a),ae=ee.hasEmptyCondition,ne=ee.isTableOverflowHidden,Q=ee.renderFilterIcon,k=ee.renderFirstFilterRow,U=ee.setFilterPrimaryTableRef,q=B(function(){return{showElement:u.value}}),Z=Wu(e,a,q),ce=Z.isRowHandlerDraggable,fe=Z.isRowDraggable,Fe=Z.isColDraggable,Me=Z.innerPagination,Ue=Z.setDragSortPrimaryTableRef,je=Z.setDragSortColumns,nt=Kl(e),ut=nt.renderTitleWidthIcon,st=$u(e),Tt=st.renderAsyncLoading,Ke=Xu(e),xn=Ke.errorListMap,Sn=Ke.editableKeysMap,On=Ke.validateRowData,re=Ke.validateTableData,V=Ke.onRuleChange,G=Ke.clearValidateData,J=Ke.onUpdateEditedCell,te=Ke.onPrimaryTableCellEditChange,oe=B(function(){return!!(I.value||x.value)}),he=B(function(){return!!(I.value||x.value)}),pe=B(function(){var me;return z(z(z(z(z(z(z(z({},d.colDraggable,Fe.value),d.rowHandlerDraggable,ce.value),d.rowDraggable,fe.value),g.overflowVisible,ne.value===!1),g.tableRowEdit,e.editableRowKeys),"".concat(v,"-table--select-").concat((me=f.value)===null||me===void 0?void 0:me.type),f.value),"".concat(v,"-table--row-select"),x.value),"".concat(v,"-table--row-expandable"),I.value)}),ue=B(function(){var me=[e.rowClassName,E.value];return me.filter(function(ge){return ge})}),we=B(function(){var me=[e.rowAttributes];return(ce.value||fe.value)&&me.push(function(ge){var ze=ge.row;return{"data-id":H(ze,e.rowKey||"id")}}),me.filter(function(ge){return ge})});_t(function(){U(i.value),Ue(i.value)}),a.expose({validateRowData:On,validateTableData:re,clearValidateData:G,refreshTable:function(){i.value.refreshTable()},scrollToElement:function(ge){i.value.scrollToElement(ge)},scrollColumnIntoView:function(ge){i.value.scrollColumnIntoView(ge)},baseTableRef:i});var xe=function(ge){for(var ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,et=[],at=function(){var Ft,Vt,Xt,Ut,Mt,Ce=Kt({},ge[rt]),rn=((Ft=Ce.children)===null||Ft===void 0?void 0:Ft.length)||((Vt=F.value)===null||Vt===void 0?void 0:Vt.includes(Ce.colKey));if(!rn&&(e.columnController||e.displayColumns||e.defaultDisplayColumns)&&!ze)return 1;Ce=K(Ce);var Ct=e.sort;if(Ce.sorter&&e.showSortColumnBgColor){var Gt=Ct instanceof Array?Ct:[Ct],Yt=Gt.find(function(qt){return qt&&qt.sortBy===Ce.colKey&&qt.descending!==void 0});Yt&&(Ce.className=Ce.className instanceof Array?Ce.className.concat(m.sortColumn):[Ce.className,m.sortColumn])}if(Ce.sorter||Ce.filter){var mt=xa(a.slots,Ce,rt),xt=Ce,Oa=xt.ellipsisTitle;Ce.title=function(qt,wt){var be,Re=Ce.sorter?b(wt):null,Pe=Ce.filter?Q(wt):null,qe=(be=i.value)===null||be===void 0?void 0:be.tableContentRef;return ut([mt,Re,Pe],wt.col,wt.colIndex,Oa,qe,{classPrefix:v,ellipsisOverlayClassName:S.value!=="medium"?O[S.value]:""})},Ce.ellipsisTitle=!1}if((Xt=Ce.edit)!==null&&Xt!==void 0&&Xt.component){var Ra=Ce.cell;Ce.cell=function(qt,wt){var be=Kt(Kt({},wt),{},{oldCell:Ra,rowKey:e.rowKey||"id",tableBaseClass:g,cellEmptyContent:e.cellEmptyContent,onChange:e.onRowEdit,onValidate:e.onRowValidate,onRuleChange:V,onEditableChange:te});if(e.editableRowKeys){var Re,Pe=H(wt.row,e.rowKey||"id");be.editable=Sn.value[Pe]||!1;var qe=[Pe,wt.col.colKey].join("__"),Jt=(Re=xn.value)===null||Re===void 0?void 0:Re[qe];Jt&&(be.errors=Jt)}return e.editableCellState&&(be.readonly=!e.editableCellState(wt)),N(Vu,ke(be,{onUpdateEditedCell:J}),a.slots)}}if((Ut=Ce.children)!==null&&Ut!==void 0&&Ut.length){var Rn;Ce.children=xe(Ce.children,ze||((Rn=F.value)===null||Rn===void 0?void 0:Rn.includes(Ce.colKey)))}(!Ce.children||(Mt=Ce.children)!==null&&Mt!==void 0&&Mt.length)&&et.push(Ce)},rt=0,ht=ge.length;rt<ht;rt++)at();return et},_e=B(function(){var me=xe(l.value);return D.value&&me.unshift(j()),me}),Be=function(ge,ze){var et,at;Me.value=Kt(Kt({},Me.value),ge),L.value=ze,(et=e.onPageChange)===null||et===void 0||et.call(e,ge,ze);var rt=[{pagination:ge},{trigger:"pagination",currentData:ze}];(at=e.onChange)===null||at===void 0||at.call.apply(at,[e].concat(rt)),e.reserveSelectedRowOnPaginate||M([],{selectedRowData:[],type:"uncheck",currentRowKey:"CLEAR_ON_PAGINATE"})},Pt=function(ge){var ze;(ze=e.onActiveRowAction)===null||ze===void 0||ze.call(e,ge),Y(ge)},At=function(ge){e.expandOnRowClick&&y(ge),e.selectOnRowClick&&W(ge)},Ge,$t=250,nn=function(ge){if(!e.onRowDblclick){At(ge);return}Ge?(clearTimeout(Ge),Ge=void 0):Ge=setTimeout(function(){At(ge),Ge=void 0},$t)},an=function(ge){u.value=ge};return function(){var me,ge,ze=function(rn,Ct,Gt,Yt){if(!Gt)return e[rn];var mt=Ct(Ye),xt=n(rn);return mt&&!xt?function(){return mt}:xt&&!mt?function(){return xt}:mt&&xt?function(){return Yt!=null&&Yt.reverse?N("div",null,[mt,xt]):N("div",null,[xt,mt])}:null},et=!!(o.value&&Object.keys(o.value).length),at=et?o.value.placement||"top-right":"",rt=et&&(at==null?void 0:at.indexOf("bottom"))!==-1,ht=ze("topContent",A,et&&!rt),Xn=ze("bottomContent",A,rt,{reverse:!0}),Ft=ze("firstFullRow",k,!ae.value),Vt=ze("lastFullRow",Tt,!!e.asyncLoading),Xt=Cl(),Ut=Xt.vnode,Mt=Kt(Kt({},To(Ut.props,Uu)),{},{rowKey:e.rowKey,rowClassName:ue.value,rowAttributes:we.value,columns:_e.value,keyboardRowHover:(me=e.keyboardRowHover)!==null&&me!==void 0?me:oe.value,disableSpaceInactiveRow:(ge=e.disableSpaceInactiveRow)!==null&&ge!==void 0?ge:he.value,topContent:ht,bottomContent:Xn,firstFullRow:Ft,lastFullRow:Vt,thDraggable:["col","row-handler-col"].includes(e.dragSort),onShowElementChange:an,onPageChange:Be,renderExpandedRow:I.value?T:void 0,onActiveRowAction:Pt});return(e.expandOnRowClick||e.selectOnRowClick)&&(Mt.onRowClick=nn),N(Ml,ke(Mt,{ref:i,class:pe.value,onLeafColumnsChange:je}),a.slots)}}});/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */var Gu={beforeDragSort:{type:Function},expandedTreeNodes:{type:Array,default:void 0},defaultExpandedTreeNodes:{type:Array,default:function(){return[]}},tree:{type:Object},treeExpandAndFoldIcon:{type:Function},onAbnormalDragSort:Function,onExpandedTreeNodesChange:Function,onTreeExpandChange:Function};/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function vl(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function ra(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?vl(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):vl(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}var fl={code:1001,reason:"The same level of rows can not be swapped."};function It(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=H(t,e);return a||n?"".concat(r,"_").concat(a||0,"_").concat(n||0,"}"):r}var Yu=function(){function t(){Ao(this,t),z(this,"treeDataMap",new Map),z(this,"expandAllRowIndex",void 0),this.treeDataMap=new Map}return Po(t,[{key:"initialTreeStore",value:function(a,n,r){var l;(l=this.treeDataMap)===null||l===void 0||l.clear(),this.initialTreeDataMap(this.treeDataMap,a,n.find(function(o){return o.colKey==="row-select"}),r)}},{key:"getAllUniqueKeys",value:function(a,n){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],l=0,o=a.length;l<o;l++){var i=a[l];r.push(It(i,n.rowKey));var u=H(i,n.childrenKey);u!=null&&u.length&&this.getAllUniqueKeys(u,n,r)}return r}},{key:"getExpandedChildrenKeys",value:function(a,n){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],l=0,o=a.length;l<o;l++){var i=a[l],u=It(i,n.rowKey),s=this.treeDataMap.get(u);s.expanded&&r.push(u);var v=H(i,n.childrenKey);v!=null&&v.length&&this.getExpandedChildrenKeys(v,n,r)}return r}},{key:"expandTreeNode",value:function(a,n,r){var l=this;return a.length&&a.forEach(function(o){var i=l.treeDataMap.get(o);i&&l.toggleExpandData({row:i.row,rowIndex:i.rowIndex},n,r,"expand")}),n}},{key:"foldTreeNode",value:function(a,n,r){var l=this;return a.length&&a.forEach(function(o){var i=l.treeDataMap.get(o);i&&l.toggleExpandData({row:i.row,rowIndex:i.rowIndex},n,r,"fold")}),n}},{key:"toggleExpandData",value:function(a,n,r,l){var o;if(!a)return Ne.error("EnhancedTable","the node toggleExpanded doest not exist in `data`"),n;var i=H(a.row,r.rowKey);if(Fn(i))return Ne.error("EnhancedTable","`rowKey` could be wrong, can not get rowValue from `data` by `rowKey`."),[];var u=H(a.row,r.childrenKey);if(u===!0)return n;var s=this.treeDataMap.get(i);return l==="expand"&&s.expanded||l==="fold"&&!s.expanded?n:(s.rowIndex=(o=s.rowIndex)!==null&&o!==void 0?o:a.rowIndex,s.expanded=!s.expanded,this.treeDataMap.set(i,s),this.updateExpandRow(s,n,r))}},{key:"updateExpandRow",value:function(a,n,r){var l=a.row,o=a.rowIndex,i=a.expanded,u=this.treeDataMap,s=H(l,r.childrenKey);if(!l||!s)return n;if(i)Ja(u,a,i,r),sn(u,l,s.length,"expand",r),n.splice.apply(n,[o+1,0].concat(s));else{Ja(u,a,i,r);var v=a.expandChildrenLength||s.length;sn(u,l,-1*v,"fold",r),n.splice(o+1,v)}return en(u,n,{rowKey:r.rowKey,minRowIndex:o+1}),n}},{key:"getData",value:function(a){return this.treeDataMap.get(a)}},{key:"updateData",value:function(a,n,r,l){var o=It(n,l.rowKey),i=this.treeDataMap.get(a);if(!i||i.rowIndex===-1)return ao(r,a,n,{rowKey:l.rowKey,childrenKey:l.childrenKey}),-1;if(H(n,l.childrenKey)===!0){var u=H(i.row,l.childrenKey);if(u!=null&&u.length)for(var s=0,v=u.length;s<v;s++){var d=It(u[s],l.rowKey),g=this.treeDataMap.get(d);g&&this.treeDataMap.delete(d)}}var p=i.rowIndex;if(i.row=n,i.id=o,i.parent){var m=H(i.parent.row,l.childrenKey),w=m.findIndex(function(R){return It(R,l.rowKey)===a});m[w]=n}return this.treeDataMap.set(o,i),a!==o&&this.treeDataMap.delete(a),p}},{key:"remove",value:function(a,n,r){var l=this.treeDataMap.get(a);if(l&&l.rowIndex>=0){var o=(l.expandChildrenLength||0)+1;if(n.splice(l.rowIndex,o),l.parent){var i=H(l.parent.row,r.childrenKey),u=i.findIndex(function(s){return H(s,r.rowKey)===a});i.splice(u,1),sn(this.treeDataMap,l.parent.row,-1*o,"delete",r)}this.treeDataMap.delete(a),en(this.treeDataMap,n,{minRowIndex:l.rowIndex,rowKey:r.rowKey,type:"remove"})}else Ne.warn("EnhancedTable","Can not remove this node, which is not appeared.");return n}},{key:"removeChildren",value:function(a,n,r){var l=this.treeDataMap.get(a);if(l&&l.rowIndex>=0){var o=l.expandChildrenLength||0;o&&n.splice(l.rowIndex+1,o),l.parent&&sn(this.treeDataMap,l.parent.row,-1*o,"delete",r),l.expandChildrenLength=0,l.expanded=!1,Bn(l.row,r.childrenKey,void 0),this.treeDataMap.set(a,l),o&&en(this.treeDataMap,n,{minRowIndex:l.rowIndex+1,rowKey:r.rowKey,type:"remove"})}else Ne.warn("EnhancedTable","Can not remove this node's children, which is not appeared.");return n}},{key:"appendTo",value:function(a,n,r,l){var o=this.treeDataMap.get(a);if(!this.validateDataExist(o,a))return r;for(var i=H(o.row,l.childrenKey),u=o.expanded||!(i!=null&&i.length),s=n instanceof Array?n:[n],v=[],d=-1,g=0,p=s.length;g<p;g++){var m=s[g],w=It(m,l.rowKey),R=this.treeDataMap.get(w);if(!this.validateDataDoubleExist(R,w))Ne.warn("Table","Duplicated Data `".concat(w,"` has been removed."));else{var C=u?o.rowIndex+(o.expandChildrenLength||0)+(g+1):-1;g===0&&(d=C);var O={id:w,row:m,rowIndex:C,level:o.level+1,expanded:!1,expandChildrenLength:0,disabled:!1,path:de(o.path),parent:o};O.path=O.path.concat(O),v.push(m),this.treeDataMap.set(w,O)}}if(!v.length)return r;if(i!=null&&i.length?o.row[l.childrenKey]=o.row[l.childrenKey].concat(v):(o.row[l.childrenKey]=v,o.expanded=!0),u){r.splice.apply(r,[d,0].concat(v));var S=v.length||1;sn(this.treeDataMap,o.row,S,"insert",{rowKey:l.rowKey,childrenKey:l.childrenKey}),en(this.treeDataMap,r,{minRowIndex:d+v.length-1,rowKey:l.rowKey,type:"add",count:1})}return r}},{key:"appendToRoot",value:function(a,n,r){for(var l=n.concat(a),o=a instanceof Array?a:[a],i=n.length,u=0,s=o.length;u<s;u++){var v=H(o[u],r.rowKey);if(!v){Ne.error("Table","`rowKey` could be wrong, can not get rowValue from `data` by `rowKey`.");continue}var d={id:v,row:o[u],rowIndex:i+u,level:0,expanded:!1,expandChildrenLength:0,disabled:!1};d.path=[d],this.treeDataMap.set(v,d)}return l}},{key:"insertAfter",value:function(a,n,r,l){return this.insert(a,n,r,l,"after")}},{key:"insertBefore",value:function(a,n,r,l){return this.insert(a,n,r,l,"before")}},{key:"insert",value:function(a,n,r,l,o){var i=this.treeDataMap.get(a);if(!this.validateDataExist(i,a))return r;var u=H(n,l.rowKey),s=this.treeDataMap.get(u);if(!this.validateDataDoubleExist(s,u))return r;var v=o==="after"?i.rowIndex+1:i.rowIndex,d={id:u,row:n,rowIndex:v,level:i.level,expanded:!1,expandChildrenLength:0,disabled:!1,path:i.path.slice(0,-1),parent:i.parent};d.path=d.path.concat(d);var g=o==="after"?i.rowIndex+(i.expandChildrenLength+1):i.rowIndex;r.splice(g,0,n);var p=o==="after"?1:0;if(i.parent){var m=i.parent.row[l.childrenKey].findIndex(function(w){return a===H(w,l.rowKey)});i.parent.row[l.childrenKey].splice(m+p,0,n),sn(this.treeDataMap,i.parent.row,1,"insert",l)}return this.treeDataMap.set(u,d),en(this.treeDataMap,r,{rowKey:l.rowKey,minRowIndex:i.rowIndex+1,type:"add"}),r}},{key:"swapData",value:function(a,n,r){var l=n.currentIndex,o=n.targetIndex;if(l===o)return{dataSource:a,result:!0};var i=H(n.current,r.rowKey),u=H(n.target,r.rowKey),s=this.treeDataMap.get(i),v=this.treeDataMap.get(u);if(s.level!==v.level)return{dataSource:a,result:!1,code:fl.code,reason:fl.reason};var d=l+s.expandChildrenLength+1,g=o+v.expandChildrenLength+1,p=a.slice(l,d),m=a.slice(o,g);if(l>o){var w=a.slice(g,l),R=p.concat(m,w);a.splice(o,R.length),a.splice.apply(a,[o,0].concat(de(R))),en(this.treeDataMap,a,{rowKey:r.rowKey,minRowIndex:o,maxRowIndex:d})}else{var C=a.slice(d,o),O=C.concat(m,p);a.splice(l,O.length),a.splice.apply(a,[l,0].concat(de(O))),en(this.treeDataMap,a,{rowKey:r.rowKey,minRowIndex:l,maxRowIndex:g})}if(s.parent){for(var S=s.parent.row[r.childrenKey],_=0,F=-1,A=-1,P=0,I=S.length;P<I&&(H(S[P],r.rowKey)===i&&(A=P,_+=1),H(S[P],r.rowKey)===u&&(F=P,_+=1),!(_>=2));P++);A<F?(S.splice(F+1,0,n.current),S.splice(A,1)):(S.splice(A,1),S.splice(F,0,n.current))}return{dataSource:a,result:!0}}},{key:"expandAll",value:function(a,n){var r=this;this.expandAllRowIndex=0;var l=[],o=function(u,s){for(var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,d=0,g=u.length;d<g;d++){var p=u[d],m=H(p,s.rowKey),w=r.treeDataMap.get(m),R=H(p,s.childrenKey);if(w.rowIndex=r.expandAllRowIndex,R!==!0&&R!==null&&R!==void 0&&R.length&&(w.expanded=!0),w.expandChildrenLength=(R==null?void 0:R.length)||0,r.expandAllRowIndex+=1,l.push(p),r.treeDataMap.set(m,w),R!=null&&R.length){for(var C=v;(O=C)!==null&&O!==void 0&&O.row;){var O;C.expandChildrenLength+=R.length,r.treeDataMap.set(C.id,C),C=C.parent}o(R,s,w)}}};return o(a,n),l}},{key:"foldAll",value:function(a,n){for(var r=[],l=0,o=0,i=a.length;o<i;o++){var u=a[o],s=H(u,n.rowKey),v=this.treeDataMap.get(s);v.rowIndex=v.level===0?l:-1,v.expanded=!1,v.expandChildrenLength=0,v.level===0&&(r.push(u),l+=1);var d=H(u,n.childrenKey);d!=null&&d.length&&this.foldAll(d,n)}return r}},{key:"getTreeNode",value:function(a,n){for(var r=[],l=0,o=a.length;l<o;l++){var i=a[l],u=H(i,n.rowKey),s=this.treeDataMap.get(u);s.level===0&&r.push(i)}return r}},{key:"getTreeExpandedRow",value:function(a,n){var r=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"data",o=[];return a.forEach(function(i){var u=H(i,n.rowKey),s=r.treeDataMap.get(u);s.expanded&&(l==="unique"?o.push(u):l==="data"?o.push(i):o.push(s))}),o}},{key:"initialTreeDataMap",value:function(a,n,r,l){for(var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,u=0,s=n.length;u<s;u++){var v=n[u],d=It(v,l.rowKey);if(Fn(d)){Ne.error("EnhancedTable","`rowKey` could be wrong, can not get rowValue from `data` by `rowKey`.");return}var g=H(v,l.childrenKey),p={id:d,row:v,rowIndex:o===0?u:-1,level:o,expanded:!1,expandChildrenLength:0,disabled:Xa(r,v,u),parent:i};p.path=i?i.path.concat(p):[p],a.set(d,p),g!=null&&g.length&&this.initialTreeDataMap(a,g,r,l,o+1,p)}}},{key:"updateDisabledState",value:function(a,n,r){for(var l=0,o=a.length;l<o;l++){var i=a[l],u=H(i,r.rowKey);if(Fn(u)){Ne.error("EnhancedTable","`rowKey` could be wrong, can not get rowValue from `data` by `rowKey`.");return}var s=this.treeDataMap.get(u);s.disabled=Xa(n,i,l),this.treeDataMap.set(u,s);var v=H(i,r.childrenKey);v!=null&&v.length&&this.updateDisabledState(v,n,r)}}},{key:"validateDataExist",value:function(a,n){return a?!0:(Ne.warn("EnhancedTable","".concat(n," does not exist.")),!1)}},{key:"validateDataDoubleExist",value:function(a,n){return a?(Ne.warn("EnhancedTable","Duplicated Key. ".concat(n," already exists.")),!1):!0}}])}();function sn(t,e,a,n,r){for(var l=e;l;){var o,i=t.get(H(l,r.rowKey)),u=(i.expandChildrenLength||0)+a;i.expandChildrenLength=Math.max(0,u),l=i==null||(o=i.parent)===null||o===void 0?void 0:o.row}n==="fold"&&no(t,e,r)}function no(t,e,a){var n=H(e,a.childrenKey);n!=null&&n.length&&n.forEach(function(r){var l=t.get(H(r,a.rowKey));l&&(l.expandChildrenLength=0,no(t,l.row,a))})}function Ja(t,e,a,n){var r=e.row,l=e.rowIndex,o=H(r,n.childrenKey);o.forEach(function(i,u){var s=H(i,n.rowKey),v=a?l+1+u:-1,d=t.get(s),g=ra(ra({},d),{},{row:i,rowIndex:v,expanded:!1,parent:e});if(t.set(s,g),!a){var p=H(i,n.childrenKey);p!=null&&p.length&&Ja(t,ra(ra({},g),{},{rowIndex:-1,expanded:!1}),a,n)}})}function ao(t,e,a,n){for(var r=0,l=t.length;r<l;r++){var o=t[r];if(H(o,n.rowKey)===e){t[r]=a;return}var i=H(o,n.childrenKey)||[];i!=null&&i.length&&ao(i,e,a,n)}}function en(t,e,a){for(var n=a.minRowIndex||0,r=a.maxRowIndex||e.length,l=n;l<r;l++){var o=e[l],i=t.get(H(o,a.rowKey));i||Ne.warn("Table","tree map went wrong"),i.rowIndex=l+((a==null?void 0:a.count)||1)-1}}function qu(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=[],n=[],r=new Map,l=new Map,o=0,i=t.length;o<i;o++)r.set(t[o],!0);for(var u=0,s=e.length;u<s;u++)l.set(e[u],!0);for(var v=0,d=t.length;v<d;v++)l.get(t[v])||n.push(t[v]);for(var g=0,p=e.length;g<p;g++)r.get(e[g])||a.push(e[g]);return{removedList:a,addedList:n}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function hl(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function Ma(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?hl(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):hl(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function Ju(t,e){var a=e.store,n=e.dataSource,r=e.rowDataKeys,l=We(t),o=l.data,i=l.expandedTreeNodes,u=l.tree,s=$(!1),v=$(!1),d=Lt(i,t.defaultExpandedTreeNodes,t.onExpandedTreeNodesChange,"expandedTreeNodes"),g=Ae(d,2),p=g[0],m=g[1],w=$({type:"props-change"});function R(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"expand-all",A=arguments.length>1?arguments[1]:void 0,P=A||o.value;n.value=a.value.expandAll(P,r.value);var I=n.value.map(function(D){return It(D,r.value.rowKey)});m(I,{row:void 0,rowState:void 0,rowIndex:void 0,type:"expand",trigger:F}),w.value.type="expand-all"}function C(){n.value=de(a.value.foldAll(n.value,r.value)),m([],{row:void 0,rowState:void 0,rowIndex:void 0,type:"fold",trigger:"fold-all"})}function O(F,A){var P,I=F.row,D=F.rowIndex;w.value=Ma({type:"user-reaction-change"},F);var j=It(I,r.value.rowKey),T=a.value.treeDataMap.get(j),y=de(p.value);if(T.expanded){for(var h=a.value.getExpandedChildrenKeys([I],r.value),b=0,c=y.length;b<c;b++){var f=y[b];h.includes(f)&&(y[b]=void 0)}y=y.filter(Boolean)}else y.push(j);var x={row:I,rowIndex:D,rowState:T,trigger:A};m(y,Ma(Ma({},x),{},{type:T.expanded?"fold":"expand"})),(P=t.onTreeExpandChange)===null||P===void 0||P.call(t,x)}function S(F,A){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],I=qu(A,P),D=I.addedList,j=I.removedList;return a.value.expandTreeNode(D,F,r.value),a.value.foldTreeNode(j,F,r.value),de(F)}ve([p,o],function(F,A){var P=Ae(F,1),I=P[0],D=Ae(A,1),j=D[0];if(!(!a.value.treeDataMap.size||!o.value.length)){if(w.value.type==="user-reaction-change"){var T=w.value||{},y=T.row,h=T.rowIndex;n.value=de(a.value.toggleExpandData({row:y,rowIndex:h},de(n.value),r.value))}else w.value.type==="props-change"&&S(n.value,I,j);w.value.type="props-change"}});var _=function(A){var P,I;(P=u.value)!==null&&P!==void 0&&P.defaultExpandAll&&!s.value?(R("default-expand-all",de(A)),s.value=!0):(I=p.value)!==null&&I!==void 0&&I.length&&hn(function(){n.value=S(de(A),p.value,[])})};return{tExpandedTreeNode:p,isDefaultExpandAllExecute:s,isDefaultExpandedTreeNodesExecute:v,expandAll:R,foldAll:C,onExpandFoldIconClick:O,updateExpandOnDataChange:_}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function gl(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function gt(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?gl(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):gl(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function Zu(t,e){var a=We(t),n=a.data,r=a.columns,l=bt("table",t.locale),o=l.t,i=l.globalConfig,u=Cn({AddRectangleIcon:qo,MinusRectangleIcon:ri}),s=u.AddRectangleIcon,v=u.MinusRectangleIcon,d=$(new Yu),g=Fo(),p=$([]),m=it(),w=m.tableTreeClasses,R=Ca(),C=B(function(){var k;return{rowKey:t.rowKey||"id",childrenKey:((k=t.tree)===null||k===void 0?void 0:k.childrenKey)||"children"}}),O=Ju(t,{store:d,dataSource:p,rowDataKeys:C}),S=O.tExpandedTreeNode,_=O.isDefaultExpandAllExecute,F=O.isDefaultExpandedTreeNodesExecute,A=O.expandAll,P=O.foldAll,I=O.updateExpandOnDataChange,D=O.onExpandFoldIconClick,j=B(function(){return r.value.find(function(k){return k.colKey==="row-select"})});ve(j,function(k){d.value&&d.value.updateDisabledState(p.value,k,C.value)});var T=function(U){var q=gt(gt({},U),{},{type:"fold"}),Z=o(i.value.treeExpandAndFoldIcon,Ye,q)||N(v,null,null);return R("treeExpandAndFoldIcon",{defaultNode:Z,params:q})},y=function(U){var q=gt(gt({},U),{},{type:"expand"}),Z=o(i.value.treeExpandAndFoldIcon,Ye,q)||N(s,null,null);return R("treeExpandAndFoldIcon",{defaultNode:Z,params:q})};ve([n],function(){t.tree?h(n.value):p.value=n.value},{immediate:!0}),Ko(function(){var k;t.tree&&((k=d.value.treeDataMap)===null||k===void 0||k.clear(),d.value=null)}),ve(function(){var k;return[r,(k=t.tree)===null||k===void 0?void 0:k.treeNodeColumnIndex]},function(){g.value=f()},{immediate:!0});function h(k){var U,q=t.columns,Z=t.expandedTreeNodes,ce=t.defaultExpandedTreeNodes,fe=t.tree;d.value.initialTreeStore(k,q,C.value);var Fe=!!(!F.value&&(ce!=null&&ce.length)),Me=!!(fe!=null&&fe.defaultExpandAll&&!_.value);(U=S.value)!==null&&U!==void 0&&U.length&&(Z||Fe)||Me?(I(k),F.value=!0):p.value=de(k)}function b(k){var U,q;if(k!==void 0){var Z=((U=t.tree)===null||U===void 0?void 0:U.indent)===void 0?24:(q=t.tree)===null||q===void 0?void 0:q.indent;return Z?{paddingLeft:"".concat(k*Z||1,"px")}:{}}}function c(k,U){var q,Z,ce=gt({},k);k.row.VIRTUAL_SCROLL_INDEX!==void 0&&(ce.rowIndex=k.row.VIRTUAL_SCROLL_INDEX),p.value=de(d.value.toggleExpandData(ce,p.value,C.value));var fe=H(k.row,C.value.rowKey),Fe=(q=d.value)===null||q===void 0||(q=q.treeDataMap)===null||q===void 0?void 0:q.get(fe);(Z=t.onTreeExpandChange)===null||Z===void 0||Z.call(t,{row:k.row,rowIndex:k.rowIndex,rowState:Fe,trigger:U})}function f(){for(var k,U=t.columns,q=((k=t.tree)===null||k===void 0?void 0:k.treeNodeColumnIndex)||0;(Z=U[q])!==null&&Z!==void 0&&Z.type||((ce=U[q])===null||ce===void 0?void 0:ce.colKey)==="__EXPAND_ROW_ICON_COLUMN__";){var Z,ce;q+=1}return U[q]}function x(k){if(!t.tree||k.colKey!==g.value.colKey)return k;var U=gt({},g.value);return U.cell=function(q,Z){var ce=fa(gt(gt({},Z),{},{col:gt({},g.value)}),e.slots,{cellEmptyContent:t.cellEmptyContent}),fe=d.value.treeDataMap.get(H(Z.row,C.value.rowKey)),Fe=b(fe==null?void 0:fe.level),Me=z({},w.inlineCol,!!k.ellipsis),Ue=H(Z.row,C.value.childrenKey);if(Ue&&Ue instanceof Array||Ue===!0){var je,nt=(je=d.value.treeDataMap.get(H(Z.row,C.value.rowKey)))!==null&&je!==void 0&&je.expanded?T(Z):y(Z);return N("div",{class:[w.col,Me],style:Fe},[!!(Ue.length||Ue===!0)&&N("span",{class:w.icon,onClick:function(st){D(Z,"expand-fold-icon"),st.stopPropagation()}},[nt]),ce])}return N("div",{style:Fe,class:[Me,w.leafNode]},[N("span",{class:w.icon},null),ce])},U.ellipsis===!0&&(U.ellipsis=function(q,Z){return fa(gt(gt({},Z),{},{col:gt({},g.value)}),e.slots)}),U}function E(k,U){var q=d.value.updateData(k,U,p.value,C.value),Z=de(p.value);Z[q]=U,p.value=Z}function L(k){return d.value.getData(k)}function K(k){p.value=de(d.value.remove(k,p.value,C.value))}function M(k){p.value=de(d.value.removeChildren(k,p.value,C.value))}function W(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",U=arguments.length>1?arguments[1]:void 0;if(!k){p.value=d.value.appendToRoot(U,p.value,C.value);return}p.value=de(d.value.appendTo(k,U,p.value,C.value))}function Y(k,U){p.value=de(d.value.insertAfter(k,U,p.value,C.value))}function ee(k,U){p.value=de(d.value.insertBefore(k,U,p.value,C.value))}function ae(k){var U=d.value.swapData(p.value,k,C.value);if(U.result)p.value=de(U.dataSource);else{var q,Z={code:U.code,reason:U.reason};(q=t.onAbnormalDragSort)===null||q===void 0||q.call(t,Z)}}function ne(){return d.value.getTreeNode(p.value,C.value)}function Q(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data";return d.value.getTreeExpandedRow(p.value,C.value,k)}return{store:d,rowDataKeys:C,dataSource:p,swapData:ae,setData:E,getData:L,remove:K,removeChildren:M,appendTo:W,insertAfter:Y,insertBefore:ee,formatTreeColumn:x,toggleExpandData:c,expandAll:A,foldAll:P,getTreeNode:ne,resetData:h,getTreeExpandedRow:Q,onExpandFoldIconClick:D}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function pl(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function la(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?pl(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):pl(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}var Za=new Map;function An(t,e,a,n){if(Za.get(e))return Za.get(e);var r=n||{allChildren:[],allChildrenKeys:[],leafNodeKeys:[]},l=H(e,a.childrenKey);if(!l||!l.length)return r;var o=l.filter(function(C){var O;return!((O=t.get(H(C,a.rowKey)))!==null&&O!==void 0&&O.disabled)});r.allChildren=de(new Set(r.allChildren.concat(o)));for(var i=0,u=l.length;i<u;i++){var s=l[i],v=H(s,a.childrenKey);if(v!=null&&v.length){var d=An(t,s,a,r);r.allChildren=de(new Set(r.allChildren.concat(d.allChildren)))}}for(var g=0,p=r.allChildren.length;g<p;g++){var m=r.allChildren[g],w=H(m,a.childrenKey),R=H(m,a.rowKey);r.allChildrenKeys.push(R),(!w||!w.length)&&r.leafNodeKeys.push(R)}return r.allChildrenKeys=de(new Set(r.allChildrenKeys)),r.leafNodeKeys=de(new Set(r.leafNodeKeys)),r}function Qu(t,e){for(var a=t.selectedRowKeys,n=t.removeKeys,r={data:[],keys:[]},l=0,o=a.length;l<o;l++){var i=a[l];n.includes(i)||r.keys.push(i)}return r}function es(t){for(var e=t.treeDataMap,a=t.selectedRowKeys,n=[],r=0,l=a.length;r<l;r++){var o=a[r];n.push(e.get(o))}return n}function ts(t,e){var a=We(t),n=a.selectedRowKeys,r=a.tree,l=a.data,o=a.indeterminateSelectedRowKeys,i=$([]),u=Lt(n,t.defaultSelectedRowKeys||[],t.onSelectChange,"selectedRowKeys"),s=Ae(u,2),v=s[0],d=s[1],g=B(function(){var O;return{rowKey:t.rowKey||"id",childrenKey:((O=t.tree)===null||O===void 0?void 0:O.childrenKey)||"children"}});ve([r,e,l,v],function(O){var S=Ae(O,2),_=S[0],F=S[1];!_||!F.size||_.checkStrictly||p()});function p(){if(!(!r.value||r.value.checkStrictly)){if(!v.value.length){i.value=[];return}for(var O=[],S={},_=0,F=v.value.length;_<F;_++){var A=v.value[_],P=e.value.get(A);if(P){var I=H(P.row,g.value.childrenKey);if(!I||!I.length)for(var D=P.parent;D;){S[D.id]||(S[D.id]=[]),S[D.id].push(P.row);var j=S[D.id].length,T=An(e.value,D.row,g.value),y=T.allChildrenKeys,h=O.indexOf(D.id),b=v.value.indexOf(D.id);j>0&&j<y.length&&b===-1?h===-1&&O.push(D.id):h!==-1&&O.splice(h,1),D=D.parent}}}i.value=O}}function m(O,S,_){if(!(!r.value||r.value.checkStrictly)){for(var F=de(O),A=e.value.get(S),P=A.parent;P;){var I=An(e.value,P.row,g.value),D=I.leafNodeKeys,j=va(D,O),T=F.indexOf(P.id);_==="uncheck"?T!==-1&&F.splice(T,1):j.length===D.length&&T===-1&&F.push(P.id),P=P.parent}return F}}function w(O,S){if(!r.value||r.value.checkStrictly){d(O,S);return}S.currentRowKey==="CHECK_ALL_BOX"?R(S):C(O,S)}function R(O){var S=[],_=[];if(O.type==="check")for(var F=de(e.value.values()),A=0,P=F.length;A<P;A++){var I=F[A];I.disabled||(_.push(I.row),S.push(H(I.row,g.value.rowKey)))}var D=la(la({},O),{},{selectedRowData:_||[]});d(S,D)}function C(O,S){var _,F=de(O);if(((_=t.tree)===null||_===void 0?void 0:_.checkStrictly)===!1){if((S==null?void 0:S.type)==="check"){var A=An(e.value,S.currentRowData,g.value),P=A.allChildrenKeys;Za.set(S.currentRowData,A),F=de(new Set(F.concat(P)))}else if((S==null?void 0:S.type)==="uncheck"){var I=An(e.value,S.currentRowData,g.value),D=Qu({selectedRowKeys:O,removeKeys:I.allChildrenKeys});F=D.keys}}F=m(F,S.currentRowKey,S.type);var j=es({treeDataMap:e.value,selectedRowKeys:F}),T=la(la({},S),{},{selectedRowData:j});d(F,T)}return{tIndeterminateSelectedRowKeys:o.value?o:i,onInnerSelectChange:w}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */var ns=["store","dataSource","formatTreeColumn","swapData","onExpandFoldIconClick"];function bl(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function Ot(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?bl(Object(a),!0).forEach(function(n){z(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):bl(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}var as=Xe({name:"TEnhancedTable",props:Ot(Ot(Ot({},gn),Bl),Gu),setup:function(e,a){var n=$(null),r=Zu(e,a),l=r.store,o=r.dataSource,i=r.formatTreeColumn,u=r.swapData,s=r.onExpandFoldIconClick,v=Uo(r,ns),d=Hn(),g=$(l.value.treeDataMap),p=ts(e,g),m=p.tIndeterminateSelectedRowKeys,w=p.onInnerSelectChange,R=function(P){for(var I=[],D=0,j=P.length;D<j;D++){var T,y,h=Ot({},P[D]);h=i(h),(T=h.children)!==null&&T!==void 0&&T.length&&(h.children=R(h.children)),(!h.children||(y=h.children)!==null&&y!==void 0&&y.length)&&I.push(h)}return I},C=B(function(){var A=!e.tree||!Object.keys(e.tree).length;return A?e.columns:R(e.columns)}),O=function(P){var I;e.beforeDragSort&&!e.beforeDragSort(P)||(u({current:P.current,target:P.target,currentIndex:P.currentIndex,targetIndex:P.targetIndex}),(I=e.onDragSort)===null||I===void 0||I.call(e,P))},S=function(P){var I,D;(I=e.tree)!==null&&I!==void 0&&I.expandTreeNodeOnClick&&s({row:P.row,rowIndex:P.index},"row-click"),(D=e.onRowClick)===null||D===void 0||D.call(e,P)},_=function(P,I){if(!P)return-1;if(P.rowIndex>=0)return P.rowIndex;if(P.rowIndex<0)return _(P.parent)},F=function(P){var I=P.index;if(!I&&I!==0){if(!P.key){Ne.error("Table","scrollToElement: one of `index` or `key` must exist.");return}var D=g.value.get(P.key);I=_(D,P.key),(I<0||I===void 0)&&Ne.error("Table","".concat(P.key," does not exist in data, check `rowKey` or `data` please."))}n.value.scrollToElement(Ot(Ot({},P),{},{index:I}))};return a.expose(Ot(Ot({store:l.value,dataSource:o.value},v),{},{primaryTableRef:n,validateRowData:function(P){return n.value.validateRowData(P)},validateTableData:function(){return n.value.validateTableData()},clearValidateData:function(){n.value.clearValidateData()},refreshTable:function(){n.value.refreshTable()},scrollToElement:F})),function(){var A,P=Cl(),I=P.vnode,D=Ot(Ot({},I.props),{},{rowKey:e.rowKey||"id",data:o.value,columns:C.value,indeterminateSelectedRowKeys:m.value,disableDataPage:!!(e.tree&&Object.keys(e.tree).length),onSelectChange:w,onDragSort:O,rowClassName:function(T){var y=T.row,h=H(y,e.rowKey||"id"),b=g.value.get(h);return b?["".concat(d.value,"-table-tr--level-").concat(b.level),e.rowClassName]:[e.rowClassName]}});return(A=e.tree)!==null&&A!==void 0&&A.expandTreeNodeOnClick&&(D.onRowClick=S),N(sr,ke(D,{ref:n}),a.slots)}}});/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */var Ds=Wn(Ml);Wn(sr);var _s=Wn(as),rs=er(sr),Ts=Wn(rs,"TTable");export{Ds as B,_s as E,Ts as T};
