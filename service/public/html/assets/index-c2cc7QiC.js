import{b5 as ae,b6 as K,b7 as le,aM as te,b8 as re,b9 as ue,e as p,v as oe,U as B,as as ie,d as W,a0 as ce,a1 as ve,a9 as H,a5 as J,an as de,l as _,a8 as se,C as X,_ as N,a as I,P as he,s as fe,Z as be,ao as ke,Q as Ce,L as ye,aB as ge,$ as F,ad as q}from"./index-DyfhlEKp.js";import{u as Q}from"./useVModel-CsuQbcSh.js";import{o as me}from"./observe-CfjnoQGd.js";import{C as $}from"./common-CF_MvV9u.js";import{u as xe}from"./useReadonly-CXHqkGFp.js";import{i as pe}from"./dep-d524834c-s9Vwwbzr.js";import{u as _e}from"./slot-cq2gaFzZ.js";/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function Ae(n,e,l,t){for(var i=n.length,o=l+(t?1:-1);t?o--:++o<i;)if(e(n[o],o,n))return o;return-1}var Oe=Ae;function Le(n){return n!==n}var Ie=Le;function we(n,e,l){for(var t=l-1,i=n.length;++t<i;)if(n[t]===e)return t;return-1}var Be=we,Se=Oe,Ve=Ie,je=Be;function Ee(n,e,l){return e===e?je(n,e,l):Se(n,Ve,l)}var Ne=Ee,De=Ne;function Te(n,e){var l=n==null?0:n.length;return!!l&&De(n,e,0)>-1}var Me=Te;function Pe(n,e,l){for(var t=-1,i=n==null?0:n.length;++t<i;)if(l(e,n[t]))return!0;return!1}var Fe=Pe;/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */var $e=le,Re=Me,Ge=Fe,ze=K,Ue=te,R=re,Ke=Math.min;function We(n,e,l){for(var t=l?Ge:Re,i=n[0].length,o=n.length,s=o,C=Array(o),y=1/0,g=[];s--;){var d=n[s];s&&e&&(d=ze(d,Ue(e))),y=Ke(d.length,y),C[s]=!l&&(e||i>=120&&d.length>=120)?new $e(s&&d):void 0}d=n[0];var x=-1,f=C[0];e:for(;++x<i&&g.length<y;){var a=d[x],b=e?e(a):a;if(a=l||a!==0?a:0,!(f?R(f,b):t(g,b,l))){for(s=o;--s;){var k=C[s];if(!(k?R(k,b):t(n[s],b,l)))continue e}f&&f.push(b),g.push(a)}}return g}var He=We,Je=ue;function Xe(n){return Je(n)?n:[]}var qe=Xe,Qe=K,Ze=He,Ye=ae,en=qe,nn=Ye(function(n){var e=Qe(n,en);return e.length&&e[0]===n[0]?Ze(e):[]}),G=nn;/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */var an={checkAll:Boolean,checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:Boolean,default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},readonly:{type:Boolean,default:void 0},indeterminate:Boolean,label:{type:[String,Function]},lazyLoad:Boolean,name:{type:String,default:""},value:{type:[String,Number,Boolean]},onChange:Function};/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */var Z=Symbol("CheckboxGroupProvide");/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function ln(n,e){var l=p(),t=p(!0),i=function(){if(e.value){t.value=!1;var s=me(n.value,null,function(){t.value=!0},0);l.value=s}};return oe(i),B([e,n],i),ie(function(){e.value&&l.value.unobserve(n.value)}),{showCheckbox:t}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function tn(n){var e=function(o){var s=$.test(o.key)||$.test(o.code);if(s){o.preventDefault();var C=o.currentTarget.querySelector("input"),y=C.disabled;!y&&n(o)}},l=function(o){o.currentTarget.addEventListener("keydown",e)},t=function(o){o.currentTarget.removeEventListener("keydown",e)};return{onCheckboxFocus:l,onCheckboxBlur:t}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function z(n,e){var l=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),l.push.apply(l,t)}return l}function U(n){for(var e=1;e<arguments.length;e++){var l=arguments[e]!=null?arguments[e]:{};e%2?z(Object(l),!0).forEach(function(t){N(n,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):z(Object(l)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(l,t))})}return n}var Y=W({name:"TCheckbox",props:U(U({},an),{},{needRipple:Boolean,stopLabelTrigger:Boolean,index:Number,data:Object}),setup:function(e){var l=p();e.needRipple&&ce(l);var t=ve(),i=t.STATUS,o=H(e),s=o.checked,C=o.modelValue,y=o.lazyLoad,g=Q(s,C,e.defaultChecked,e.onChange,"checked"),d=J(g,2),x=d[0],f=d[1],a=de(Z,void 0),b=p();B(function(){return[e.name,a==null?void 0:a.value.name].join("_")},function(){var m=e.name||(a==null?void 0:a.value.name);m&&(b.value=m)},{immediate:!0});var k=p(!1),S=function(){var L=e.value,E=e.checkAll;return E?a==null?void 0:a.value.isCheckAll:a!=null&&a.value?a.value.checkedValues.includes(L):x.value};B(function(){var m;return[x.value,a==null?void 0:a.value.isCheckAll,a==null||(m=a.value.checkedValues)===null||m===void 0?void 0:m.join(",")]},function(){k.value=S()},{immediate:!0});var D=_(function(){return!e.checkAll&&!k.value&&a!==null&&a!==void 0&&a.value.maxExceeded?!0:null}),T=_(function(){return a==null?void 0:a.value.disabled}),A=se({beforeDisabled:D,afterDisabled:T}),M=_(function(){return a==null?void 0:a.value.readonly}),V=xe({afterReadonly:M}),O=p(!1);B(function(){return[e.checkAll,e.indeterminate,a==null?void 0:a.value.indeterminate]},function(){O.value=e.checkAll?a==null?void 0:a.value.indeterminate:e.indeterminate},{immediate:!0});var c=X("checkbox"),r=p({});B([k,A,O],function(){r.value=["".concat(c.value),N(N(N({},i.value.checked,k.value),i.value.disabled,A.value),i.value.indeterminate,O.value)]},{immediate:!0});var u=function(L){if(!V.value){var E=!k.value;f(E,{e:L}),a!=null&&a.value.handleCheckboxChange&&a.value.onCheckedChange({checked:E,checkAll:e.checkAll,e:L,option:e})}},h=he(),v=function(L){e.stopLabelTrigger&&L.preventDefault()},j=ln(l,y),w=j.showCheckbox,P=tn(u),ee=P.onCheckboxFocus,ne=P.onCheckboxBlur;return function(){return I("label",{ref:l,class:r.value,tabindex:A.value?void 0:"0",onFocus:ee,onBlur:ne},[w.value?[I("input",{type:"checkbox",tabindex:"-1",class:"".concat(c.value,"__former"),disabled:A.value,readonly:V.value,indeterminate:O.value,name:b.value,value:e.value?e.value:void 0,checked:k.value,onChange:u,key:"input"},null),I("span",{class:"".concat(c.value,"__input"),key:"input-span"},null),I("span",{class:"".concat(c.value,"__label"),key:"label",onClick:v},[h("default","label")])]:null])}}});/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */var rn={disabled:{type:Boolean,default:void 0},readonly:{type:Boolean,default:void 0},lazyLoad:Boolean,max:{type:Number,default:void 0},name:{type:String,default:""},options:{type:Array},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},onChange:Function};/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */var un=W({name:"TCheckboxGroup",props:rn,setup:function(e){var l=X("checkbox-group"),t=ye(),i=Array.isArray,o=H(e),s=o.value,C=o.modelValue,y=Q(s,C,e.defaultValue,e.onChange),g=J(y,2),d=g[0],x=g[1],f=p([]),a=_(function(){if(!i(d.value))return 0;var c=f.value.map(function(u){return u.value}),r=G(d.value,c);return r.length}),b=_(function(){var c=f.value.filter(function(u){return!u.disabled&&!u.readonly&&!u.checkAll}).map(function(u){return u.value}),r=G(c,d.value);return r.length===c.length}),k=_(function(){return!b.value&&a.value<f.value.length&&a.value!==0}),S=_(function(){return!pe(e.max)&&d.value.length===e.max});fe(function(){if(!e.options)return[];f.value=e.options.map(function(c){return be(c)?c:{label:String(c),value:c}})});var D=function(){for(var r=new Set,u=0,h=f.value.length;u<h;u++){var v=f.value[u];if(!v.checkAll&&!v.disabled&&!v.readonly&&(r.add(v.value),S.value))break}return F(r)},T=function(r,u){var h=r?D():[];x(h,{e:u.e,type:r?"check":"uncheck",current:void 0,option:void 0})},A=function(r){var u=r.option.value;if(!i(d.value)){console.warn("TDesign CheckboxGroup Warn: `value` must be an array, instead of ".concat(ge(d.value)));return}var h=F(d.value);if(r.checked)h.push(u);else{var v=h.indexOf(u);h.splice(v,1)}x(h,{e:r.e,current:r.option.value,option:r.option,type:r.checked?"check":"uncheck"})},M=function(r){var u=r.checked,h=r.checkAll,v=r.e;h?T(u,{e:v}):A(r)},V=_e(),O=function(){var r=V("Checkbox"),u=[];return r==null||r.forEach(function(h){var v=h.props;v&&((v["check-all"]===""||v["check-all"]===!0)&&(v.checkAll=!0),u.push(v))}),u};return ke(Z,_(function(){return{name:e.name,isCheckAll:b.value,checkedValues:d.value||[],maxExceeded:S.value,disabled:e.disabled,readonly:e.readonly,indeterminate:k.value,handleCheckboxChange:A,onCheckedChange:M}})),function(){var c,r=null;if((c=e.options)!==null&&c!==void 0&&c.length){var u;r=(u=f.value)===null||u===void 0?void 0:u.map(function(v,j){var w;return I(Y,Ce({key:"".concat(v.value||"").concat(j),lazyLoad:e.lazyLoad},v,{index:j,checked:(w=d.value)===null||w===void 0?void 0:w.includes(v.value),data:v}),null)})}else{var h=t("default");f.value=O(),r=h}return I("div",{class:l.value,role:"group","aria-label":"checkbox-group"},[r])}}});/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */var bn=q(Y),kn=q(un);export{kn as C,Me as _,bn as a,Fe as b,G as i};
