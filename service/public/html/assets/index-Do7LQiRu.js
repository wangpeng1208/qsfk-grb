import{l as R,d as $}from"./pay_type-C0t8SHHk.js";import{p as D}from"./global-DaymibWd.js";import{d as I,e as d,k as L,l as N,j as V,f as M,o as n,c as p,w as e,b as s,a as o,g as v,h as f,u as j,M as A,B as U}from"./index-Bl4AiOyE.js";import{_ as q}from"./edit.vue_vue_type_script_setup_true_lang-CND3XXJT.js";import{I as E}from"./index-DaVESe2P.js";import{T as F}from"./index-BjJKviJA.js";import{L as G}from"./index-DYrnlY5q.js";import{P as H}from"./index-BHe90IKu.js";import{S as J}from"./index-CmSpUa39.js";import{B as O}from"./index-tzykTWLw.js";import{C as Q}from"./index-DgoDdsYb.js";import"./index.vue_vue_type_script_setup_true_lang-BOgC608s.js";import"./config-hc94wOqU.js";import"./index-Dkkg6vhj.js";import"./index-CeSPek2M.js";import"./observe-CfjnoQGd.js";import"./log-ZJhmUOBa.js";import"./close-circle-filled-xz65pYuL.js";import"./useCommonClassName-B8MbwXBA.js";import"./index-DKSVjsu7.js";import"./useDefaultValue-DgMKt5hR.js";import"./useVModel-HmF1Gebj.js";import"./dep-86139c71-_Dj3X0D4.js";import"./number-jGqlEXl8.js";import"./dep-d524834c-s9Vwwbzr.js";import"./index-BKyk21AZ.js";import"./chevron-left-BBFgH3SA.js";import"./browse-CCDZKZZU.js";import"./delete-BdbM_d1G.js";import"./dep-1858b432-B1ibg8Ju.js";import"./index-CLnbRl90.js";import"./useLengthLimit-zZTqNE_r.js";import"./useReadonly-DZtTxOfz.js";import"./const-BLdXWxIl.js";import"./useResizeObserver-BUPtuDKJ.js";import"./index-DZCrjQ_3.js";import"./form-model-BN3AK5Zp.js";import"./dep-4cc4ef27-Bxo4BcuK.js";import"./dep-40320ba3-B1Ayvxeb.js";import"./index-BACtxuGn.js";import"./dep-96cefb8b-D_Qrr7tD.js";import"./slot-BjrDC6aI.js";import"./dep-02de0cb4-B9D_IUaB.js";import"./dep-eedf0c29-Hg3zrHFZ.js";import"./index-BuecJDAw.js";import"./common-CF_MvV9u.js";import"./index-BtiChZpX.js";import"./index-CCnSBKQl.js";import"./index-B8hTW5gB.js";import"./index-BXun50hP.js";import"./index-C23pHn_u.js";import"./chevron-right-BZPeNPTA.js";import"./useVirtualScrollNew-BJRfmUbB.js";import"./dep-af55fe23-C5ZQDf4C.js";import"./index-CkUJmLKO.js";import"./helper-VFi8r3PY.js";const W=[{colKey:"id",title:"ID"},{colKey:"name",title:"名称"},{colKey:"logo",title:"Logo"},{colKey:"ico",title:"图标"},{colKey:"operate",title:"操作",fixed:"right"}],X={class:"category-header c-flex"},Y={class:"l"},oe=I({__name:"index",setup(Z){const i=d({defaultPageSize:20,total:0,defaultCurrent:1}),l=d([]),r=async()=>{const{data:t}=await R({page:i.value.defaultCurrent,limit:i.value.defaultPageSize});l.value=t.list,i.value={defaultPageSize:t.limit,total:t.total,defaultCurrent:t.page}};r();const y=t=>{i.value.defaultCurrent=t.current,i.value.defaultPageSize=t.pageSize,r()},x=L(),C=N(()=>({offsetTop:x.isUseTabsRouter?48:0,container:`.${D}-layout`})),u=d(),_=t=>{u.value.init(t)},b=async t=>{(await $({id:t})).code===1&&(A.success("删除成功"),r())};return(t,m)=>{const w=E,k=F,S=U,h=V("wp-image"),g=G,T=H,z=J,P=O,B=Q,c=M("perms");return n(),p(B,{class:"basic-container",bordered:!1},{title:e(()=>[s(" 支付方式分类 "),o(k,{content:"用于显示选择支付方式；此处和支付授权渠道有关联；为系统预设性，非必要请勿删除",placement:"right"},{default:e(()=>[o(w,{name:"help-circle",style:{color:"var(--td-text-color-placeholder)"}})]),_:1})]),default:e(()=>[v("div",X,[v("div",Y,[f((n(),p(S,{theme:"primary",onClick:m[0]||(m[0]=a=>_(0))},{default:e(()=>[s("添加")]),_:1})),[[c,["adminapi/channel/payType/add"]]])])]),o(P,{class:"basic-table","row-key":"id",data:l.value,columns:j(W),hover:l.value.length>0,"header-affixed-top":C.value,pagination:i.value,"max-height":"auto","table-layout":"auto","lazy-load":"",onPageChange:y},{logo:e(({row:a})=>[o(h,{src:a.logo,style:{width:"80px",height:"30px"}},null,8,["src"])]),ico:e(({row:a})=>[o(h,{src:a.ico,shape:"circle",style:{width:"30px",height:"30px"}},null,8,["src"])]),operate:e(({row:a})=>[o(z,null,{default:e(()=>[f((n(),p(g,{theme:"primary",size:"small",onClick:K=>_(a.id)},{default:e(()=>[s("编辑")]),_:2},1032,["onClick"])),[[c,["adminapi/channel/payType/edit"]]]),o(T,{content:"确认删除吗",onConfirm:K=>b(a.id)},{default:e(()=>[f((n(),p(g,{theme:"danger",hover:"color",size:"small"},{default:e(()=>[s(" 删除 ")]),_:1})),[[c,["adminapi/channel/payType/del"]]])]),_:2},1032,["onConfirm"])]),_:2},1024)]),_:1},8,["data","columns","hover","header-affixed-top","pagination"]),o(q,{ref_key:"editRef",ref:u,onSuccess:r},null,512)]),_:1})}}});export{oe as default};
