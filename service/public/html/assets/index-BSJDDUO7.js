import{i as x,d as b,e as n,r as C,l as u,k as S,o as w,c as K,w as p,g as d,t as k,a as m,h as B,ag as D,u as P,V as T}from"./index-Bl4AiOyE.js";import{p as z}from"./global-DaymibWd.js";import F from"./OrderChannel-CmvHFXiy.js";import R from"./row-search-Bzv-3WY2.js";import{B as V}from"./index-tzykTWLw.js";import{C as j}from"./index-DgoDdsYb.js";import"./workbench-Cvm0LJAN.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./collection-DFXdLzeU.js";import"./pay_type-C0t8SHHk.js";import"./index-B8hTW5gB.js";import"./useLengthLimit-zZTqNE_r.js";import"./log-ZJhmUOBa.js";import"./dep-02de0cb4-B9D_IUaB.js";import"./dep-4cc4ef27-Bxo4BcuK.js";import"./dep-96cefb8b-D_Qrr7tD.js";import"./index-BuecJDAw.js";import"./useVModel-HmF1Gebj.js";import"./observe-CfjnoQGd.js";import"./common-CF_MvV9u.js";import"./useReadonly-DZtTxOfz.js";import"./dep-d524834c-s9Vwwbzr.js";import"./slot-BjrDC6aI.js";import"./index-BXun50hP.js";import"./index-BACtxuGn.js";import"./useResizeObserver-BUPtuDKJ.js";import"./index-CLnbRl90.js";import"./const-BLdXWxIl.js";import"./browse-CCDZKZZU.js";import"./close-circle-filled-xz65pYuL.js";import"./useDefaultValue-DgMKt5hR.js";import"./index-C23pHn_u.js";import"./index-DZCrjQ_3.js";import"./dep-86139c71-_Dj3X0D4.js";import"./form-model-BN3AK5Zp.js";import"./dep-40320ba3-B1Ayvxeb.js";import"./index-PQ79vYQK.js";import"./index-BtiChZpX.js";import"./index-CCnSBKQl.js";import"./useCommonClassName-B8MbwXBA.js";import"./number-jGqlEXl8.js";import"./chevron-left-BBFgH3SA.js";import"./chevron-right-BZPeNPTA.js";import"./index-CmSpUa39.js";import"./index-BjJKviJA.js";import"./dep-eedf0c29-Hg3zrHFZ.js";import"./useVirtualScrollNew-BJRfmUbB.js";import"./dep-af55fe23-C5ZQDf4C.js";import"./index-CkUJmLKO.js";import"./helper-VFi8r3PY.js";import"./dep-1858b432-B1ibg8Ju.js";function f(c){return x.post({url:"/adminapi/order/analysis/channel",params:c})}const N=[{colKey:"channel_id",title:"渠道ID"},{colKey:"title",title:"渠道名称"},{colKey:"count",title:"提交订单"},{colKey:"paid",title:"已付订单"},{colKey:"unpaid",title:"未付订单"},{colKey:"sum_money",title:"提交金额"}],O={class:"category-header c-flex"},Nt=b({__name:"index",setup(c){const t=n({defaultPageSize:20,total:0,defaultCurrent:1}),s=n([]),r=C({}),i=n(!0),h=u(()=>i.value?"收起搜索":"展开搜索"),l=async(a={})=>{if(Object.assign(r,a),r.action==="export"){const e={...r},o=await f(e);T(o.data.url)}else{const e={page:t.value.defaultCurrent,limit:t.value.defaultPageSize,...r},{data:o}=await f(e);s.value=o.list,t.value={...t.value,total:o.total}}};l();const v=a=>{t.value.defaultCurrent=a.current,t.value.defaultPageSize=a.pageSize,l()},g=S(),_=u(()=>({offsetTop:g.isUseTabsRouter?48:0,container:`.${z}-layout`}));return(a,e)=>{const o=V,y=j;return w(),K(y,{title:"支付渠道分析",class:"basic-container",bordered:!1},{actions:p(()=>[d("a",{href:"javascript:void(0)",onClick:e[0]||(e[0]=$=>i.value=!i.value)},k(h.value),1)]),default:p(()=>[m(F,{style:{"margin-bottom":"20px"}}),d("div",O,[B(m(R,{ref:"searchFormRef",onSuccess:l},null,512),[[D,i.value]])]),m(o,{class:"basic-table",data:s.value,columns:P(N),"row-key":"id","vertical-align":"middle",hover:s.value.length>0,pagination:t.value,"header-affixed-top":_.value,"table-layout":"auto","max-height":"100%",onPageChange:v},{empty:p(()=>[]),_:1},8,["data","columns","hover","pagination","header-affixed-top"])]),_:1})}}});export{Nt as default};
