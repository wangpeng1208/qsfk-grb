import{d as ie,c8 as re,l as R,e as o,r as A,v as ce,o as n,p as _,g as e,F as de,q as ue,b as M,a as c,w as i,t as d,n as v,c as k,u as me,m as pe,M as C,c9 as _e,B as fe,ap as he}from"./index-Bl4AiOyE.js";import{q as ve}from"./order-Dtn26sDb.js";/* empty css                  */import{f as F}from"./date-Cal8LyP_.js";import{T as ge}from"./index-C23pHn_u.js";import{L as xe}from"./index-DYrnlY5q.js";import{I as be}from"./index-CLnbRl90.js";import{C as ye,R as we}from"./index-BAEoUYZ2.js";import{P as ke}from"./index-BtiChZpX.js";import{B as Ce}from"./index-tzykTWLw.js";import{F as Le,a as Se}from"./index-DZCrjQ_3.js";import{D as ze}from"./index-BKyk21AZ.js";import"./useVModel-HmF1Gebj.js";import"./common-CF_MvV9u.js";import"./useLengthLimit-zZTqNE_r.js";import"./log-ZJhmUOBa.js";import"./useReadonly-DZtTxOfz.js";import"./const-BLdXWxIl.js";import"./useResizeObserver-BUPtuDKJ.js";import"./dep-d524834c-s9Vwwbzr.js";import"./browse-CCDZKZZU.js";import"./close-circle-filled-xz65pYuL.js";import"./useListener-BsDlpW-o.js";import"./index-CCnSBKQl.js";import"./useCommonClassName-B8MbwXBA.js";import"./number-jGqlEXl8.js";import"./index-B8hTW5gB.js";import"./dep-02de0cb4-B9D_IUaB.js";import"./dep-4cc4ef27-Bxo4BcuK.js";import"./dep-96cefb8b-D_Qrr7tD.js";import"./index-BuecJDAw.js";import"./observe-CfjnoQGd.js";import"./slot-BjrDC6aI.js";import"./index-BXun50hP.js";import"./index-BACtxuGn.js";import"./useDefaultValue-DgMKt5hR.js";import"./chevron-left-BBFgH3SA.js";import"./chevron-right-BZPeNPTA.js";import"./index-BjJKviJA.js";import"./dep-eedf0c29-Hg3zrHFZ.js";import"./useVirtualScrollNew-BJRfmUbB.js";import"./dep-af55fe23-C5ZQDf4C.js";import"./dep-86139c71-_Dj3X0D4.js";import"./index-CkUJmLKO.js";import"./helper-VFi8r3PY.js";import"./dep-40320ba3-B1Ayvxeb.js";import"./dep-1858b432-B1ibg8Ju.js";import"./form-model-BN3AK5Zp.js";const Te={class:"home",style:{"background-image":"linear-gradient(90deg, #f5f5fa, #f5f5fa 50%, #fff 0)"}},Ve={class:"flex flex-col min-h-screen text-base font-sans"},Me={class:"header fixed top-0 lg:z-40 z-20 bg-white w-full font-sans-alt"},He={class:"flex max-w-1440 mx-auto"},Be={class:"header-logo flex-shrink-0 w-376 lg:block hidden"},Pe={class:"block h-54 max-w-200 -mt-8",href:"/"},qe=["src"],Ke=he('<span class="flex items-center h-24 w-24 mr-8 p-2 flex-grow-0 flex-shrink-0"><svg class="h-full" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 14"><path d="M19,8H1A1,1,0,0,1,1,6H19a1,1,0,0,1,0,2Z"></path><path d="M19,2H1A1,1,0,0,1,1,0H19a1,1,0,0,1,0,2Z"></path><path d="M19,14H1a1,1,0,0,1,0-2H19a1,1,0,0,1,0,2Z"></path></svg></span>',1),Ne=[Ke],Re=e("span",{class:"header-item hover:text-xenon-600 border-b-2 flex items-center h-full cursor-pointer transition-fast-out"}," 首页 ",-1),Ae=[Re],Fe=e("span",{class:"header-item header-item-active hover:text-xenon-600 border-b-2 flex items-center h-full cursor-pointer transition-fast-out"}," 查询订单 ",-1),Ie=[Fe],Ue=e("span",{class:"header-item hover:text-xenon-600 border-b-2 flex items-center h-full cursor-pointer transition-fast-out"}," 联系我们 ",-1),Ze=[Ue],De={class:"flex-1 mx-auto w-full max-w-1440 bg-white pt-72"},je={class:"flex h-full",style:{height:"100%",position:"relative"}},Qe={class:"fixed top-0 flex-shrink-0 bg-x-gradient-grey-200-grey-400-80 leading-tight lg:w-376 lg:flex lg:flex-col z-30 h-screen w-full hidden","data-target":"app.sidebar"},$e=e("div",{class:"lg:block h-72 flex-grow-0 flex-shrink-0 hidden"},null,-1),Ee={class:"flex-grow w-inherit overflow-y-auto h-full"},Ge={class:"h-full"},Je={class:"px-40 pt-48 pb-24"},Oe=e("button",{class:"block mb-32 text-xs font-semibold leading-none uppercase tracking-wide text-grey-700-opacity-60 focus:outline-none"},[e("span",null," 商品栏目 ")],-1),We=["onClick"],Xe={class:"flex items-center hover:text-xenon-600 transition-fast-out"},Ye={class:"flex items-center"},et={class:"px-40"},tt={class:"items-center -mx-16 py-16 border-grey-400-opacity-60 border-solid border-t"},st={class:"block mx-16 py-8 text-sm text-grey-700 hover:text-grey-800 transition-fast-out"},ot=["innerHTML"],lt=e("span",{class:"flex items-center h-16 w-16 mr-16 flex-grow-0 flex-shrink-0"},[e("svg",{class:"block h-full",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},[e("path",{d:"M8.41,7l5.3-5.29A1,1,0,1,0,12.29.29L7,5.59,1.71.29A1,1,0,0,0,.29,1.71L5.59,7,.29,12.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L7,8.41l5.29,5.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Z"})])],-1),at=e("span",{class:"block flex-grow-0 flex-shrink-0 mt-2 font-sans-alt text-base leading-none"}," 关闭 ",-1),nt=[lt,at],it={class:"w-full lg:ml-376 overflow-x-hidden goods-con"},rt={class:"p-24 md:px-56 md:pt-48 md:pb-24"},ct=e("div",{class:"mb-4 flex justify-between items-start"},[e("div",{class:"text-xs leading-tight"},[e("div",{class:"font-sans-alt font-semibold tracking-wide"},"首页 / 查询订单")])],-1),dt={class:""},ut={class:"bg-white p-4"},mt={class:"flex items center p-4"},pt={class:"flex-1"},_t={class:"flex items center p-4"},ft={key:0},ht={class:"bg-white"},vt={class:"p-4"},gt=e("h2",{class:"text-xl font-bold text-gray-800"},"查询结果",-1),xt={class:"text-gray-700 mt-4"},bt={class:"order"},yt={key:0,class:"container"},wt=e("div",{class:"no-order"},[e("p",null,"没有查询到订单信息")],-1),kt=e("div",{class:"no-order"},[e("p",null,"订单未支付")],-1),Ct={class:"order-list"},Lt={class:"h",style:{display:"flex","justify-content":"space-between","align-items":"center"}},St=e("dt",null,"下单时间",-1),zt=e("dt",null,"付款方式",-1),Tt=e("dt",null,"支付金额",-1),Vt=e("dt",null,"已发卡密",-1),Mt=e("dt",null,"商品名称",-1),Ht={style:{"max-width":"303px"}},Bt={style:{"text-align":"center",padding:"20px",margin:"20px"}},Pt=["innerHTML"],qt={class:"remark"},Kt=["innerHTML"],Nt={key:1,class:"container"},Ps=ie({__name:"order",setup(Rt){const L=re(),I=R(()=>L.config.site_logo),U=R(()=>L.config.site_info_copyright),f=pe(),Z=[{label:"未支付",value:0,theme:"warning"},{label:"已支付",value:1,theme:"success"},{label:"已关闭",value:2,theme:"danger"},{label:"已退款",value:3,theme:"warning"}],D=[{title:"订单号",colKey:"trade_no"},{title:"下单时间",colKey:"create_at",cell:(s,t)=>s("span",F(t.row.create_at))},{title:"支付金额",colKey:"total_price"},{title:"数量",colKey:"quantity"},{title:"订单状态",colKey:"status",cell:(s,t)=>{const r=Z.find(w=>w.value===t.row.status);return s(ge,{theme:r.theme,variant:"light"},()=>r==null?void 0:r.label)}},{title:"商品名称",colKey:"goods_name"},{title:"操作",cell:(s,t)=>s(xe,{theme:"primary",size:"small",onClick:()=>{m.value=t.row.trade_no,y(1)}},()=>"查看订单")}],{orderId:H}=f.currentRoute.value.query,m=o("");H&&(m.value=H);const B=o(""),P=o(""),u=o({trade_no:"",create_at:1,total_price:"",quantity:"",status:0}),S=o(!1),g=o(!1),p=o(""),x=o(!1),b=o("list"),a=o({defaultPageSize:10,total:0,defaultCurrent:1}),q=o([]),K=o(""),z=o({name:"",remark:""}),y=async s=>{if(!m.value.length){C.error("请输入订单号！");return}s===1&&(p.value=""),x.value=!1,S.value=!0;try{let t;const r={limit:a.value.defaultPageSize,page:a.value.defaultCurrent};if(t=await ve({orderid:m.value,pwd:p.value,...r}),S.value=!1,t.code===1001){g.value=!0;return}if(t.code===0){C.error(t.msg);return}x.value=!0,t.data.pageType==="list"?(b.value="list",q.value=t.data.list,a.value.total=t.data.total):(b.value="detail",u.value=t.data.order,B.value=t.data.outCards,P.value=B.value.replace(/\n/g,"<br />"),K.value=t.data.paytype,z.value=t.data.goods,g.value=!1,p.value=""),h.content="查询",h.loading=!1}catch{S.value=!1,C.error("查询出错")}},h=A({content:"查询",loading:!1}),j=()=>{p.value?(h.content="查询中...",h.loading=!0,y(2)):C.error("请输入查询密码")},T=o([]),Q=o([]),$=async()=>{const s=await _e();s.code===1&&(Q.value=s.data.list,T.value=s.data.list,T.value.unshift({id:0,name:"全部"}))},E=s=>{L.setCurrentCate(s),f.push({name:"index",params:{id:s}})},G=()=>{f.push({name:"index"})},J=()=>{f.push({name:"order"})},O=()=>{f.push({name:"about"})};ce(()=>{$()});const N=o(!1),W=()=>{N.value=!0;const s=document.querySelector('[data-target="app.sidebar"]');s.classList.toggle("flex"),s.classList.toggle("flex-col"),s.classList.remove("hidden")},X=()=>{N.value=!1;const s=document.querySelector('[data-target="app.sidebar"]');s.classList.toggle("hidden"),s.classList.remove("flex"),s.classList.remove("flex-col")};A({contact:"2410110533047c500d3e"}),o(!1);const Y=o(!1),ee=o("");return(s,t)=>{const r=be,w=fe,V=ye,te=we,se=ke,oe=Ce,le=Le,ae=Se,ne=ze;return n(),_("div",Te,[e("div",Ve,[e("header",Me,[e("div",He,[e("div",Be,[e("a",Pe,[e("img",{src:I.value,class:"h-full w-full fill-current"},null,8,qe)])]),e("nav",{class:"header-nav z-30 flex flex-grow items-center bg-white px-16 whitespace-no-wrap lg:h-auto h-72 min-w-0"},[e("div",{class:"flex lg:hidden"},[e("div",{class:"h-24 w-24 mr-24 ml-8 md:ml-40"},[e("button",{class:"flex items-center mr-32 text-grey-1000 hover:text-grey-1000 fill-current focus:outline-none focus:shadow-outline",onClick:W},Ne)])]),e("ul",{class:"h-full mx-24 uppercase leading-tight text-sm font-semibold tracking-wide flex"},[e("li",{class:"flex items-center h-full mx-16",onClick:G},Ae),e("li",{class:"flex items-center h-full mx-16",onClick:J},Ie),e("li",{class:"flex items-center h-full mx-16",onClick:O},Ze)])])])]),e("div",De,[e("div",je,[e("aside",Qe,[$e,e("div",Ee,[e("div",Ge,[e("div",Je,[Oe,e("ul",null,[(n(!0),_(de,null,ue(T.value,l=>(n(),_("li",{class:"mt-24 cursor-pointer",onClick:At=>E(l.id)},[e("a",Xe,[e("span",Ye,d(l.name),1)])],8,We))),256))])])])]),e("div",et,[e("div",tt,[e("div",st,[e("p",{innerHTML:U.value},null,8,ot),M(" 骑士发卡（个人版）qqss.net ")])])]),e("button",{class:"flex lg:hidden absolute items-center top-0 right-0 mt-48 mr-40 text-grey-700-opacity-90 hover:text-grey-700 fill-current transition-fast-out focus:outline-none focus:shadow-outline",onClick:X},nt)]),e("div",it,[e("div",rt,[ct,e("div",dt,[e("div",ut,[e("div",mt,[e("div",pt,[c(r,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=l=>m.value=l),placeholder:"请输入订单号或联系方式",size:"large"},null,8,["modelValue"])]),c(w,{size:"large",class:"bg-blue-500 text-white px-40 py-2 ml-2",onClick:t[1]||(t[1]=l=>y(1))},{default:i(()=>[M(d(h.content),1)]),_:1})]),e("div",_t,[Y.value?(n(),_("div",ft,"支付成功！！ 订单号为："+d(ee.value),1)):v("",!0)])])]),e("div",ht,[e("div",vt,[gt,e("div",xt,[e("div",bt,[x.value&&b.value==="detail"?(n(),_("div",yt,[c(te,null,{default:i(()=>[u.value?v("",!0):(n(),k(V,{key:0,class:"col-lg-12"},{default:i(()=>[wt]),_:1})),u.value.status==0?(n(),k(V,{key:1,class:"col-lg-12"},{default:i(()=>[kt]),_:1})):(n(),k(V,{key:2,span:12},{default:i(()=>[e("div",Ct,[c(w,null,{default:i(()=>[M("订单号："+d(u.value.trade_no),1)]),_:1}),e("div",Lt,[e("dl",null,[St,e("dd",null,d(me(F)(u.value.create_at)),1)]),e("dl",null,[zt,e("dd",null,d(K.value),1)]),e("dl",null,[Tt,e("dd",null,d(u.value.total_price)+"元",1)]),e("dl",null,[Vt,e("dd",null,"发放卡密"+d(u.value.quantity)+"张",1)]),e("dl",null,[Mt,e("dd",Ht,d(z.value.name),1)])]),e("div",Bt,[e("div",{id:"copyText",innerHTML:P.value},null,8,Pt),e("div",qt,[e("div",{innerHTML:z.value.remark},null,8,Kt)])])])]),_:1}))]),_:1})])):v("",!0),x.value&&b.value==="list"?(n(),_("div",Nt,[c(oe,{class:"basic-table",ref:"tableRef","row-key":"id",data:q.value,columns:D,hover:!0,"lazy-load":"","max-height":"100%","table-layout":"auto"},{bottomContent:i(()=>[a.value.total>a.value.defaultPageSize?(n(),k(se,{key:0,modelValue:a.value.defaultCurrent,"onUpdate:modelValue":t[2]||(t[2]=l=>a.value.defaultCurrent=l),pageSize:a.value.defaultPageSize,"onUpdate:pageSize":t[3]||(t[3]=l=>a.value.defaultPageSize=l),total:a.value.total,"show-page-size":!1,"total-content":!1,style:{"margin-top":"10px"},onCurrentChange:y},null,8,["modelValue","pageSize","total"])):v("",!0)]),_:1},8,["data"])])):v("",!0)])]),c(ne,{visible:g.value,"onUpdate:visible":t[5]||(t[5]=l=>g.value=l),"close-on-overlay-click":!1,header:"提示",mode:"modal",draggable:"","confirm-btn":"确定","on-confirm":j},{body:i(()=>[c(ae,{ref:"form","label-align":"top"},{default:i(()=>[c(le,{label:"",name:"name"},{default:i(()=>[c(r,{modelValue:p.value,"onUpdate:modelValue":t[4]||(t[4]=l=>p.value=l),placeholder:"请输入查询密码",style:{width:"500px"}},null,8,["modelValue"])]),_:1})]),_:1},512)]),_:1},8,["visible"])])])])])])])])])}}});export{Ps as default};
