import{d as ce,C as Y,l as Q,_ as z,a as J,a9 as te,e as x,a5 as re,a8 as ue,a2 as Se,Q as oe,Z as se,L as ve,v as Ce,aT as Je,N as Pe,$ as Ye,r as Oe,G as Ge,E as qe,W as Qe,U as _e,ba as ie,T as Ze,ad as Ee,aB as en,as as nn}from"./index-Bl4AiOyE.js";import{P as tn}from"./index-BACtxuGn.js";import{_ as De}from"./useLengthLimit-zZTqNE_r.js";import{p as an}from"./dep-02de0cb4-B9D_IUaB.js";import{I as we}from"./index-CLnbRl90.js";import{u as de}from"./useDefaultValue-DgMKt5hR.js";import{T as fe}from"./index-C23pHn_u.js";import{u as ln}from"./useVModel-HmF1Gebj.js";import{u as Le}from"./useReadonly-DZtTxOfz.js";import{c as rn}from"./close-circle-filled-xz65pYuL.js";/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */var xn=ce({name:"TFakeArrow",props:{isActive:{type:Boolean},overlayClassName:{type:[String,Object,Array]},overlayStyle:{type:Object||String}},setup:function(n){var a=Y("fake-arrow"),t=Q(function(){return[a.value,z({},"".concat(a.value,"--active"),n.isActive),n.overlayClassName]});return{classes:t}},render:function(){return J("svg",{class:this.classes,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:this.overlayStyle},[J("path",{d:"M3.75 5.7998L7.99274 10.0425L12.2361 5.79921",stroke:"black","stroke-opacity":"0.9","stroke-width":"1.3"},null)])}});/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */var on={allowInput:Boolean,autoWidth:Boolean,autofocus:Boolean,borderless:Boolean,clearable:Boolean,collapsedItems:{type:Function},disabled:{type:Boolean,default:void 0},inputProps:{type:Object},inputValue:{type:[String,Number],default:void 0},defaultInputValue:{type:[String,Number]},keys:{type:Object},label:{type:[String,Function]},loading:Boolean,minCollapsedNum:{type:Number,default:0},multiple:Boolean,panel:{type:[String,Function]},placeholder:{type:String,default:""},popupProps:{type:Object},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:Boolean,prefixIcon:{type:Function},readonly:Boolean,reserveKeyword:Boolean,size:{type:String,default:"medium",validator:function(n){return n?["small","medium","large"].includes(n):!0}},status:{type:String,default:"default",validator:function(n){return n?["default","success","warning","error"].includes(n):!0}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tag:{type:[String,Function]},tagInputProps:{type:Object},tagProps:{type:Object},tips:{type:[String,Function]},value:{type:[String,Number,Boolean,Object,Array,Date],default:void 0},valueDisplay:{type:[String,Function]},onBlur:Function,onClear:Function,onEnter:Function,onFocus:Function,onInputChange:Function,onMouseenter:Function,onMouseleave:Function,onPaste:Function,onPopupVisibleChange:Function,onTagChange:Function};/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */var un=["tips"];function pe(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),a.push.apply(a,t)}return a}function X(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?pe(Object(a),!0).forEach(function(t){z(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pe(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var sn=["status","clearable","disabled","label","placeholder","readonly","prefixIcon","suffix","suffixIcon","onPaste","onMouseenter","onMouseleave","size","autofocus"],cn={label:"label",value:"value",children:"children"};function vn(e,n){var a=X(X({},cn),n);return se(e)?e[a.label]:e}function dn(e,n,a){var t,u=te(e),m=u.value,h=u.keys,s=u.inputValue,b=Y(),y=x(e.autofocus),C=x(),f=de(s,(t=e.defaultInputValue)!==null&&t!==void 0?t:"",e.onInputChange,"inputValue"),c=re(f,2),p=c[0],r=c[1],I=ve(),S=ue(),j=Q(function(){return X(X({},an(e,sn)),{},{disabled:S.value})}),B=function(o){var l,i;o==null||(l=o.e)===null||l===void 0||l.stopPropagation(),(i=e.onClear)===null||i===void 0||i.call(e,o),r("",{trigger:"clear"})},k=function(o,l){e.allowInput&&r(o,X(X({},l),{},{trigger:l.trigger||"input"}))},T=function(o){var l,i=I("valueDisplay"),d=o&&e.allowInput?p.value:vn(m.value,h.value),_=L(i,o),P=X(X({},j.value),{},{value:v(i,d,o),label:_.length?function(){return _}:void 0,autoWidth:e.autoWidth,readonly:!e.allowInput||e.readonly,placeholder:O(i),suffixIcon:!S.value&&e.loading?function(){return J(Se,{loading:!0,size:"small"},null)}:e.suffixIcon,showClearIconOnEmpty:!!(e.clearable&&(p.value||d)&&!S.value&&!e.readonly)},e.inputProps),E=n.slots;E.tips;var K=De(E,un),H=o?["".concat(b.value,"-input--focused"),"".concat(b.value,"-is-focused"),P==null?void 0:P.inputClass]:P==null?void 0:P.inputClass,U=function(A,M){var W;(W=e.onEnter)===null||W===void 0||W.call(e,m.value,X(X({},M),{},{inputValue:A}))},$=function(A,M){var W,Z,ee=(W=a.value)===null||W===void 0?void 0:W.getOverlayState();y.value||ee!=null&&ee.hover||(y.value=!0,(Z=e.onFocus)===null||Z===void 0||Z.call(e,m.value,X(X({},M),{},{inputValue:A})))},R=function(A,M){var W,Z,ee=(W=a.value)===null||W===void 0?void 0:W.getOverlayState();ee!=null&&ee.hover||(y.value=!1,(Z=e.onBlur)===null||Z===void 0||Z.call(e,m.value,X(X({},M),{},{inputValue:A})))};return J(we,oe({ref:C,style:(l=n.attrs)===null||l===void 0?void 0:l.style},X({onChange:k,onClear:B,onEnter:U,onFocus:$,onBlur:R},P),{inputClass:H}),K)},L=function(o,l){var i=I("label");if(!i&&!o)return[];if(o){var d,_;if((d=e.valueDisplayOptions)!==null&&d!==void 0&&d.usePlaceholder&&!m.value||(_=e.valueDisplayOptions)!==null&&_!==void 0&&_.useInputDisplay&&l)return[i]}return[i,o]},v=function(o,l,i){if(o){var d,_;if(!((d=e.valueDisplayOptions)!==null&&d!==void 0&&d.useInputDisplay)||(_=e.valueDisplayOptions)!==null&&_!==void 0&&_.useInputDisplay&&!i)return}return l},O=function(o){if(o){var l,i;if(!((l=e.valueDisplayOptions)!==null&&l!==void 0&&l.usePlaceholder)||(i=e.valueDisplayOptions)!==null&&i!==void 0&&i.usePlaceholder&&m.value)return""}return e.placeholder};return{inputRef:C,isSingleFocus:y,commonInputProps:j,singleInputValue:p,onInnerClear:B,renderSelectSingle:T}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */var fn={autoWidth:Boolean,borderless:Boolean,clearable:Boolean,collapsedItems:{type:Function},disabled:{type:Boolean,default:void 0},dragSort:Boolean,excessTagsDisplayType:{type:String,default:"break-line",validator:function(n){return n?["scroll","break-line"].includes(n):!0}},inputProps:{type:Object},inputValue:{type:[String,Number],default:void 0},defaultInputValue:{type:[String,Number],default:""},label:{type:[String,Function]},max:{type:Number},minCollapsedNum:{type:Number,default:0},placeholder:{type:String,default:void 0},prefixIcon:{type:Function},readonly:{type:Boolean,default:void 0},size:{type:String,default:"medium",validator:function(n){return n?["small","medium","large"].includes(n):!0}},status:{type:String,validator:function(n){return n?["default","success","warning","error"].includes(n):!0}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tag:{type:[String,Function]},tagProps:{type:Object},tips:{type:[String,Function]},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},valueDisplay:{type:[String,Function]},onBlur:Function,onChange:Function,onClear:Function,onClick:Function,onDragSort:Function,onEnter:Function,onFocus:Function,onInputChange:Function,onMouseenter:Function,onMouseleave:Function,onPaste:Function,onRemove:Function};/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function pn(e){var n=x(),a=te(e),t=a.excessTagsDisplayType,u=a.readonly,m=a.disabled,h=x(0),s=x(),b=x(),y=x(!1),C=function(L){var v=L.children[0];s.value=v},f=function(){h.value=s.value.scrollWidth-s.value.clientWidth},c=function(L){var v;Pe((v=s.value)===null||v===void 0?void 0:v.scroll)&&s.value.scroll({left:L,behavior:"smooth"})},p=function(){f(),c(h.value),setTimeout(function(){y.value=!0},200)},r=function(){c(0)},I=function(L){var v=L.e;if(!(u.value||m.value)&&s.value)if(v.deltaX>0){var O=Math.min(s.value.scrollLeft+120,h.value);c(O)}else{var g=Math.max(s.value.scrollLeft-120,0);c(g)}},S=function(){t.value==="scroll"&&(b.value=setTimeout(function(){p(),clearTimeout(b.value)},100))},j=function(){t.value==="scroll"&&(y.value=!1,c(0),clearTimeout(b.value))},B=function(){var L,v=(L=n.value)===null||L===void 0?void 0:L.$el;v&&C(v)},k=function(){clearTimeout(b.value)};return Ce(B),Je(k),{tagInputRef:n,scrollElement:s,scrollDistance:h,scrollTo:c,scrollToRight:p,scrollToLeft:r,updateScrollElement:C,updateScrollDistance:f,onWheel:I,scrollToRightOnEnter:S,scrollToLeftOnLeave:j,isScrollable:y}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function ge(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),a.push.apply(a,t)}return a}function le(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?ge(Object(a),!0).forEach(function(t){z(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ge(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function gn(e){var n=ve(),a=Y(),t=te(e),u=t.value,m=t.modelValue,h=t.onRemove,s=t.max,b=t.minCollapsedNum,y=t.size,C=t.tagProps,f=t.getDragProps,c=ln(u,m,e.defaultValue||[],e.onChange),p=re(c,2),r=p[0],I=p[1],S=x(),j=ue(),B=Le(),k=function(l){var i,d=Ye(r.value),_=d.splice(l.index,1),P=re(_,1),E=P[0];I(d,le(le({trigger:"tag-remove"},l),{},{item:E})),(i=h.value)===null||i===void 0||i.call(h,le(le({},l),{},{item:E,trigger:"tag-remove",value:d}))},T=function(l){I([],{trigger:"clear",e:l.e})},L=function(l,i){var d,_,P=l?String(l).trim():"",E=s&&((d=r.value)===null||d===void 0?void 0:d.length)>=s.value,K=r.value;!E&&P&&(K=r.value instanceof Array?r.value.concat(String(P)):[P],I(K,{trigger:"enter",index:K.length-1,item:P,e:i.e})),e==null||(_=e.onEnter)===null||_===void 0||_.call(e,K,le(le({},i),{},{inputValue:l}))},v=function(l){!r.value||!r.value.length||(S.value=l)},O=function(l,i){var d=i.e;if(!(!r.value||!r.value.length||d.key==="Process")){var _=/(Backspace|NumpadDelete)/i.test(d.code)||/(Backspace|NumpadDelete)/i.test(d.key);if(!l&&_){var P,E=r.value.length-1,K=r.value[E],H="backspace",U=r.value.slice(0,-1);I(U,{e:d,index:E,item:K,trigger:H}),(P=h.value)===null||P===void 0||P.call(h,{e:d,index:E,item:K,trigger:H,value:U})}S.value=l}},g=function(l){var i,d=l.displayNode,_=l.label,P=b.value?r.value.slice(0,b.value):r.value,E=d?[d]:(P==null||(i=P.map)===null||i===void 0?void 0:i.call(P,function(U,$){var R,N=n("tag",{params:{value:U}});return J(fe,oe({key:"".concat(U).concat($),size:y.value,disabled:j.value,onClose:function(M){return k({e:M.e,index:$})},closable:!B.value&&!j.value},(R=f.value)===null||R===void 0?void 0:R.call(f,$,U),C.value),{default:function(){return[N??U]}})}))||[];if([null,void 0,""].includes(_)||E.unshift(J("div",{class:"".concat(a.value,"-tag-input__prefix"),key:"label"},[_])),P.length!==(r.value||[]).length){var K=r.value.length-P.length,H=n("collapsedItems",{params:{value:r.value,count:r.value.length-b.value,collapsedTags:r.value.slice(b.value,r.value.length),collapsedSelectedItems:r.value.slice(b.value,r.value.length),onClose:k}});E.push(H??J(fe,oe({key:"more",size:y.value},C.value),{default:function(){return["+",K]}}))}return E};return{tagValue:r,clearAll:T,onClose:k,onInnerEnter:L,onInputBackspaceKeyUp:v,onInputBackspaceKeyDown:O,renderLabel:g}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function yn(e){var n=e.disabled,a=e.readonly,t=e.onMouseenter,u=e.onMouseleave,m=x(!1),h=function(y){a||n||(m.value=!0,t==null||t(y))},s=function(y){a||n||(m.value=!1,u==null||u(y))};return{isHover:m,addHover:h,cancelHover:s}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function hn(e){var n=e.sortOnDraggable,a=e.onDragSort,t=e.onDragOverCheck,u=x(-1),m=x(null),h=x(null),s=Oe({nodeX:0,nodeWidth:0,mouseX:0}),b=function(r,I,S){if(r.preventDefault(),!(u.value===I||u.value===-1)){var j=r.target;if(!(t!=null&&t.targetClassNameRegExp&&!(t!=null&&t.targetClassNameRegExp.test(j.className)))){if(t!=null&&t.x&&j){if(!s.nodeWidth)return;var B=j.getBoundingClientRect(),k=B.x,T=B.width,L=k+T/2,v=r.clientX-(s.mouseX-s.nodeX),O=v+s.nodeWidth,g=!1;if(v>k&&v<k+T?g=v<L:g=O>L,!g)return}a==null||a({currentIndex:u.value,current:m,target:S,targetIndex:I}),u.value=I}}};if(!n)return{};function y(p,r,I){u.value=r,m.value=I;var S=p.target;if(t&&S){var j=S.getBoundingClientRect(),B=j.x,k=j.width;s.nodeX=B,s.nodeWidth=k,s.mouseX=p.clientX}}function C(){h.value=!0}function f(){h.value,h.value=!1,u.value=-1,m.value=null}function c(p,r){return n?{draggable:!0,onDragstart:function(S){y(S,p,r)},onDragover:function(S){b(S,p,r)},onDrop:function(){C()},onDragend:function(){f()}}:{}}return{onDragStart:y,onDragOver:b,onDrop:C,onDragEnd:f,getDragProps:c,dragging:u.value!==-1}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function ye(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),a.push.apply(a,t)}return a}function ae(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?ye(Object(a),!0).forEach(function(t){z(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ye(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var bn=function(){return{NAME_CLASS:Y("tag-input"),CLEAR_CLASS:Y("tag-input__suffix-clear"),BREAK_LINE_CLASS:Y("tag-input--break-line")}},In=ce({name:"TTagInput",props:ae({},fn),setup:function(n){var a=bn(),t=a.NAME_CLASS,u=a.CLEAR_CLASS,m=a.BREAK_LINE_CLASS,h=Ge({CloseCircleFilledIcon:rn}),s=h.CloseCircleFilledIcon,b=ue(),y=Le(),C=te(n),f=C.inputValue,c=C.inputProps,p=de(f,n.defaultInputValue,n.onInputChange,"inputValue"),r=re(p,2),I=r[0],S=r[1],j=te(n),B=j.excessTagsDisplayType,k=j.clearable,T=j.placeholder,L=yn({readonly:y.value,disabled:b.value,onMouseenter:n.onMouseenter,onMouseleave:n.onMouseleave}),v=L.isHover,O=L.addHover,g=L.cancelHover,o=x(!1),l=qe(),i=l.classPrefix,d=x(!1),_=hn(ae(ae({},n),{},{sortOnDraggable:n.dragSort,onDragOverCheck:{x:!0,targetClassNameRegExp:new RegExp("^".concat(i.value,"-tag"))}})),P=_.getDragProps,E=pn(n),K=E.scrollToRight,H=E.onWheel,U=E.scrollToRightOnEnter,$=E.scrollToLeftOnLeave,R=E.tagInputRef,N=E.isScrollable,A=gn(Oe(ae(ae({},te(n)),{},{getDragProps:P}))),M=A.tagValue,W=A.onInnerEnter,Z=A.onInputBackspaceKeyUp,ee=A.onInputBackspaceKeyDown,Ve=A.clearAll,Te=A.renderLabel,je=A.onClose,Fe=Q(function(){var V=!(Qe(M.value)&&M.value.length);return[t.value,z(z(z({},m.value,B.value==="break-line"),"".concat(i.value,"-is-empty"),V),"".concat(i.value,"-tag-input--with-tag"),!V)]}),Ae=Q(function(){var V;return(V=M.value)!==null&&V!==void 0&&V.length?"":T.value}),Be=Q(function(){var V;return!!(!y.value&&!b.value&&k.value&&v.value&&(!((V=M.value)===null||V===void 0)&&V.length||I.value))}),ke=function(D,w){var F,G;(F=w.e)===null||F===void 0||(G=F.preventDefault)===null||G===void 0||G.call(F),S("",{e:w.e,trigger:"enter"}),!o.value&&W(D,w),Ze(function(){K(),o.value=!1})},Re=function(D,w){var F,G;o.value=!0,(F=c.value)===null||F===void 0||(G=F.onCompositionstart)===null||G===void 0||G.call(F,D,w)},Me=function(D,w){var F,G;o.value=!1,(F=c.value)===null||F===void 0||(G=F.onCompositionend)===null||G===void 0||G.call(F,D,w)},xe=function(D){var w;b.value||(d.value=!0,R.value.focus(),(w=n.onClick)===null||w===void 0||w.call(n,D))},Ne=function(D){var w;Ve(D),S("",{e:D.e,trigger:"clear"}),(w=n.onClear)===null||w===void 0||w.call(n,D)},$e=function(){R.value.focus()},We=function(){R.value.blur()},Ke=function(D){O(D),U()},He=function(D){g(D),$()},Ue=function(D,w){var F;d.value||(d.value=!0,(F=n.onFocus)===null||F===void 0||F.call(n,M.value,{e:w.e,inputValue:D}))},Xe=function(D,w){var F;d.value=!1,S("",{e:w.e,trigger:"blur"}),(F=n.onBlur)===null||F===void 0||F.call(n,M.value,{e:w.e,inputValue:D})},ze=function(D,w){S(D,ae(ae({},w),{},{trigger:"input"}))};return _e(function(){return N.value},function(V){if(n.excessTagsDisplayType==="scroll"){var D="".concat(i.value,"-input__prefix"),w=R.value.$el.querySelector(".".concat(D));V?w.classList.add("".concat(D,"--scrollable")):w.classList.remove("".concat(D,"--scrollable"))}}),{CLEAR_CLASS:u,CloseCircleFilledIcon:s,tagValue:M,tInputValue:I,isHover:v,tagInputPlaceholder:Ae,showClearIcon:Be,tagInputRef:R,classPrefix:i,isFocused:d,focus:$e,blur:We,setTInputValue:S,onMouseEnter:Ke,onMouseLeave:He,onInnerFocus:Ue,onInnerBlur:Xe,onInnerChange:ze,addHover:O,cancelHover:g,onInputEnter:ke,onInnerEnter:W,onInputBackspaceKeyUp:Z,onInputBackspaceKeyDown:ee,renderLabel:Te,onWheel:H,scrollToRightOnEnter:U,scrollToLeftOnLeave:$,onClick:xe,onClearClick:Ne,onClose:je,onInputCompositionstart:Re,onInputCompositionend:Me,classes:Fe,isDisabled:b,isReadonly:y}},render:function(){var n=this,a,t=this.CloseCircleFilledIcon,u=this.showClearIcon?J(t,{class:this.CLEAR_CLASS,onClick:this.onClearClick},null):ie(this,"suffixIcon"),m=ie(this,"prefixIcon"),h="".concat(this.classPrefix,"-tag-input__with-suffix-icon");u&&!this.classes.includes(h)&&this.classes.push(h);var s=ie(this,"valueDisplay",{params:{value:this.tagValue,onClose:function(c){return n.onClose({index:c})}}}),b=ie(this,"label",{silent:!0}),y=this.inputProps,C=this.isReadonly||(y==null?void 0:y.readonly);return J(we,oe({ref:"tagInputRef",borderless:this.borderless,readonly:C,showInput:!C||!this.tagValue||!((a=this.tagValue)!==null&&a!==void 0&&a.length),value:this.tInputValue,autoWidth:!0,size:this.size,disabled:this.isDisabled,label:function(){return n.renderLabel({displayNode:s,label:b})},class:this.classes,tips:this.tips,status:this.status,placeholder:this.tagInputPlaceholder,suffix:this.suffix,suffixIcon:function(){return u},prefixIcon:function(){return m},keepWrapperWidth:!this.autoWidth,onWheel:this.onWheel,onChange:this.onInnerChange,onPaste:this.onPaste,onEnter:this.onInputEnter,onKeyup:this.onInputBackspaceKeyUp,onKeydown:this.onInputBackspaceKeyDown,onMouseenter:this.onMouseEnter,onMouseleave:this.onMouseLeave,onFocus:this.onInnerFocus,onBlur:this.onInnerBlur,onClick:this.onClick,onCompositionstart:this.onInputCompositionstart,onCompositionend:this.onInputCompositionend},this.inputProps),{suffix:this.$slots.suffix})}});/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */var mn=Ee(In);/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */var Sn=["tips"];function he(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),a.push.apply(a,t)}return a}function q(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?he(Object(a),!0).forEach(function(t){z(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Cn={label:"label",key:"key",children:"children"};function Pn(e,n,a){var t=te(e),u=t.inputValue,m=Y(),h=x(),s=x(e.autofocus),b=de(u,e.defaultInputValue,e.onInputChange,"inputValue"),y=re(b,2),C=y[0],f=y[1],c=ue(),p=Q(function(){return q(q({},Cn),e.keys)}),r=Q(function(){return e.value instanceof Array?e.value.map(function(v){return se(v)?v[p.value.label]:v}):se(e.value)?[e.value[p.value.label]]:[e.value]}),I=Q(function(){return!r.value||!r.value.length?e.placeholder:""}),S=function(O,g){var o;if(g.trigger==="tag-remove"){var l;(l=g.e)===null||l===void 0||l.stopPropagation()}(o=e.onTagChange)===null||o===void 0||o.call(e,O,g)},j=function(O,g){g.trigger==="enter"||g.trigger==="blur"||f(O,{trigger:g.trigger,e:g.e})},B=function(O,g){var o,l,i=(o=a.value)===null||o===void 0?void 0:o.getOverlayState();i!=null&&i.hover||(s.value=!1,(l=e.onBlur)===null||l===void 0||l.call(e,e.value,q(q({},g),{},{tagInputValue:O})))},k=function(O,g){var o,l,i=(o=a.value)===null||o===void 0?void 0:o.getOverlayState();if(!(s.value||i!=null&&i.hover)){s.value=!0;var d=q(q({},g),{},{tagInputValue:O});(l=e.onFocus)===null||l===void 0||l.call(e,e.value,d)}},T=function(O,g){var o,l=q(q({},g),{},{tagInputValue:O});(o=e.onEnter)===null||o===void 0||o.call(e,e.value,l)},L=function(O){var g=q(q({},O.commonInputProps),{},{tagProps:e.tagProps,label:e.label,autoWidth:e.autoWidth,readonly:e.readonly,placeholder:I.value,minCollapsedNum:e.minCollapsedNum,collapsedItems:e.collapsedItems,tag:e.tag,value:r.value,valueDisplay:e.valueDisplay,inputValue:O.popupVisible&&O.allowInput?C.value:"",inputProps:q({readonly:!e.allowInput||e.readonly,inputClass:z({},"".concat(m.value,"-input--focused"),O.popupVisible)},e.inputProps),suffixIcon:!c.value&&e.loading?function(){return J(Se,{loading:!0,size:"small"},null)}:e.suffixIcon},e.tagInputProps),o=n.slots;o.tips;var l=De(o,Sn);return J(mn,oe({ref:h},g,{onInputChange:j,onChange:S,onClear:O.onInnerClear,onBlur:B,onEnter:T,onFocus:k}),l)};return{tags:r,tPlaceholder:I,tagInputRef:h,isMultipleFocus:s,multipleInputValue:C,renderSelectMultiple:L}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function be(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),a.push.apply(a,t)}return a}function Ie(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?be(Object(a),!0).forEach(function(t){z(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var On=1e3,_n=0;function En(e){var n=te(e),a=n.popupProps,t=n.autoWidth,u=x(!1),m=ue(),h=function(f,c){var p=c.scrollHeight>c.offsetHeight?_n:0,r=c.offsetWidth+p>=f.offsetWidth?c.offsetWidth:f.offsetWidth,I={};return a.value&&en(a.value.overlayInnerStyle)==="object"&&!a.value.overlayInnerStyle.width&&(I=a.value.overlayInnerStyle),Ie({width:"".concat(Math.min(r,On),"px")},I)},s=function(f,c){if(!(m.value||e.readonly)){var p=c.trigger==="trigger-element-click"&&e.allowInput?!0:f;if(e.popupVisible!==p){var r;u.value=p,(r=e.onPopupVisibleChange)===null||r===void 0||r.call(e,p,c)}}},b=function(f,c){var p;return Ie({width:"".concat(Math.max(f.offsetWidth,c.offsetWidth),"px")},(p=a.value)===null||p===void 0?void 0:p.overlayInnerStyle)},y=Q(function(){var C,f={},c=((C=a.value)===null||C===void 0?void 0:C.overlayInnerStyle)||{};return Pe(c)||se(c)&&c.width?f=c:t.value?f=b:f=h,f});return{tOverlayInnerStyle:y,innerPopupVisible:u,onInnerPopupVisibleChange:s}}/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */function me(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),a.push.apply(a,t)}return a}function ne(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?me(Object(a),!0).forEach(function(t){z(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):me(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Dn=function(){return{NAME_CLASS:Y("select-input"),BASE_CLASS_BORDERLESS:Y("select-input--borderless"),BASE_CLASS_MULTIPLE:Y("select-input--multiple"),BASE_CLASS_POPUP_VISIBLE:Y("select-input--popup-visible"),BASE_CLASS_EMPTY:Y("select-input--empty")}},wn=ce({name:"TSelectInput",props:ne(ne({},on),{},{valueDisplayOptions:{type:Object}}),setup:function(n,a){var t=Dn(),u=t.NAME_CLASS,m=t.BASE_CLASS_BORDERLESS,h=t.BASE_CLASS_MULTIPLE,s=t.BASE_CLASS_POPUP_VISIBLE,b=t.BASE_CLASS_EMPTY,y=Y(),C=ve(),f=x(),c=x(),p=te(n),r=p.multiple,I=p.value,S=p.popupVisible,j=p.borderless,B=En(n),k=B.tOverlayInnerStyle,T=B.innerPopupVisible,L=B.onInnerPopupVisibleChange,v=dn(n,a,c),O=v.isSingleFocus,g=v.commonInputProps,o=v.onInnerClear,l=v.renderSelectSingle,i=Pn(n,a,c),d=i.isMultipleFocus,_=i.tagInputRef,P=i.renderSelectMultiple,E=Q(function(){return n.multiple?d.value:O.value}),K=Q(function(){var $;return["".concat(u.value),z(z(z(z({},h.value,r.value),m.value,j.value),s.value,($=S.value)!==null&&$!==void 0?$:T.value),b.value,I.value instanceof Array?!I.value.length:!I.value)]}),H=function(R){var N,A=R.code||((N=R.key)===null||N===void 0?void 0:N.trim());if(/(ArrowDown|ArrowUp)/.test(A)&&!S.value){var M,W=ne(ne({},a),{},{trigger:"trigger-element-focus"});(M=n.onPopupVisibleChange)===null||M===void 0||M.call(n,!0,W)}};_e([E],function($){var R=re($,1),N=R[0];S.value||(N?f.value.addEventListener("keydown",H):f.value.removeEventListener("keydown",H))}),Ce(function(){!S.value&&E&&f.value.addEventListener("keydown",H)}),nn(function(){f.value.removeEventListener("keydown",H)});var U=function(R){var N,A;(N=R.e)===null||N===void 0||N.stopPropagation(),!(R.e.target.tabIndex>=0)&&n.multiple&&((A=_.value)===null||A===void 0||A.focus())};return{classPrefix:y,NAME_CLASS:u,innerPopupVisible:T,commonInputProps:g,tOverlayInnerStyle:k,selectInputRef:f,popupRef:c,classes:K,onInnerClear:o,renderTNodeJSX:C,renderSelectSingle:l,renderSelectMultiple:P,onOverlayClick:U,onInnerPopupVisibleChange:L}},render:function(){var n,a,t=this,u={visible:(n=this.popupVisible)!==null&&n!==void 0?n:this.innerPopupVisible},m=J(tn,oe({ref:"popupRef",trigger:((a=this.popupProps)===null||a===void 0?void 0:a.trigger)||"click",placement:"bottom-left"},u,{content:this.panel,hideEmptyPopup:!0},ne(ne({onVisibleChange:this.onInnerPopupVisibleChange,onOverlayClick:this.onOverlayClick},this.popupProps),{},{overlayInnerStyle:this.tOverlayInnerStyle})),ne({default:function(){return[t.multiple?t.renderSelectMultiple({commonInputProps:t.commonInputProps,onInnerClear:t.onInnerClear,popupVisible:u.visible,allowInput:t.allowInput}):t.renderSelectSingle(u.visible)]}},ne(ne({},this.$slots),{},{content:this.$slots.panel}))),h=this.renderTNodeJSX("tips"),s=["".concat(this.classPrefix,"-input__tips"),"".concat(this.classPrefix,"-tips"),"".concat(this.classPrefix,"-is-").concat(this.status)];return J("div",{ref:"selectInputRef",class:this.classes},[m,h&&J("div",{class:s},[h])])}});/**
 * tdesign v1.10.1
 * (c) 2024 tdesign
 * @license MIT
 */var Nn=Ee(wn);export{xn as F,Nn as S,En as u};
