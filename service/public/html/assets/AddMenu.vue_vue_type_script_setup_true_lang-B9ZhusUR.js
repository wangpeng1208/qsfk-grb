import{d as y,e as o,o as l,c as m,w as c,a as A,p as b,F as S,q as w,b as x,t as C,c2 as U,c3 as B,c4 as D}from"./index-Dys89YLq.js";import{T}from"./index-BcNem8rV.js";import{S as F}from"./index-DwGXmo2C.js";import{D as N}from"./index-9wlLuihG.js";const G=y({__name:"AddMenu",emits:["refresh"],setup(V,{expose:f,emit:_}){const i=o([]);(async()=>{const e=await U();e.code&&(i.value=e.data)})();const a=o([]),u=async()=>{const e=await B();e.code&&e.data!==void 0&&(a.value=e.data)};u();const s=o(!1),p=o("添加菜单"),v=_,g=async e=>{if(console.log(e),a.value.length>0&&a.value.some(r=>r.menu_id===e))return;(await D({menu_id:e})).code&&(u(),v("refresh"))};return f({init:()=>{s.value=!0}}),(e,n)=>{const r=T,h=F,M=N;return l(),m(M,{visible:s.value,"onUpdate:visible":n[0]||(n[0]=t=>s.value=t),"close-on-overlay-click":!1,"destroy-on-close":!0,header:p.value,footer:!1},{default:c(()=>[A(h,{align:"center","break-line":""},{default:c(()=>[(l(!0),b(S,null,w(i.value,(t,k)=>(l(),m(r,{key:k,theme:a.value.some(d=>d.id===t.id)?"default":"primary",onClick:d=>g(t.id)},{default:c(()=>[x(C(t.title),1)]),_:2},1032,["theme","onClick"]))),128))]),_:1})]),_:1},8,["visible","header"])}}});export{G as _};
