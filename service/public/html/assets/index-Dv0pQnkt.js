import{d as w,m as P,e as d,k as D,l as $,f as A,o as a,c as i,w as e,g as y,h as f,b as r,a as _,u as N,t as V,M as L,B as M}from"./index-Bl4AiOyE.js";import{c as q,_ as I,l as U,d as j}from"./edit.vue_vue_type_script_setup_true_lang-GjcPN-v8.js";import{p as E}from"./global-DaymibWd.js";import{T as F}from"./index-C23pHn_u.js";import{L as G}from"./index-DYrnlY5q.js";import{S as H}from"./index-CmSpUa39.js";import{B as J}from"./index-tzykTWLw.js";import{C as K}from"./index-DgoDdsYb.js";import"./index.vue_vue_type_script_setup_true_lang-BOgC608s.js";import"./config-hc94wOqU.js";import"./index-Dkkg6vhj.js";import"./index-CeSPek2M.js";import"./observe-CfjnoQGd.js";import"./log-ZJhmUOBa.js";import"./close-circle-filled-xz65pYuL.js";import"./useCommonClassName-B8MbwXBA.js";import"./index-DKSVjsu7.js";import"./useDefaultValue-DgMKt5hR.js";import"./useVModel-HmF1Gebj.js";import"./dep-86139c71-_Dj3X0D4.js";import"./number-jGqlEXl8.js";import"./dep-d524834c-s9Vwwbzr.js";import"./index-BKyk21AZ.js";import"./index-BjJKviJA.js";import"./index-BACtxuGn.js";import"./dep-96cefb8b-D_Qrr7tD.js";import"./useResizeObserver-BUPtuDKJ.js";import"./chevron-left-BBFgH3SA.js";import"./browse-CCDZKZZU.js";import"./delete-BdbM_d1G.js";import"./dep-1858b432-B1ibg8Ju.js";import"./index-CLnbRl90.js";import"./useLengthLimit-zZTqNE_r.js";import"./useReadonly-DZtTxOfz.js";import"./const-BLdXWxIl.js";import"./index-DZCrjQ_3.js";import"./form-model-BN3AK5Zp.js";import"./dep-4cc4ef27-Bxo4BcuK.js";import"./dep-40320ba3-B1Ayvxeb.js";import"./index-Cs4OI0Zk.js";import"./helper-VFi8r3PY.js";import"./index-CkUJmLKO.js";import"./dep-af55fe23-C5ZQDf4C.js";import"./common-CF_MvV9u.js";import"./slot-BjrDC6aI.js";import"./dep-02de0cb4-B9D_IUaB.js";import"./dep-eedf0c29-Hg3zrHFZ.js";import"./index-BuecJDAw.js";import"./index-BtiChZpX.js";import"./index-CCnSBKQl.js";import"./index-B8hTW5gB.js";import"./index-BXun50hP.js";import"./chevron-right-BZPeNPTA.js";import"./useVirtualScrollNew-BJRfmUbB.js";const O={class:"category-header c-flex"},Q={class:"l"},Yt=w({__name:"index",setup(W){const p=+P().currentRoute.value.query.id,s=d({defaultPageSize:20,total:0,defaultCurrent:1}),c=d([]),m=async()=>{const{data:t}=await U({page:s.value.defaultCurrent,limit:s.value.defaultPageSize,type:2,id:p});c.value=t.list,s.value={defaultPageSize:t.limit,total:t.total,defaultCurrent:t.page}};m();const k=t=>{s.value.defaultCurrent=t.current,s.value.defaultPageSize=t.pageSize,m()},C=D(),b=$(()=>({offsetTop:C.isUseTabsRouter?48:0,container:`.${E}-layout`})),g=d(),h=(t=0,n=0)=>{g.value.init(t,n)},x=async t=>{(await j({id:t})).code===1&&(L.success("删除成功"),m())};return(t,n)=>{const S=M,l=F,v=G,z=H,R=J,B=K,u=A("perms");return a(),i(B,{title:"收款通道账号管理",class:"basic-container",bordered:!1},{default:e(()=>[y("div",O,[y("div",Q,[f((a(),i(S,{theme:"primary",onClick:n[0]||(n[0]=o=>h(p))},{default:e(()=>[r("添加")]),_:1})),[[u,["adminapi/channel/collectionAccount/add"]]])])]),_(R,{class:"basic-table",ref:"tableRef","row-key":"id",data:c.value,columns:N(q),hover:c.value.length>0,"header-affixed-top":b.value,"max-height":"auto","table-layout":"auto",pagination:s.value,"lazy-load":"",onPageChange:k},{status:e(({row:o})=>[o.status===1?(a(),i(l,{key:0,theme:"success"},{default:e(()=>[r("启用")]),_:1})):(a(),i(l,{key:1,theme:"danger"},{default:e(()=>[r("禁用")]),_:1}))]),userid:e(({row:o})=>[o.user_id===0?(a(),i(l,{key:0},{default:e(()=>[r("平台所有")]),_:1})):(a(),i(l,{key:1},{default:e(()=>[r("商户ID "+V(o.user_id),1)]),_:2},1024))]),operate:e(({row:o})=>[_(z,null,{default:e(()=>[f((a(),i(v,{theme:"primary",size:"small",onClick:T=>h(p,o.id)},{default:e(()=>[r("编辑")]),_:2},1032,["onClick"])),[[u,["adminapi/channel/collectionAccount/edit"]]]),f((a(),i(v,{theme:"danger",size:"small",onClick:T=>x(o.id)},{default:e(()=>[r("删除")]),_:2},1032,["onClick"])),[[u,["adminapi/channel/collectionAccount/del"]]])]),_:2},1024)]),_:1},8,["data","columns","hover","header-affixed-top","pagination"]),_(I,{ref_key:"editRef",ref:g,onSuccess:m},null,512)]),_:1})}}});export{Yt as default};
