import{a as P,d as R}from"./category-amOm9UuY.js";import{p as $}from"./global-DaymibWd.js";import{d as D,e as l,k as N,l as V,f as L,o,c as i,w as e,g as C,h as d,b as s,a as u,u as M,M as A,B as U}from"./index-Bl4AiOyE.js";import{c as j,_ as q}from"./edit.vue_vue_type_script_setup_true_lang-BI4ima1D.js";import{T as E}from"./index-C23pHn_u.js";import{L as F}from"./index-DYrnlY5q.js";import{S as G}from"./index-CmSpUa39.js";import{B as H}from"./index-tzykTWLw.js";import{C as I}from"./index-DgoDdsYb.js";import"./date-Cal8LyP_.js";import"./index-CLnbRl90.js";import"./useLengthLimit-zZTqNE_r.js";import"./log-ZJhmUOBa.js";import"./useReadonly-DZtTxOfz.js";import"./const-BLdXWxIl.js";import"./useVModel-HmF1Gebj.js";import"./useResizeObserver-BUPtuDKJ.js";import"./dep-d524834c-s9Vwwbzr.js";import"./browse-CCDZKZZU.js";import"./close-circle-filled-xz65pYuL.js";import"./index-DZCrjQ_3.js";import"./dep-86139c71-_Dj3X0D4.js";import"./form-model-BN3AK5Zp.js";import"./dep-4cc4ef27-Bxo4BcuK.js";import"./dep-40320ba3-B1Ayvxeb.js";import"./index-CkUJmLKO.js";import"./helper-VFi8r3PY.js";import"./dep-af55fe23-C5ZQDf4C.js";import"./dep-96cefb8b-D_Qrr7tD.js";import"./common-CF_MvV9u.js";import"./index-BKyk21AZ.js";import"./slot-BjrDC6aI.js";import"./dep-02de0cb4-B9D_IUaB.js";import"./index-BjJKviJA.js";import"./index-BACtxuGn.js";import"./dep-eedf0c29-Hg3zrHFZ.js";import"./index-BuecJDAw.js";import"./observe-CfjnoQGd.js";import"./index-BtiChZpX.js";import"./index-CCnSBKQl.js";import"./useCommonClassName-B8MbwXBA.js";import"./number-jGqlEXl8.js";import"./index-B8hTW5gB.js";import"./index-BXun50hP.js";import"./useDefaultValue-DgMKt5hR.js";import"./chevron-left-BBFgH3SA.js";import"./chevron-right-BZPeNPTA.js";import"./useVirtualScrollNew-BJRfmUbB.js";import"./dep-1858b432-B1ibg8Ju.js";const J={class:"category-header c-flex"},K={class:"l"},Ht=D({__name:"index",setup(O){const a=l({defaultPageSize:20,total:0,defaultCurrent:1}),m=l([]),f=l(!0),n=async()=>{const{data:t}=await P({page:a.value.defaultCurrent,limit:a.value.defaultPageSize});m.value=t.list,f.value=!1,a.value={defaultPageSize:t.limit,total:t.total,defaultCurrent:t.page}};n();const y=t=>{a.value.defaultCurrent=t.current,a.value.defaultPageSize=t.pageSize,n()},k=N(),b=V(()=>({offsetTop:k.isUseTabsRouter?48:0,container:`.${$}-layout`})),_=l(),g=(t=null)=>{_.value.init(t)},x=async t=>{(await R({id:t})).code===1&&(A.success("删除成功"),n())};return(t,p)=>{const S=U,v=E,h=F,z=G,w=H,B=I,c=L("perms");return o(),i(B,{title:"文章分类管理",class:"basic-container",bordered:!1},{default:e(()=>[C("div",J,[C("div",K,[d((o(),i(S,{theme:"primary",onClick:p[0]||(p[0]=r=>g())},{default:e(()=>[s("添加")]),_:1})),[[c,["adminapi/article/articleCategory/add"]]])])]),u(w,{class:"basic-table",ref:"tableRef","row-key":"id",data:m.value,columns:M(j),hover:m.value.length>0,"header-affixed-top":b.value,"max-height":"auto","table-layout":"auto",pagination:a.value,"lazy-load":"",loading:f.value,onPageChange:y},{status:e(({row:r})=>[r.status===1?(o(),i(v,{key:0,variant:"light",theme:"success"},{default:e(()=>[s("启用")]),_:1})):(o(),i(v,{key:1,variant:"light",theme:"danger"},{default:e(()=>[s("禁用")]),_:1}))]),operate:e(({row:r})=>[u(z,null,{default:e(()=>[d((o(),i(h,{theme:"primary",size:"small",onClick:T=>g(r)},{default:e(()=>[s("编辑")]),_:2},1032,["onClick"])),[[c,["adminapi/article/articleCategory/edit"]]]),d((o(),i(h,{theme:"danger",size:"small",onClick:T=>x(r.id)},{default:e(()=>[s("删除")]),_:2},1032,["onClick"])),[[c,["adminapi/article/articleCategory/del"]]])]),_:2},1024)]),_:1},8,["data","columns","hover","header-affixed-top","pagination","loading"]),u(q,{ref_key:"editRef",ref:_,onSuccess:n},null,512)]),_:1})}}});export{Ht as default};
